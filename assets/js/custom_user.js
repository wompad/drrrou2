//Windy API Key = vJfnjvxXOQ7XdNkjcIWk1q1pTAqVgDtd

var asof = "";

var toexcel = 1;

var provinces = [];

var regions = [];

// function get_provinces_region(){

	
// }

// var provinces = [
// 	{
// 		id 		: 160200000,
// 		name 	: 'AGUSAN DEL NORTE'
// 	},
// 	{
// 		id 		: 160300000,
// 		name 	: 'AGUSAN DEL SUR'
// 	},
// 	{
// 		id 		: 166700000,
// 		name 	: 'SURIGAO DEL NORTE'
// 	},
// 	{
// 		id 		: 166800000,
// 		name 	: 'SURIGAO DEL SUR'
// 	},
// 	{
// 		id 		: 168500000,
// 		name 	: 'PROVINCE OF DINAGAT ISLANDS'
// 	},
// 	{
// 		id 		: 6,
// 		name 	: 'OTHER REGION'
// 	}
// ];

if(typeof(EventSource) !== "undefined") {
    var source = new EventSource(serverip+"check_session");
	source.addEventListener("message", function(e) {
	   if(e.data != 1){

	   		$.confirm({
			    title: 'Warning',
			    content: '<i class="fa fa-info-circle"></i> Session time-out!',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-times-circle-o"></i> Reload',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift'],
			    		action: function(){
			    			window.location.href = "/drrrou2/logout";
			            }
			    	}
			    }
			});
	   }
	}, false);
} else {
    console.log("Your browser does not support Server Events");
}

var pageid = $('#pageid');

if(pageid.length){

	if($('#user_level_access_session').text() == 'national'){

		$('#province').empty();
		$('#province').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprov').empty();
		$('#addfaminsideECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addDamprov').empty();
		$('#addDamprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfamOECprov').empty();
		$('#addfamOECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addcasualtyprov').empty();
		$('#addcasualtyprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#provinceAssistance').empty();
		$('#provinceAssistance').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#province_dam_per_brgy').empty();
		$('#province_dam_per_brgy').append(
		    "<option value=''>-- Select Province --</option>"
		);	

		$('#addfamOECprovO').empty();
		$('#addfamOECprovO').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprovprofile').empty();
		$('#addfaminsideECprovprofile').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprovfacility').empty();
		$('#addfaminsideECprovfacility').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfamNinsideECprov').empty();
		$('#addfamNinsideECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECcity').empty().append(
			"<option value=''>-- Select City/Municipality</option>"
		);

		$.getJSON(serverip+"get_region_per_session",function(a){  

		    for(var i in a){

		    	regions.push(
		    		{
		    			id 		: a[i].id,
		    			name 	: a[i].region_name
		    		}
		    	)
		    }

		});

		$.getJSON(serverip+"get_province_per_session",function(a){  

		    for(var i in a.province){

		    	provinces.push(
		    		{
		    			id 			: a.province[i].id,
		    			name 		: a.province[i].province_name,
		    			regionid 	: a.province[i].region_psgc,
		    		}
		    	)

		      $('#province').append(
		          "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addDamprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addcasualtyprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#provinceAssistance').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#province_dam_per_brgy').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprovO').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovprofile').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovfacility').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamNinsideECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		    }

		});

	}else if($('#user_level_access_session').text() == 'region'){

		$('#province').empty();
		$('#province').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprov').empty();
		$('#addfaminsideECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addDamprov').empty();
		$('#addDamprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfamOECprov').empty();
		$('#addfamOECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addcasualtyprov').empty();
		$('#addcasualtyprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#provinceAssistance').empty();
		$('#provinceAssistance').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#province_dam_per_brgy').empty();
		$('#province_dam_per_brgy').append(
		    "<option value=''>-- Select Province --</option>"
		);	

		$('#addfamOECprovO').empty();
		$('#addfamOECprovO').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprovprofile').empty();
		$('#addfaminsideECprovprofile').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECprovfacility').empty();
		$('#addfaminsideECprovfacility').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfamNinsideECprov').empty();
		$('#addfamNinsideECprov').append(
		    "<option value=''>-- Select Province --</option>"
		);

		$('#addfaminsideECcity').empty().append(
			"<option value=''>-- Select City/Municipality</option>"
		);

		$.getJSON(serverip+"get_province_per_session",function(a){  

		    for(var i in a.province){

		    	provinces.push(
		    		{
		    			id 		: a.province[i].id,
		    			name 	: a.province[i].province_name
		    		}
		    	)

		      $('#province').append(
		          "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addDamprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addcasualtyprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#provinceAssistance').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#province_dam_per_brgy').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprovO').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovprofile').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovfacility').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamNinsideECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		    }

		});

	}else if($('#user_level_access_session').text() == 'province'){

		$('#province').empty();
		$('#addfaminsideECprov').empty();
		$('#addDamprov').empty();
		$('#addfamOECprov').empty();
		$('#addcasualtyprov').empty();
		$('#provinceAssistance').empty();
		$('#province_dam_per_brgy').empty();
		$('#addfamOECprovO').empty();
		$('#addfaminsideECprovprofile').empty();
		$('#addfaminsideECprovfacility').empty();
		$('#addfamNinsideECprov').empty();
 	
		$('#addfaminsideECcity').empty().append(
			"<option value=''>-- Select City/Municipality</option>"
		);

		$.getJSON(serverip+"get_province_per_session",function(a){ 

			for(var t in a.province_all){

				$('#addfamOECprovO').append(
			      	  "<option value='"+a.province_all[t].id+"'>"+a.province_all[t].province_name+"</option>"
			    )

			} 

			for(var i in a.muni_all){

		      $('#addfamOECcityO').append(
		          "<option value='"+a.muni_all[i].id+"'>"+a.muni_all[i].municipality_name+"</option>"
		      )

		    }

		    for(var i in a.province){

		    	provinces.push(
		    		{
		    			id 		: a.province[i].id,
		    			name 	: a.province[i].province_name
		    		}
		    	)

		      $('#province').append(
		          "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addDamprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addcasualtyprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#provinceAssistance').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#province_dam_per_brgy').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprovO').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprovO').val($('#provinceid_session').text());

		      $('#addfaminsideECprovprofile').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovfacility').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamNinsideECprov').append(
		      	  "<option value='"+a.province[i].id+"' selected='selected'>"+a.province[i].province_name+"</option>"
		      )

		    }

		    for(var i in a.muni){

		      $('#addDamcity').append(
		          "<option value='"+a.muni[i].id+"'>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#city_dam_per_brgy').append(
		          "<option value='"+a.muni[i].id+"'>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfaminsideECcity').append(
		          "<option value='"+a.muni[i].id+"'>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfamOECcity').append(
		          "<option value='"+a.muni[i].id+"'>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfamNinsideECcity').append(
		          "<option value='"+a.muni[i].id+"'>"+a.muni[i].municipality_name+"</option>"
		      )

		    }

		    autocompleteOriginProvince();

		});

	}else if($('#user_level_access_session').text() == 'municipality'){

		$('#province').empty();
		$('#addfaminsideECprov').empty();
		$('#addDamprov').empty();
		$('#addfamOECprov').empty();
		$('#addcasualtyprov').empty();
		$('#provinceAssistance').empty();
		$('#province_dam_per_brgy').empty();
		$('#addfamOECprovO').empty();
		$('#addfaminsideECprovprofile').empty();
		$('#addfaminsideECprovfacility').empty();
		$('#addfamNinsideECprov').empty();

		$.getJSON(serverip+"get_province_per_session",function(a){ 

			for(var t in a.province_all){

				$('#addfamOECprovO').append(
			      	  "<option value='"+a.province_all[t].id+"'>"+a.province_all[t].province_name+"</option>"
			    )

			}

			for(var i in a.muni_all){

		      $('#addfamOECcityO').append(
		          "<option value='"+a.muni_all[i].id+"'>"+a.muni_all[i].municipality_name+"</option>"
		      )

		    }

			$('#addfamOECprovO').val($('#provinceid_session').text());

			console.log(a.province);

			for(var i in a.province){

		    	provinces.push(
		    		{
		    			id 		: a.province[i].id,
		    			name 	: a.province[i].province_name
		    		}
		    	)

		      $('#province').append(
		          "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamOECprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addDamprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addcasualtyprov').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#provinceAssistance').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#province_dam_per_brgy').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      
		      $('#addfaminsideECprovprofile').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfaminsideECprovfacility').append(
		      	  "<option value='"+a.province[i].id+"' selected>"+a.province[i].province_name+"</option>"
		      )

		      $('#addfamNinsideECprov').append(
		      	  "<option value='"+a.province[i].id+"'>"+a.province[i].province_name+"</option>"
		      )

		    }

		    for(var i in a.muni){

		      $('#addDamcity').empty().append(
		          "<option value='"+a.muni[i].id+"' selected>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#city_dam_per_brgy').empty().append(
		          "<option value='"+a.muni[i].id+"' selected>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfaminsideECcity').empty().append(
		          "<option value='"+a.muni[i].id+"' selected>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfamOECcity').empty().append(
		          "<option value='"+a.muni[i].id+"' selected>"+a.muni[i].municipality_name+"</option>"
		      )

		      $('#addfamNinsideECcity').empty().append(
		          "<option value='"+a.muni[i].id+"' selected>"+a.muni[i].municipality_name+"</option>"
		      )

		    }

		    for(var i in a.muni_all){

		      $('#addfamOECcityO').append(
		          "<option value='"+a.muni_all[i].id+"'>"+a.muni_all[i].municipality_name+"</option>"
		      )

		    }


		    autocompleteEC();
		    autocompleteOriginProvince_session();
		    autocompleteOrigin();

		    addfacOECCity_session();

		    get_brgy_session();
			
		});

	}
}

var rs = [];

$('#newreporttitle').attr("disabled",1);
	

//get_province();

get_all_region();

var tblmswd = $('#tbl_mswdo');
if(tblmswd.length){
	get_mswdo();
}

var cmatleader = $('#tbl_cmatleader');
if(cmatleader.length){
	get_matleader();
}

getDisaster();

var evac_stats = $("#evac_stats");
if(evac_stats.length){
	//getURL();

	// function getURL(){

	// 	var t = window.location.href;
	// 	t = t.split("=");
	// 	var st = t[1];
	// 	st = st.replace(/\D/g,'');

	// 	get_dromic(st);

	// }

	get_dromic(URLID());
}

var mswdid;
var matleaderid;
var matmemberid;
var dtable;
var newreptitle = [];
var fnfi_list = [];

var newi = 0;
$('[data-toggle="tooltip"]').tooltip();

function URLID(){

	var t = window.location.href;
	t = t.split("=");
	var st = t[1];
	if(typeof st !== "undefined"){
		st = st.replace(/\D/g,'');
		return st;
	}

}

function alerts(){
	$.confirm({
	    title: '',
	    content: 'Data successfully saved',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Okay',
	    		btnClass: 'btn-blue',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function msgbox(message){
	$.confirm({
	    title: 'Warning!',
	    content: message,
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Okay',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function alertError(){
	$.confirm({
	    title: '',
	    content: 'Error in saving data',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-times"></i> Okay',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function alertRowErr(){
	$.confirm({
	    title: '',
	    content: 'Row cannot be removed!',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-times"></i> Close',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function alertQRTNumberExist(){
	$.confirm({
	    title: '',
	    content: 'QRT Team Number Already Exist',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-times"></i> Close',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function alertnoNumber(){
	$.confirm({
	    title: '',
	    content: '<i class="fa fa-info-circle"></i> Please enter valid recipients',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-times-circle-o"></i> Okay',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}

function alertnoQRTNumber(){
	$.confirm({
	    title: '',
	    content: '<i class="fa fa-info-circle"></i> Kindly fill [QRT Team Number, Team Leader, Statistician] to continue!',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-times-circle-o"></i> Okay',
	    		btnClass: 'btn-danger',
	    		keys: ['enter', 'shift']
	    	}
	    }
	});
}


function resetAll(){

	$('#fullname').val('');
	$('#mayor').val('');
	$('#vmayor').val('');
	$('#province').val('');
	$('#city').empty().append(
        "<option value=''>-- Select City/Municipality --</option>"
    )
	$('#mobile').val('');
	$('#telephone').val('');
	$('#emailadd').val('');

	$('#savedata_mswd').prop('disabled',false);
	$('#updatedata_mswd').prop('disabled',true);
	$('#deletedata_mswd').prop('disabled',true);

}

function resetAllMAT(){

	$('#fullname').val('')
	$('#position').val('')
	$('#program').val('')
	$('#gender').val('')
	$('#yearinservice').val('')
	$('#course').val('')
	$('#province').val('')
	$('#city').empty().append(
        "<option value=''>-- Select City/Municipality --</option>"
    )
	$('#mobile').val('')
	$('#emailadd').val('')

	$('#savedata_mat').prop('disabled',false);
	$('#updatedata_mat').prop('disabled',true);
	$('#deletedata_mat').prop('disabled',true);

}

function resetAllMATMEMBER(){

	$('#fullname').val('')
	$('#position').val('')
	$('#program').val('')
	$('#gender').val('')
	$('#province').val('')
	$('#city').empty().append(
        "<option value=''>-- Select City/Municipality --</option>"
    )
	$('#mobile').val('')
	$('#emailadd').val('')

	$('#savedata_matmember').prop('disabled',false);
	$('#updatedata_matmember').prop('disabled',true);
	$('#deletedata_matmember').prop('disabled',true);

}

function enablebuttons(){
	$('#savedata_mswd').prop('disabled',true);
	$('#updatedata_mswd').prop('disabled',false);
	$('#deletedata_mswd').prop('disabled',false);
}

function enablebuttonsMAT(){
	$('#savedata_mat').prop('disabled',true);
	$('#updatedata_mat').prop('disabled',false);
	$('#deletedata_mat').prop('disabled',false);
}

function enablebuttonsMATMEMBER(){
	$('#savedata_matmember').prop('disabled',true);
	$('#updatedata_matmember').prop('disabled',false);
	$('#deletedata_matmember').prop('disabled',false);
}

// C/MSWDO Functions =====================================================================================================================================================================

function get_mswdo(){

	// if(dtable){
	// 	dtable.destroy();
	// }

	$('#tbl_mswdo tbody').empty();

	$.getJSON(serverip+"get_mswdo",function(a){  

	    for(var i in a){
	      $('#tbl_mswdo tbody').append(
	          "<tr style='cursor:pointer' title='Click on each row to edit/delete data' onclick='passmswdData("+a[i].id+")'>"+
	          	"<td style='font-size:12px'>"+a[i].fullname+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].mayor+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].vmayor+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].province_name+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].municipality_name+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].mobile+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].telephone+"</td>"+
	          	"<td style='font-size:12px'>"+a[i].emailaddress+"</td>"+
	          "</tr>"
	      )
	    }

	    $('#tbl_mswdo .mswd_filters td').each( function () {
	        var title = $('#tbl_mswdo thead th').eq( $(this).index() ).text();
	        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
	    } );
 

	    var dtable = $('#tbl_mswdo').DataTable({
	    	pageLength 		: 20,
	    	bLengthChange 	: !1,
	    	bSort 			: !1
	    });

	    dtable.columns().eq( 0 ).each( function ( colIdx ) {
	        $( 'input', $('.mswd_filters td')[colIdx] ).on( 'keyup change', function () {
	            dtable
	                .column( colIdx )
	                .search( this.value )
	                .draw();
	        } );
	    } );

	    $('#tbl_mswdo_filter').hide();

	    //dtable = $('#tbl_mswdo').DataTable();

	});	

}

get_fnfi();
var fnfi = [];
var fnfi_full = [];

function get_fnfi(){

	$.getJSON(serverip+"get_fnfi",function(a){  

		for(var t in a){
			fnfi.push(a[t].fnfi_name);
			fnfi_full.push(a[t]);
		}

		$("#fnfiassistance").autocomplete({
			source : fnfi
		});
	})
}	

$('#fnfiassistance').blur(function(){

	var a = $(this).val();
	for(var i in fnfi_full){
		if(fnfi_full[i]['fnfi_name'].toLowerCase() == a.toLowerCase()){
			$('#fnficost').val(fnfi_full[i]['cost']);
		}
	}

	var tstring = a.toLowerCase();

	if(tstring.includes("family food pack")){

		$('#fnfistype').val("ffp");

	}else if(tstring.includes("hygiene kit")){

		$('#fnfistype').val("hygiene");

	}else if(tstring.includes("sleeping kit")){

		$('#fnfistype').val("sleeping");

	}else if(tstring.includes("ready to eat food")){

		$('#fnfistype').val("rtef");

	}else if(tstring.includes("high energy biscuit")){

		$('#fnfistype').val("heb");

	}else if(tstring.includes("family kit")){

		$('#fnfistype').val("family");

	}else if(tstring.includes("potable water")){

		$('#fnfistype').val("potable");

	}else if(tstring.includes("kitchen kit")){

		$('#fnfistype').val("kitchen");

	}else if(tstring.includes("shelter kit")){

		$('#fnfistype').val("shelter");

	}else{

		$('#fnfistype').val("other");

	}

})


function get_all_region(){

	$('#region').empty();
	$('#region').append(
	    "<option value=''>-- Select Region --</option>"
	);

	$.getJSON(serverip+"get_region",function(a){

		//console.log(a);

	});

}

// function get_province(){

// 	$('#province').empty();
// 	$('#province').append(
// 	    "<option value=''>-- Select Province --</option>"
// 	);	

// 	$.getJSON(serverip+"get_province",function(a){  

// 	    for(var i in a){
// 	      $('#province').append(
// 	          "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addfaminsideECprov').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addDamprov').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addfamOECprov').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addcasualtyprov').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#provinceAssistance').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#province_dam_per_brgy').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addfamOECprovO').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addfaminsideECprovprofile').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	      $('#addfaminsideECprovfacility').append(
// 	      	  "<option value='"+a[i].id+"'>"+a[i].province_name+"</option>"
// 	      )

// 	    }

// 	});

// }

$('#province').change(function(){

	var pid = $('#province').val();	

	$('#city').empty();
	$('#city').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#city').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})

$('#provinceAssistance').change(function(){

	var pid = $('#provinceAssistance').val();	

	$('#cityAssistance').empty();
	$('#cityAssistance').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#cityAssistance').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})

//latest

$('#addfaminsideECprov').change(function(){

	var pid = $('#addfaminsideECprov').val();	

	$('#addfaminsideECcity').empty();
	$('#addfaminsideECcity').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#addfaminsideECcity').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

	autocompleteOriginProvince();

})

$('#addfamNinsideECprov').change(function(){

	var pid = $('#addfamNinsideECprov').val();	

	$('#addfamNinsideECcity').empty();
	$('#addfamNinsideECcity').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#addfamNinsideECcity').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})

$('#addDamprov').change(function(){

	var pid = $('#addDamprov').val();	

	$('#addDamcity').empty();
	$('#addDamcity').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#addDamcity').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})

// $('#addDamcity').change(function(){

// 	var datas = {
// 		id 					: $(this).val(),
// 		disaster_title_id 	: URLID()
// 	}

// 	$.getJSON(serverip+"check_municipality_in_damass",datas,function(a){  
// 		if(a > 0){
// 			msgbox("Municipality already exist. Kindly check on Damage and Assistance Tab and double the entry to update data!");
// 			$('#addDamcity').val('');
// 		}
// 	});

// })

$('#addfamOECprov').change(function(){

	var pid = $('#addfamOECprov').val();	

	$('#addfamOECcity').empty();
	$('#addfamOECcity').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#addfamOECcity').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )

	    		$('#addfamOECcityO').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )

	    	}
	    }
	});

	$('#addfamOECprovO').val(pid);

})

$('#addfamOECprovO').change(function(){

	var pid = $('#addfamOECprovO').val();	

	$('#addfamOECcityO').empty();
	$('#addfamOECcityO').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){

	    		$('#addfamOECcityO').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )

	    	}
	    }
	});

	$('#addfamOECprovO').val(pid);

})

function addfacOECCity_session(){

	var cid = $('#addfamOECcity').val()

	var datas = {
		cid 	: cid	
	};

	$('#addfamOECbrgy').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$('#addfamOECbrgyO').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$('#addfamOECcityO').val(cid);

	$.getJSON(serverip+"getAllOriginBrgy",datas,function(a){

		for(var t in a){
			$('#addfamOECbrgy').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);

			$('#addfamOECbrgyO').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);

		}

		$('#addfamOECbrgy').append(
			"<option value='0'>NOT INDICATED</option>"
		);

		$('#addfamOECbrgyO').append(
			"<option value='OTHERS'>OTHERS</option>"
		);

	});

}

$('#addfamOECcity').change(function(){

	$('#addfamOECcityO').val($(this).val())

	var cid = $(this).val()

	var datas = {
		cid 	: cid	
	};

	$('#addfamOECbrgy').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$('#addfamOECbrgyO').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);


	$.getJSON(serverip+"getAllOriginBrgy",datas,function(a){

		for(var t in a){
			$('#addfamOECbrgy').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);

			$('#addfamOECbrgyO').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);

		}

		$('#addfamOECbrgy').append(
			"<option value='0'>NOT INDICATED</option>"
		);

		$('#addfamOECbrgyO').append(
			"<option value='OTHERS'>OTHERS</option>"
		);

	});


})

$('#addfamOECcityO').change(function(){

	var cid = $(this).val()

	var datas = {
		cid 	: cid	
	};


	$('#addfamOECbrgyO').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);


	$.getJSON(serverip+"getAllOriginBrgy",datas,function(a){

		for(var t in a){

			$('#addfamOECbrgyO').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);

		}

		$('#addfamOECbrgyO').append(
			"<option value='OTHERS'>OTHERS</option>"
		);

	});


})

$('#addfamOECbrgy').change(function(){

	$('#addfamOECbrgyO').val($(this).val())

	if($('#addfamOECbrgyO').val() == "OTHERS"){
		$('#addfamOECbrgyOothers').prop("disabled",false);
	}else{
		$('#addfamOECbrgyOothers').prop("disabled",true);
	}

})

$('#addfamOECbrgyO').change(function(){

	if($(this).val() == "OTHERS"){
		$('#addfamOECbrgyOothers').prop("disabled",false);
	}else{
		$('#addfamOECbrgyOothers').prop("disabled",true);
	}

})

$('#addcasualtyprov').change(function(){

	var pid = $('#addcasualtyprov').val();	

	$('#addcasualtycity').empty();
	$('#addcasualtycity').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#addcasualtycity').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})

$('#province_dam_per_brgy').change(function(){

	var pid = $('#province_dam_per_brgy').val();	

	$('#city_dam_per_brgy').empty();
	$('#city_dam_per_brgy').append(
	    "<option value=''>-- Select City/Municipality --</option>"
	);

	$.getJSON(serverip+"get_municipality",function(a){  
	    for(var i in a){
	    	if(pid == a[i].provinceid){
	    		$('#city_dam_per_brgy').append(
			        "<option value='"+a[i].id+"'>"+a[i].municipality_name+"</option>"
			    )
	    	}
	    }
	});

})


$('#savedata_mswd').click(function(){

	var datas = {
		fullname 	: $('#fullname').val(),
		mayor		: $('#mayor').val(),
		vmayor		: $('#vmayor').val(),
		province 	: $('#province').val(),
		city 		: $('#city').val(),
		mobile 		: $('#mobile').val(),
		telephone 	: $('#telephone').val(),
		emailadd 	: $('#emailadd').val()
	}

	$.getJSON(serverip+"insert_mswdo",datas,function(a){  
	    if(a == 1){
	    	alerts();
	    	get_mswdo();
	    	resetAll();
	    }else{
	    	alert("Database error!");
	    }
	});

})

function passmswdData(e){

	var datas = {
		id : e
	}

	mswdid = e;
	
	$.getJSON(serverip+"get_mswdinfo",datas,function(a){  

	    for(var i in a){
	      	$('#fullname').val(a[i].fullname);
			$('#mayor').val(a[i].mayor);
			$('#vmayor').val(a[i].vmayor);
			$('#province').val(a[i].province_id);

			$.getJSON(serverip+"get_municipality",function(rs){  
				$('#city').empty();
			    for(var j in rs){
			    	if(a[i].province_id == rs[j].provinceid){
			    		$('#city').append(
					        "<option value='"+rs[j].id+"'>"+rs[j].municipality_name+"</option>"
					    )
			    	}
			    }

			    $('#city').val(a[i].municipality_id);
			});

			$('#mobile').val(a[i].mobile);
			$('#telephone').val(a[i].telephone);
			$('#emailadd').val(a[i].emailaddress);	

	    }

	    enablebuttons();

	});

}

$('#updatedata_mswd').click(function(){

	var datas = {
		id 			: mswdid,
		fullname 	: $('#fullname').val(),
		mayor		: $('#mayor').val(),
		vmayor		: $('#vmayor').val(),
		province 	: $('#province').val(),
		city 		: $('#city').val(),
		mobile 		: $('#mobile').val(),
		telephone 	: $('#telephone').val(),
		emailadd 	: $('#emailadd').val()
	};

	$.getJSON(serverip+"update_mswd",datas,function(a){  
		if(a == 1){
			alerts();
			get_mswdo();
	    	resetAll();
		}else{
			alert("Database error!");
		}
	});

});

$('#deletedata_mswd').click(function(){

	var datas = {
		id 	: mswdid
	};

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Are you sure you want to delete this data? This action cannot be undone.',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
	    		action: function(){
	    			$.getJSON(serverip+"delete_mswd",datas,function(a){
	    				$.alert('Data successfully deleted!');
	    				get_mswdo();
	                	resetAll();
	    			});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue'
	    	}
	    }
	});

});

// MAT Leader Function =================================================================================================================================================

function get_matleader(){

	$('#tbl_cmatleader tbody').empty();

	$.getJSON(serverip+"get_matleader",function(a){  
		// title='Click on each row to edit/delete data' onclick='passmatleaderData("+a[i].id+")'
		for(var i in a){
	      $('#tbl_cmatleader tbody').append(
	          "<tr style='cursor:pointer'>"+
	          	"<td style='font-size:13px; width:200px'>"+isnull(a[i].province_name).toUpperCase()+"</td>"+
	          	"<td style='font-size:13px; width:250px'>"+isnull(a[i].municipality_name).toUpperCase()+"</td>"+
	          	"<td style='font-size:13px; width:270px'>"+a[i].fullname.toUpperCase()+"</td>"+
	          	"<td style='font-size:13px; width:250px'>"+a[i].position.toUpperCase()+"</td>"+
	          	"<td style='font-size:13px'>"+a[i].program.toUpperCase()+"</td>"+
	          	"<td style='font-size:13px'>"+a[i].gender.toUpperCase()+"</td>"+
	          	"<td style='font-size:13px'>"+isnull((a[i].contact.length < 11 ? "0"+a[i].contact.replace(/[^a-zA-Z0-9;]/g, '') : a[i].contact.replace(/[^a-zA-Z0-9;]/g, '')))+"</td>"+
	          	"<td style='font-size:13px'>"+a[i].email_add+"</td>"+
	          	"<td style='font-size:13px; width:200px'>"+a[i].designation.toUpperCase()+"</td>"+
	          "</tr>"
	      )
	    }

	    $('#tbl_cmatleader .filters td').each( function () {
	        var title = $('#tbl_cmatleader thead th').eq( $(this).index() ).text();
	        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
	    } );
 

	    var dtable = $('#tbl_cmatleader').DataTable({
	    	pageLength 		: 17,
	    	bLengthChange 	: !1,
	    	bSort 			: !1
	    });

	    dtable.columns().eq( 0 ).each( function ( colIdx ) {
	        $( 'input', $('.filters td')[colIdx] ).on( 'keyup change', function () {
	            dtable
	                .column( colIdx )
	                .search( this.value )
	                .draw();
	        } );
	    } );

	    $('#tbl_cmatleader_filter').hide();

	});

	$.getJSON(serverip+"get_pats",function(a){
		for(var i in a){
			$('#tbl_patleader tbody').append(
		          "<tr style='cursor:pointer'>"+
		          	"<td style='font-size:13px; width:200px'>"+isnull(a[i].province_name).toUpperCase()+"</td>"+
		          	"<td style='font-size:13px; width:270px'>"+isnull(a[i].fullname).toUpperCase()+"</td>"+
		          	"<td style='font-size:13px; width:250px'>"+a[i].position.toUpperCase()+"</td>"+
		          	"<td style='font-size:13px'>"+a[i].program.toUpperCase()+"</td>"+
		          	"<td style='font-size:13px'>"+isnull((a[i].contact.length < 11 ? "0"+a[i].contact.replace(/[^a-zA-Z0-9;]/g, '') : a[i].contact.replace(/[^a-zA-Z0-9;]/g, '')))+"</td>"+
		          	"<td style='font-size:13px'>"+a[i].email_add+"</td>"+
		          	"<td style='font-size:13px; width:200px'>"+a[i].designation.toUpperCase()+"</td>"+
		          "</tr>"
		      )
		}

		$('#tbl_patleader .filters1 td').each( function () {
	        var title = $('#tbl_patleader thead th').eq( $(this).index() ).text();
	        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
	    } );
 

	    var dtable = $('#tbl_patleader').DataTable({
	    	pageLength 		: 17,
	    	bLengthChange 	: !1,
	    	bSort 			: !1
	    });

	    dtable.columns().eq( 0 ).each( function ( colIdx ) {
	        $( 'input', $('.filters1 td')[colIdx] ).on( 'keyup change', function () {
	            dtable
	                .column( colIdx )
	                .search( this.value )
	                .draw();
	        } );
	    } );

	    $('#tbl_patleader_filter').hide();

	});

	$.getJSON(serverip+"get_ldrrmos",function(a){
		for(var i in a){
			$('#tbl_ldrrmo tbody').append(
		          "<tr style='cursor:pointer'>"+
		          	"<td style='font-size:13px; width:200px'>"+isnull(a[i].province_name).toUpperCase()+"</td>"+
		          	"<td style='font-size:13px; width:270px'>"+isnull(a[i].municipality_name).toUpperCase()+"</td>"+
		          	"<td style='font-size:13px; width:270px'>"+a[i].fullname.toUpperCase()+"</td>"+
		          	"<td style='font-size:13px; width:250px'>"+a[i].telnum+"</td>"+
		          	"<td style='font-size:13px'>"+a[i].faxnum+"</td>"+
		          	"<td style='font-size:13px'>"+isnull((a[i].contact.length < 11 ? "0"+a[i].contact.replace(/[^a-zA-Z0-9;]/g, '') : a[i].contact.replace(/[^a-zA-Z0-9;]/g, '')))+"</td>"+
		          	"<td style='font-size:13px'>"+a[i].email_add+"</td>"+
		          "</tr>"
		      )
		}

		$('#tbl_ldrrmo .filters2 td').each( function () {
	        var title = $('#tbl_ldrrmo thead th').eq( $(this).index() ).text();
	        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
	    } );
 

	    var dtable = $('#tbl_ldrrmo').DataTable({
	    	pageLength 		: 17,
	    	bLengthChange 	: !1,
	    	bSort 			: !1
	    });

	    dtable.columns().eq( 0 ).each( function ( colIdx ) {
	        $( 'input', $('.filters2 td')[colIdx] ).on( 'keyup change', function () {
	            dtable
	                .column( colIdx )
	                .search( this.value )
	                .draw();
	        } );
	    } );

	    $('#tbl_ldrrmo_filter').hide();

	});

}

$('#savedata_mat').click(function(){

	var datas = {
		fullname 			: $('#fullname').val(),
		position			: $('#position').val(),
		program				: $('#program').val(),
		gender				: $('#gender').val(),
		yearinservice 		: $('#yearinservice').val(),
		course 				: $('#course').val(),
		provinceid 			: $('#province').val(),
		municipalityid 		: $('#city').val(),
		mobile 				: $('#mobile').val(),
		emailaddress 		: $('#emailadd').val(),
		isleader 			: 't'
	};

	$.getJSON(serverip+"insert_matleader",datas,function(a){  
		if(a == 1){
			alerts();
			get_matleader();
			resetAllMAT();
		}
	});

});

function passmatleaderData(e){

	var datas = {
		id : e
	}

	matleaderid = e;

	$.getJSON(serverip+"get_matleaderinfo",datas,function(a){

		for(var i in a){
			$('#fullname').val(a[i].fullname);
			$('#position').val(a[i].position);
			$('#program').val(a[i].program);
			$('#gender').val(a[i].gender);
			$('#yearinservice').val(a[i].yearinservice);
			$('#course').val(a[i].course);
			$('#province').val(a[i].provinceid);

			$.getJSON(serverip+"get_municipality",function(rs){  
				$('#city').empty();
			    for(var j in rs){
			    	if(a[i].provinceid == rs[j].provinceid){
			    		$('#city').append(
					        "<option value='"+rs[j].id+"'>"+rs[j].municipality_name+"</option>"
					    )
			    	}
			    }

			    $('#city').val(a[i].municipalityid);
			});

			$('#mobile').val(a[i].mobile);
			$('#emailadd').val(a[i].emailaddress);
		}

		enablebuttonsMAT();

	});

}

$('#deletedata_mat').click(function(){

	var datas = {
		id : matleaderid
	}

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Are you sure you want to delete this data? This action cannot be undone.',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
	    		keys: ['enter', 'shift'],
	    		action: function(){
	    			$.getJSON(serverip+"delete_matleader",datas,function(a){
	    				$.alert({
		                	title : '',
		                	content : 'Data successfully deleted!',
		                	buttons: {
		                		a: {
		                			text: '<i class="fa fa-check"></i> Okay',
		    						btnClass: 'btn-dark',
		                		}
		                	}
		                });
	    				get_matleader();
	                	resetAllMAT();
	    			});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue',
	    		action : function(){
	    			resetAllMAT();
	    		}
	    	}
	    }
	});
})

$('#updatedata_mat').click(function(){

	var datas = {
		id 					: matleaderid,
		fullname 			: $('#fullname').val(),
		position			: $('#position').val(),
		program				: $('#program').val(),
		gender				: $('#gender').val(),
		yearinservice 		: $('#yearinservice').val(),
		course 				: $('#course').val(),
		provinceid 			: $('#province').val(),
		municipalityid 		: $('#city').val(),
		mobile 				: $('#mobile').val(),
		emailaddress 		: $('#emailadd').val()
	};

	$.getJSON(serverip+"update_matleader",datas,function(a){  
		if(a == 1){
			alerts();
			get_matleader();
			resetAllMAT();
		}else{
			alert("Database error!");
		}
	});

});


// CMAT Member Function=====================================================================================================================================================================

// function get_matmember(){

// 	if(dtable){
// 		dtable.destroy();
// 	}

// 	$('#tbl_cmatmember tbody').empty();

// 	$.getJSON(serverip+"get_matmember",function(a){  

// 		for(var i in a){
// 	      $('#tbl_cmatmember tbody').append(
// 	          "<tr style='cursor:pointer' title='Click on each row to edit/delete data' onclick='passmatmemberData("+a[i].id+")'>"+
// 	          	"<td style='font-size:10px'>"+a[i].fullname+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].position+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].program+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].gender+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].province_name+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].municipality_name+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].mobile+"</td>"+
// 	          	"<td style='font-size:10px'>"+a[i].emailaddress+"</td>"+
// 	          "</tr>"
// 	      )
// 	    }

// 	    dtable = $('#tbl_cmatmember').DataTable();

// 	});

// }

$('#savedata_matmember').click(function(){

	var datas = {
		fullname 			: $('#fullname').val(),
		position			: $('#position').val(),
		program				: $('#program').val(),
		gender				: $('#gender').val(),
		yearinservice 		: 0,
		course 				: 'NA',
		provinceid 			: $('#province').val(),
		municipalityid 		: $('#city').val(),
		mobile 				: $('#mobile').val(),
		emailaddress 		: $('#emailadd').val(),
		isleader 			: 'f'
	};

	$.getJSON(serverip+"insert_matleader",datas,function(a){  
		if(a == 1){
			alerts();
			get_matmember();
			resetAllMAT();
		}
	});

});

function passmatmemberData(e){

	var datas = {
		id : e
	}

	matleaderid = e;

	$.getJSON(serverip+"get_matleaderinfo",datas,function(a){

		for(var i in a){
			$('#fullname').val(a[i].fullname);
			$('#position').val(a[i].position);
			$('#program').val(a[i].program);
			$('#gender').val(a[i].gender);
			$('#province').val(a[i].provinceid);

			$.getJSON(serverip+"get_municipality",function(rs){  
				$('#city').empty();
			    for(var j in rs){
			    	if(a[i].provinceid == rs[j].provinceid){
			    		$('#city').append(
					        "<option value='"+rs[j].id+"'>"+rs[j].municipality_name+"</option>"
					    )
			    	}
			    }

			    $('#city').val(a[i].municipalityid);
			});

			$('#mobile').val(a[i].mobile);
			$('#emailadd').val(a[i].emailaddress);
		}

		enablebuttonsMATMEMBER();

	});

}


$('#updatedata_matmember').click(function(){

	var datas = {
		id 					: matleaderid,
		fullname 			: $('#fullname').val(),
		position			: $('#position').val(),
		program				: $('#program').val(),
		gender				: $('#gender').val(),
		yearinservice 		: 0,
		course 				: '',
		provinceid 			: $('#province').val(),
		municipalityid 		: $('#city').val(),
		mobile 				: $('#mobile').val(),
		emailaddress 		: $('#emailadd').val(),
		isleader 			: 'f'
	};

	$.getJSON(serverip+"update_matleader",datas,function(a){  
		if(a == 1){
			alerts();
			get_matmember();
			resetAllMATMEMBER();
		}else{
			alert("Database error!");
		}
	});

});

$('#deletedata_matmember').click(function(){

	var datas = {
		id : matleaderid
	}

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Are you sure you want to delete this data? This action cannot be undone.',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
	    		keys: ['enter', 'shift'],
	    		action: function(){
	    			$.getJSON(serverip+"delete_matleader",datas,function(a){
	    				$.alert({
		                	title : '',
		                	content : 'Data successfully deleted!',
		                	buttons: {
		                		a: {
		                			text: '<i class="fa fa-check"></i> Okay',
		    						btnClass: 'btn-dark',
		                		}
		                	}
		                });
	    				get_matmember();
	                	resetAllMATMEMBER();
	    			});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue',
	    		action : function(){
	    			resetAllMATMEMBER();
	    		}
	    	}
	    }
	});
})

// Select Contacts=======================================================================================================================================================================

$('#selectcontact').change(function(){

	var e = $(this).val();

	$('#tbl_selectcontact tbody').empty();

	if(e != ""){
		if(e == 1){
			$.getJSON(serverip+"get_mswdo",function(a){  
				for(var i in a){
					$('#tbl_selectcontact tbody').append(
						"<tr>"+
							"<td style='text-align:center'><input type='checkbox' name='numbers' value='"+a[i].mobile+"' onclick='passNumber()'></td>"+
							"<td>"+a[i].fullname+"</td>"+
							"<td>"+a[i].municipality_name+"</td>"+
							"<td>"+a[i].mobile+"</td>"+
						"</tr>"
					)
				}
			});
		}else if(e == 2){
			$.getJSON(serverip+"get_matleader",function(a){  
				for(var i in a){
					$('#tbl_selectcontact tbody').append(
						"<tr>"+
							"<td style='text-align:center'><input type='checkbox' name='numbers' value='"+a[i].mobile+"' onclick='passNumber()'></td>"+
							"<td>"+a[i].fullname+"</td>"+
							"<td>"+a[i].municipality_name+"</td>"+
							"<td>"+a[i].mobile+"</td>"+
						"</tr>"
					)
				}
			});
		}else{
			$.getJSON(serverip+"get_matmember",function(a){  
				for(var i in a){
					$('#tbl_selectcontact tbody').append(
						"<tr>"+
							"<td style='text-align:center'><input type='checkbox' name='numbers' value='"+a[i].mobile+"' onclick='passNumber()'></td>"+
							"<td>"+a[i].fullname+"</td>"+
							"<td>"+a[i].municipality_name+"</td>"+
							"<td>"+a[i].mobile+"</td>"+
						"</tr>"
					)
				}
			});
		}
	}else{
		$('#tbl_selectcontact tbody').empty();
	}

})

$('#checkallnumber').click(function(){

	var e = $('[name="numbers"]');

	var str = "";

	if($(this).is(':checked') == 1){

		for(var i = 0 ; i < e.length ; i++){
			e[i].checked = 1;
		}

		for(var i = 0 ; i < e.length ; i++){
			if(e[i].checked == 1){
				if(e[i].value != ""){
					str = str + e[i].value + ";";
				}
			}
		}

		$('#allnumbers').val(str);

	}else{
		for(var i = 0 ; i < e.length ; i++){
			e[i].checked = 0;
			$('#allnumbers').val('');
		}
	}

});

function passNumber(){

	var e = $('[name="numbers"]');

	var str = "";

	for(var i = 0 ; i < e.length ; i++){
		if(e[i].checked == 1){
			if(e[i].value != ""){
				str = str + e[i].value + ";";
			}
		}
	}

	$('#allnumbers').val(str);
}	


// New Dromic =============================================================================================================================================================

function getDisaster(){

	$('#tbl_disaster tbody').empty();

	newreptitle = [];

	var datas = {
		usernameid : $('#usernameid').text()
	}

	$.getJSON(serverip+"getdisaster",datas,function(a){

		for(var i in a){
			if(Number(a[i].tcount) == 0){
				var disabled = "0";
				var dis = "disabled";
			}else{
				var disabled = "disabled";
				var dis = "0";
			}

			newreptitle.push({
				id 		: a[i].id,
				title 	: a[i].disaster_name
			})

			$('#tbl_disaster tbody').append(
				"<tr>"+
					"<td>"+a[i].disaster_name+"</td>"+
					"<td style='text-align:center'>"+todate(a[i].disaster_date)+"</td>"+
					"<td style='width:50%'>"+
						"<button type='button' class='btn btn-danger btn-xs' "+disabled+" data-toggle='tooltip' title='Create new DROMIC statistical report' onclick='addnewReport("+a[i].id+")'> <i class='fa fa-plus-circle'></i> Create New Report</button>"+
						"<button type='button' class='btn btn-primary btn-xs' onclick='viewDetailsPrev("+a[i].maxid+")' "+dis+" data-toggle='tooltip' title='Load latest report to update details and save as new record'><i class='fa fa-cogs'></i> LoadLatestReport</button>"+
						"<button type='button' class='btn btn-success btn-xs' onclick='viewPrevious("+a[i].id+")' "+dis+" data-toggle='tooltip' title='View previously made reports'><i class='fa fa-eye'></i> ViewPreviousReports</button>"+
						"<button type='button' class='btn btn-warning btn-xs' onclick='editDromicReport("+a[i].id+")' "+dis+" data-toggle='tooltip' title='View previously made reports'><i class='fa fa-edit'></i> Edit Details</button>"+
					"</td>"+
				"<tr>"
			)


			var d = new Date(a[i].disaster_date);

			var d2 = new Date();

			if(d.getFullYear() == d2.getFullYear()){

				$('#current_situations').append(
				    "<li style='font-size:20px'>"+
			            "<div class='block'>"+
			              "<div class='block_content'>"+
			                "<h2 class='title'>"+
			                    "<a style='font-size:13px; cursor:pointer' data-toggle='tooltip' title='Click to view latest report.' onclick='viewDetailsPrev("+a[i].maxid+")'>"+a[i].disaster_name+"</a>"+
			                "</h2>"+
			              "</div>"+
			            "</div>"+
			        "</li>"
				)
			}

		}


		$('[data-toggle="tooltip"]').tooltip();


	})

};

$('#addDromic').click(function(){

	var datas = {
		disaster_name 		: $('#disaster_name').val(),
		disaster_date 		: $('#disaster_date').val(),
		created_by_user 	: $('#usernameid').text()
	};


	if(datas.disaster_name == "" || datas.disaster_date == ""){
		$.confirm({
		    title: 'Warning',
		    content: '<i class="fa fa-info-circle"></i> Disaster Name and Disaster Date must not be blank!',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Close',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
		$.getJSON(serverip+"addnew_disaster",datas,function(a){  
			if(a == 1){
				alerts();
				getDisaster();
				$('#disaster_name').val('');
				$('#disaster_date').val('');
			}
		});
	}

})

// Send SMS ===========================================================================================================================================================

$('#sendsms').click(function(){

	var numbers = $('#allnumbers').val();

	if(numbers == ""){
		alertnoNumber();
	}else{

		numbers = numbers.split(';');

		jQuery.each(numbers, function(i) {
		    setTimeout(function() {
		        var datas = {
					number 	: numbers[i],
					body 	: $('#smsbody').val() + " " + $('#postsmsbody').val()
				}

				$.getJSON(serverip+"sendsms",datas,function(a){})
		    }, 2000*i);
		});

		$('#sendsmsModal').modal('show');

		setTimeout(function() {
	        $('#sendsmsModal').modal('hide');
	    }, 2000*numbers.length);
	}

});


var chart_affprov = [];
var chart_affprovdrill = [];
var chart_affmunisall = [];

function get_narrative_report(){

	var datas = {

		id : URLID()

	}

	$.getJSON(serverip+"get_narrative_report",datas,function(a){

		if(a == 0){
			console.log("No narrative report");
		}else{

			$('#frame_narrative_report').attr('src',a.narrative_report[0].file);

		}

	});


}

var brgy_locx = [];

function get_dromic(n){

	if($('#user_level_access_session').text() == 'national'){

		brgy_locx = [];

		var datum = {

			username 	: $('#usernameid').text(),
			id 			: n

		}

		$('#updateassistance_spec').hide();
		$('#saveassistance').show();

		$('#editasstfnfi').hide();
		$('#addasstfnfi').show();

		$('#tbl_sex_age_distribution_list tbody').empty();

		$('#tbl_evauation_facility_list tbody').empty();


		$('#saveasnewrecord').hide();
		$('#addfamiecs').hide();
		$('#adddamass').hide();
		$('#addfamoec').hide();
		$('#addcasualtybtn').hide();
		//$('#exporttoexcel').hide();
		$('#savedata_dam_per_brgy').hide();
		$('#updatedata_dam_per_brgy').hide();
		$('#deldata_dam_per_brgy').hide();
		$('#saveassistance').hide();

		$('#can_edit').text('f');

		get_narrative_report();

		$.getJSON(serverip+"get_can_view",datum,function(a){

			if(a == 0){

				$.confirm({
				    title: '<span class="red">Warning!</span>',
				    content: 'You\'re not allowed to perform this action. Kinly contact the administrator.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-red',
				    		keys: ['enter', 'shift'],
				    		action: function(){

				    			window.location.href = "https://apps2.caraga.dswd.gov.ph/drrrou/dashboard";

				            }
				    	}
				    }
				});
			
			}else{


				$.getJSON(serverip+"get_can_edit",datum,function(a){

					if(a == 0){

						$('#saveasnewrecord').hide();
						$('#addfamiecs').hide();
						$('#adddamass').hide();
						$('#addfamoec').hide();
						$('#addcasualtybtn').hide();
						//$('#exporttoexcel').hide();
						$('#savedata_dam_per_brgy').hide();
						$('#updatedata_dam_per_brgy').hide();
						$('#deldata_dam_per_brgy').hide();
						$('#saveassistance').hide();

						$('#can_edit').text('f');

					}else{

						$('#saveasnewrecord').show();
						$('#addfamiecs').show();
						$('#adddamass').show();
						$('#addfamoec').show();
						$('#addcasualtybtn').show();
						$('#exporttoexcel').show();
						$('#savedata_dam_per_brgy').show();
						//$('#updatedata_dam_per_brgy').show();
						$('#saveassistance').show();

						$('#can_edit').text('t');

					}

				});

				get_comments();

				

				// $('#loader').show();

				var datas = {
					id : n
				}

				var t = 0;

				$.getJSON(serverip+"get_evac_stats",datas,function(a){

					rs = a;	
					// console.log(rs);
					$('#loader').hide();


					$("#evac_stats tbody").empty();

					var nopen = 0;
					var exist = 0;
					var close = 0;
					var reactivated = 0;

					for(var ki in rs.queryecs){
						if(rs.queryecs[ki].ec_status == "Newly-Opened"){
							nopen += 1;
						}
						if(rs.queryecs[ki].ec_status == "Existing"){
							exist += 1;
						}
						if(rs.queryecs[ki].ec_status == "Closed"){
							close += 1;
						}
						if(rs.queryecs[ki].ec_status == "Re-activated"){
							reactivated += 1;
						}
					}

					$('#count_ec').empty();

					$('#count_ec').append("| # of Newly-Opened ECs: " + nopen);
					$('#count_ec').append("<br>| # of Existing ECs: " + exist);
					$('#count_ec').append("<br>| # of ECs closed: " + close);
					$('#count_ec').append("<br>| # of ECs reactivated: " + reactivated);


					if($('#user_level_access_session').text() == 'national'){
						for(var al = 0 ; al < rs.query_all_munis.length ; al++){
							if(rs.query_all_munis[al].iscity == 't'){

								$('#count_allcity').empty().append(isnull(rs.query_all_munis[al].all_munis));

							}else{

								$('#count_allmunis').empty().append(isnull(rs.query_all_munis[al].all_munis));

							}
						}
					}

					$("#evac_stats tbody").append(
						"<tr style='color:#fff;'>"+
							"<th style='border: 1px solid #000; text-align:left; padding:2px; background-color: #808080; color: #000' border='1'><b>GRAND-TOTAL</b></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_ec_cum'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_ec_now'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' ></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' ></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_fam_cum'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_fam_now'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_per_cum'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_per_now'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
						"</tr>"
					);

					$("#evac_stats_outside tbody").empty();
					$("#tbl_masterquery tbody").empty();
					$('#tbl_casualty_asst tbody').empty();

					$("#evac_stats_outside tbody").append(
						"<tr style='background-color:#808080; color:#000'>"+
							"<th style='border: 1px solid #000; text-align:left; padding:2px;'><b>GRAND-TOTAL</b></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_fam_cum_o'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_fam_now_o'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_per_cum_o'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_per_now_o'></th>"+
							"<th style='border: 1px solid #000; text-align:center; padding:2px'></th>"+
						"</tr>"
					);

					$("#tbl_casualty_asst tbody").append(
						"<tr style='background-color:#AC2925; color:#fff'>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:left; padding:2px'><b>GRAND-TOTAL</b></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_tot_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_part_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_dead_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_injured_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_missing_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_total_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_dswd_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_lgu_c'></th>"+
							"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_ngo_c'></th>"+
						"</tr>"
					);

					for(var qt in rs.query_title){
						$('#asofdate').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime').text("Time: " + rs.query_title[qt].asoftime);
						$('#asofdate2').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime2').text("Time: " + rs.query_title[qt].asoftime);

						$('#disastertype').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));
						$('#disastertype2').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate2').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_IEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_IEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_IEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_IEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_OEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_OEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_OEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_OEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_CEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_CEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_CEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_CEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						asof = todatesave(rs.query_title[qt].ddate,rs.query_title[qt].asoftime);

						$('#spreparedby').text(rs.query_title[qt].preparedby);
						$('#srecommendedby').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby2').text(rs.query_title[qt].preparedby);
						$('#srecommendedby2').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby2').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos2').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos2').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos2').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby3').text(rs.query_title[qt].preparedby);
						$('#srecommendedby3').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby3').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos3').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos3').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos3').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby4').text(rs.query_title[qt].preparedby);
						$('#srecommendedby4').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby4').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos4').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos4').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos4').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby5').text(rs.query_title[qt].preparedby);
						$('#srecommendedby5').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby5').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos5').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos5').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos5').text(rs.query_title[qt].approvedbypos);

					}

					// if(rs.city.length < 1){

					// 	$('#saveasnewrecord').prop("disabled",1);

					// }

			// Inside Evacuation Areas ============================================================================================================================================


					for(var t in regions){

						var fam_cum = "";
						var fam_now = "";
						var per_cum = "";
						var per_now = "";
						var fc 		= 0;
						var fn 		= 0;
						var pc 		= 0;
						var pn 		= 0;
						var ec_cum 	= 0;
						var ec_now 	= 0;

						for(var m in rs.rs){

							if(rs.rs[m].region == regions[t].id){

								fam_cum = isnulls(rs.rs[m].family_cum);
								fam_cum = fam_cum.split("/");

								fam_now = isnulls(rs.rs[m].family_now);
								fam_now = fam_now.split("/");

								per_cum = isnulls(rs.rs[m].person_cum);
								per_cum = per_cum.split("/");

								per_now = isnulls(rs.rs[m].person_now);
								per_now = per_now.split("/");


								for(k = 0 ; k < fam_cum.length ; k++){
									fc += Number(fam_cum[k]);
								}

								for(l = 0 ; l < fam_now.length ; l++){
									fn += Number(fam_now[l]);
								}

								for(p = 0 ; p < per_cum.length ; p++){
									pc += Number(per_cum[p]);
								}

								for(q = 0 ; q < per_now.length ; q++){
									pn += Number(per_now[q]);
								}

							}
						}

						for(var m in rs.queryecs){
							
							if(regions[t].id == rs.queryecs[m].region){

								ec_cum += Number(rs.queryecs[m].ec_cum);
								ec_now += Number(rs.queryecs[m].ec_now);

							}
						}

						$("#evac_stats tbody").append(
							"<tr style='background-color:yellow; cursor:pointer'>"+
								"<th style='border: 1px solid #000; padding:2px; text-align:left; background-color: #808080; color: #000'>"+regions[t].name+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
					  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
					  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fc))+"</th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fn))+"</th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pc))+"</th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pn))+"</th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
			  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							"</tr>"
						)

						for(i = 0 ; i < provinces.length ; i++){

							if(provinces[i].regionid == regions[t].id){

								var fam_cum = "";
								var fam_now = "";
								var per_cum = "";
								var per_now = "";
								var fc 		= 0;
								var fn 		= 0;
								var pc 		= 0;
								var pn 		= 0;
								var ec_cum 	= 0;
								var ec_now 	= 0;

								for(var m in rs.rs){

									if(rs.rs[m].provinceid == provinces[i].id){

										fam_cum = isnulls(rs.rs[m].family_cum);
										fam_cum = fam_cum.split("/");

										fam_now = isnulls(rs.rs[m].family_now);
										fam_now = fam_now.split("/");

										per_cum = isnulls(rs.rs[m].person_cum);
										per_cum = per_cum.split("/");

										per_now = isnulls(rs.rs[m].person_now);
										per_now = per_now.split("/");


										for(k = 0 ; k < fam_cum.length ; k++){
											fc += Number(fam_cum[k]);
										}

										for(l = 0 ; l < fam_now.length ; l++){
											fn += Number(fam_now[l]);
										}

										for(p = 0 ; p < per_cum.length ; p++){
											pc += Number(per_cum[p]);
										}

										for(q = 0 ; q < per_now.length ; q++){
											pn += Number(per_now[q]);
										}

									}
								}

								for(var m in rs.queryecs){

									if(provinces[i].id == rs.queryecs[m].province_id){

										ec_cum += Number(rs.queryecs[m].ec_cum);
										ec_now += Number(rs.queryecs[m].ec_now);

									}
								}

								$("#evac_stats tbody").append(
									"<tr style='background-color:yellow; cursor:pointer'>"+
										"<th style='border: 1px solid #000; padding:2px; text-align:left; background-color: #A6A6A6; color: #000'>"+provinces[i].name+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
							  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
							  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(fc))+"</th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(fn))+"</th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(pc))+"</th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(pn))+"</th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
					  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
									"</tr>"
								)

								for(var n  in rs.city){

									if(rs.city[n].provinceid == provinces[i].id){

										var fam_cum = "";
										var fam_now = "";
										var per_cum = "";
										var per_now = "";
										var fc 		= 0;
										var fn 		= 0;
										var pc 		= 0;
										var pn 		= 0;
										var ec_cum 	= 0;
										var ec_now 	= 0;

										var brgy_ec 	= "";

										for(var m in rs.rs){
											if(rs.rs[m].municipality_id == rs.city[n].id){

												fam_cum = isnulls(rs.rs[m].family_cum);
												fam_cum = fam_cum.split("/");

												fam_now = isnulls(rs.rs[m].family_now);
												fam_now = fam_now.split("/");

												per_cum = isnulls(rs.rs[m].person_cum);
												per_cum = per_cum.split("/");

												per_now = isnulls(rs.rs[m].person_now);
												per_now = per_now.split("/");


												for(k = 0 ; k < fam_cum.length ; k++){
													fc += Number(fam_cum[k]);
												}

												for(l = 0 ; l < fam_now.length ; l++){
													fn += Number(fam_now[l]);
												}

												for(p = 0 ; p < per_cum.length ; p++){
													pc += Number(per_cum[p]);
												}

												for(q = 0 ; q < per_now.length ; q++){
													pn += Number(per_now[q]);
												}

											}
										}

										for(var m in rs.queryecs){
											if(rs.city[n].id == rs.queryecs[m].municipality_id){

												ec_cum += Number(rs.queryecs[m].ec_cum);
												ec_now += Number(rs.queryecs[m].ec_now);

											}
										}

										$("#evac_stats tbody").append(
											"<tr style='background-color:#169F85; color:#fff; cursor:pointer'>"+
												"<th style='border: 1px solid #000; padding:2px; font-weight:bold; text-align:left; background-color: #808080; color: #000' border='0.5'>"+rs.city[n].municipality_name+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fc))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fn))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pc))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pn))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
											"</tr>"
										)

										for(var m in rs.rs){
											if(rs.city[n].id == rs.rs[m].municipality_id){
												if(m > 0){
													if((rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id)){
														var evac 			= "";
														var pec_cum 		= "";
														var pec_now 		= "";
														var pec_status 		= "";
													}else{
														var evac 			= rs.rs[m].evacuation_names;
														var pec_cum 		= rs.rs[m].ec_cum;
														var pec_now 		= rs.rs[m].ec_now;
														var pec_status 		= rs.rs[m].ec_status
													}
												}else{
													var evac 				= rs.rs[m].evacuation_names;
													var pec_cum 			= rs.rs[m].ec_cum;
													var pec_now 			= rs.rs[m].ec_now;
													var pec_status 			= rs.rs[m].ec_status
												}

												if(m > 0){
													if((rs.rs[m].brgy_located_ec== rs.rs[m-1].brgy_located_ec) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id) && (rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name)){
														var brgy_ec = "";
													}else{
														for(var b = 0 ; b < rs.brgy.length ; b++){
															if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
																brgy_ec 	= rs.brgy[b].brgy_name;
																break;
															}
														}
													}
												}else{
													for(var b = 0 ; b < rs.brgy.length ; b++){
														if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
															brgy_ec 	= rs.brgy[b].brgy_name;
															break;
														}
													}
												}

												var brgy_evac = "";
												var blocated = "";

												if(rs.rs[m].brgy_located != null){

													var blocated = rs.rs[m].brgy_located.toString();
													blocated = blocated.split(",");

												}

												for(var bb = 0 ; bb < blocated.length ; bb++){

													for(var b = 0 ; b < rs.brgy.length ; b++){
													
														if(bb == 0){
															if(rs.brgy[b].id == blocated[bb]){

																if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																	brgy_evac 	= rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
																}else{
																	brgy_evac = rs.brgy[b].brgy_name;
																}

															}
														}else{

															if(rs.brgy[b].id == blocated[bb]){

																if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																	brgy_evac 	= brgy_evac + "<br>" + rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
																}else{
																	brgy_evac = brgy_evac + "<br>" + rs.brgy[b].brgy_name;
																}

															}
														}

													}


												}


												if(rs.rs[m].ec_status == "Closed"){
													var style = "background-color: #ADD8E6";
												}else if(rs.rs[m].ec_status == "Existing"){
													var style = "background-color: #F08080";
												}else if(rs.rs[m].ec_status == "Newly-Opened"){
													var style = "background-color: #F0E68C";
												}else{
													var style = "background-color: #FFF";
												}

												$("#evac_stats tbody").append(
													//ondblclick='updateEC("+rs.rs[m].id+")'
													"<tr style='cursor:pointer' id='evacstat"+rs.rs[m].id+"' class='evacstat evacstat."+rs.rs[m].id+" hoveredit'>"+
														"<td style='border: 1px solid #000; color: #000; padding:2px; "+style+"'></td>"+
														"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_ec)+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnulldo(evac.toUpperCase())+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_evac)+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(pec_status)+"</td>"+
													"</tr>"
												)
											}

											brgy_ec = "";
										}

									}
								}
							}

						}

					}

					var fam_cum = "";
					var fam_now = "";
					var per_cum = "";
					var per_now = "";
					var fc = 0;
					var fn = 0;
					var pc = 0;
					var pn = 0;
					var ec_cum = 0;
					var ec_now = 0;

					for(var m in rs.rs){

							fam_cum = isnulls(rs.rs[m].family_cum);
							fam_cum = fam_cum.split("/");

							fam_now = isnulls(rs.rs[m].family_now);
							fam_now = fam_now.split("/");

							per_cum = isnulls(rs.rs[m].person_cum);
							per_cum = per_cum.split("/");

							per_now = isnulls(rs.rs[m].person_now);
							per_now = per_now.split("/");

							for(k = 0 ; k < fam_cum.length ; k++){
								fc += Number(fam_cum[k]);
							}

							for(l = 0 ; l < fam_now.length ; l++){
								fn += Number(fam_now[l]);
							}

							for(p = 0 ; p < per_cum.length ; p++){
								pc += Number(per_cum[p]);
							}

							for(q = 0 ; q < per_now.length ; q++){
								pn += Number(per_now[q]);
							}
					}

					for(var m in rs.queryecs){
						ec_cum += Number(rs.queryecs[m].ec_cum);
						ec_now += Number(rs.queryecs[m].ec_now);

					}

					$('#caraga_ec_cum').text(addComma(ec_cum));
					$('#caraga_ec_now').text(addComma(ec_now));
					$('#caraga_fam_cum').text(addComma(fc));
					$('#caraga_fam_now').text(addComma(fn));
					$('#caraga_per_cum').text(addComma(pc));
					$('#caraga_per_now').text(addComma(pn));

			// ======== End Inside Evacuation Area ================================================================================================================================

					for(var t in regions){

						var fam_cum_o_p = 0;
						var fam_now_o_p = 0;
						var per_cum_o_p = 0;
						var per_now_o_p = 0;

						for(var e in rs.rsoutside){
							if(rs.rsoutside[e].region == regions[t].id){

								fam_cum_o_p += Number(rs.rsoutside[e].family_cum);
								fam_now_o_p += Number(rs.rsoutside[e].family_now);
								per_cum_o_p += Number(rs.rsoutside[e].person_cum);
								per_now_o_p += Number(rs.rsoutside[e].person_now);

							}
						}	


						$("#evac_stats_outside tbody").append(
							"<tr>"+
								"<th style='background-color: #808080; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+regions[t].name+"</th>"+
								"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
			  					"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o_p))+"</th>"+
			  					"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o_p))+"</th>"+
			  					"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o_p))+"</th>"+
			  					"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o_p))+"</th>"+
			  					"<th style='background-color: #808080; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
							"</tr>"
						)

						for(var i in provinces){

							if(provinces[i].regionid == regions[t].id){

								var fam_cum_o_p = 0;
								var fam_now_o_p = 0;
								var per_cum_o_p = 0;
								var per_now_o_p = 0;

								for(var e in rs.rsoutside){
									if(rs.rsoutside[e].provinceid == provinces[i].id){

										fam_cum_o_p += Number(rs.rsoutside[e].family_cum);
										fam_now_o_p += Number(rs.rsoutside[e].family_now);
										per_cum_o_p += Number(rs.rsoutside[e].person_cum);
										per_now_o_p += Number(rs.rsoutside[e].person_now);

									}
								}

								$("#evac_stats_outside tbody").append(
									"<tr>"+
										"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+provinces[i].name+"</th>"+
										"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
					  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o_p))+"</th>"+
					  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o_p))+"</th>"+
					  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o_p))+"</th>"+
					  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o_p))+"</th>"+
					  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
									"</tr>"
								)

								for(var r in rs.rsoutside){

									var fam_cum_o = 0;
									var fam_now_o = 0;
									var per_cum_o = 0;
									var per_now_o = 0;

									if(provinces[i].id == rs.rsoutside[r].provinceid){

										if(r == 0){

											for(var e in rs.rsoutside){
												if(rs.rsoutside[0].municipality_id == rs.rsoutside[e].municipality_id){

													fam_cum_o += Number(rs.rsoutside[e].family_cum);
													fam_now_o += Number(rs.rsoutside[e].family_now);
													per_cum_o += Number(rs.rsoutside[e].person_cum);
													per_now_o += Number(rs.rsoutside[e].person_now);

												}
											}

											$("#evac_stats_outside tbody").append(
												"<tr>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
												"</tr>"
											)

											bname_origin = rs.rsoutside[r].brgy_origin;

											for(var b in rs.brgy){
												if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
													bname_origin = rs.brgy[b].brgy_name;
													break;
												}
											}

											$("#evac_stats_outside tbody").append(
												"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
													"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
													"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px; text-align: left'>"+rs.rsoutside[r].brgy_name+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
												"</tr>"
											)

											fam_cum_o = 0;
											fam_now_o = 0;
											per_cum_o = 0;
											per_now_o = 0;

										}else{
											if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){

												if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}

													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}else{

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}


													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}
											}else{

												for(var e in rs.rsoutside){
													if(rs.rsoutside[r].municipality_id == rs.rsoutside[e].municipality_id){

														fam_cum_o += Number(rs.rsoutside[e].family_cum);
														fam_now_o += Number(rs.rsoutside[e].family_now);
														per_cum_o += Number(rs.rsoutside[e].person_cum);
														per_now_o += Number(rs.rsoutside[e].person_now);

													}
												}

												$("#evac_stats_outside tbody").append(
													"<tr>"+
														"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
														"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
													"</tr>"
												)

												bname_origin = rs.rsoutside[r].brgy_origin;

												for(var b in rs.brgy){
													if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
														bname_origin = rs.brgy[b].brgy_name;
														break;
													}
												}


												$("#evac_stats_outside tbody").append(
													"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
														"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
														"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
													"</tr>"
												)

												if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){
													if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

														bname_origin = rs.rsoutside[r].brgy_origin;

														for(var b in rs.brgy){
															if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
																bname_origin = rs.brgy[b].brgy_name;
																break;
															}
														}

														$("#evac_stats_outside tbody").append(
															"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
																"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
																"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
															"</tr>"
														)
													}else{

														bname_origin = rs.rsoutside[r].brgy_origin;

														for(var b in rs.brgy){
															if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
																bname_origin = rs.brgy[b].brgy_name;
																break;
															}
														}

														$("#evac_stats_outside tbody").append(
															"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
																"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
																"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
															"</tr>"
														)
													}

													fam_cum_o = 0;
													fam_now_o = 0;
													per_cum_o = 0;
													per_now_o = 0;
												}

											}
										}
									}
								}
							}
						}
					}

					//End Outside

					var brgy_num = 0;
					var fam_cum_o = 0;
					var fam_now_o = 0;
					var per_cum_o = 0;
					var per_now_o = 0;
					var brgy_num = 0;

					for(var g in rs.rsoutside){
						fam_cum_o += Number(rs.rsoutside[g].family_cum);
						fam_now_o += Number(rs.rsoutside[g].family_now);
						per_cum_o += Number(rs.rsoutside[g].person_cum);
						per_now_o += Number(rs.rsoutside[g].person_now);
						brgy_num += Number(rs.rsoutside[g].affbrgy);
					}

					$('#caraga_brgy_num_o').text(addComma(brgy_num));
					$('#caraga_fam_cum_o').text(addComma(fam_cum_o));
					$('#caraga_fam_now_o').text(addComma(fam_now_o));
					$('#caraga_per_cum_o').text(addComma(per_cum_o));
					$('#caraga_per_now_o').text(addComma(per_now_o));

			// ======== End Outside Evacuation Area ===============================================================================================================================

			// ======== Casualties ================================================================================================================================================
					$('#tbl_casualties tbody').empty();
					for(var w in rs.query_casualties){
						var itemno = Number(w) + 1;
						$('#tbl_casualties tbody').append(
							"<tr style='border: 1px solid #000; cursor:pointer; color: #000' ondblclick='getCasualty("+rs.query_casualties[w].id+")' class='hoveredit'>"+
								"<td style='border: 1px solid #000; text-align:center'>"+itemno+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].lastname+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].firstname+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnull(rs.query_casualties[w].middle_i)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnull(rs.query_casualties[w].age)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].gender+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].province_name+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].municipality_name+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].brgyname+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].isdead)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].ismissing)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].isinjured)+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].remarks+"</td>"+
							"</tr>"
						)

					}

			// ======== End Casualties ============================================================================================================================================


			// MASTER QUERY REVISION =================================================================================================================================================
					$("#tbl_masterquery_revss tbody").empty();

					var gtfam_cum 		= 0;
					var gtper_cum 		= 0;
					var gt4ps 			= 0;
					var gtec_cum 		= 0;
					var gtec_now 		= 0;

					var gtifam_cum 		= 0;
					var gtifam_now 		= 0;
					var gtiper_cum 		= 0;
					var gtiper_now 		= 0;

					var gtofam_cum 		= 0;
					var gtofam_now 		= 0;
					var gtoper_cum 		= 0;
					var gtoper_now 		= 0;

					var gb_cum 			= 0;

					var gbb0_2 = [];
					var gbb0_3 = 0;

					var tgtfam_cum = 0;
					var tgtfam_now = 0;
					var tgtper_cum = 0;
					var tgtper_now = 0;

					var tgttotdamage = 0;
					var tgtpartdamage = 0;
					var tgtttotdamage = 0;

					var tgttotdamage = 0;
					var tgtpartdamage = 0;
					var tgtttotdamage = 0;
					var gtasstlgu = 0;
					var gtasstngo = 0;
					var gtasstogo = 0;
					var gtdswdasst = 0;
					var gttasst = 0;

					var gtffp_q = 0;
					var gtffp_cost = 0;

					var gtheb_q = 0;
					var gtheb_cost = 0;

					var gtrtef_q = 0;
					var gtrtef_cost = 0;

					var gtshelter_q = 0;
					var gtshelter_cost = 0;

					var gthygiene_q = 0;
					var gthygiene_cost = 0;

					var gthygiene_q = 0;
					var gthygiene_cost = 0;

					var gtsleeping_q = 0;
					var gtsleeping_cost = 0;

					var gtkitchen_q = 0;
					var gtkitchen_cost = 0;

					var gtfamily_q = 0;
					var gtfamily_cost = 0;

					var gtpotable_q = 0;
					var gtpotable_cost = 0;

					var gtother_cost = 0;

					for(var ttttt in rs.rs){

						//gtfam_cum += Number(rs.rs[ttttt].family_cum);
						//gtper_cum += Number(rs.rs[ttttt].person_cum);

						gt4ps += Number(rs.rs[ttttt].fourps);



						gtifam_cum += Number(rs.rs[ttttt].family_cum);
						gtifam_now += Number(rs.rs[ttttt].family_now);
						gtiper_cum += Number(rs.rs[ttttt].person_cum);
						gtiper_now += Number(rs.rs[ttttt].person_now);

						tgtfam_cum += Number(rs.rs[ttttt].family_cum);
						tgtfam_now += Number(rs.rs[ttttt].family_now);
						tgtper_cum += Number(rs.rs[ttttt].person_cum);
						tgtper_now += Number(rs.rs[ttttt].person_now);


						gbb0_2.push(rs.rs[ttttt].brgy_located);

					}

					for(var jh in gbb0_2){
						gbb0_3 += 1;
					}

					for(var ggggg in rs.query_outec){

						//gtfam_cum += Number(rs.query_outec[ggggg].family_cum);
						//gtper_cum += Number(rs.rs[ggggg].person_cum);

						gtofam_cum += Number(rs.query_outec[ggggg].family_cum);
						gtofam_now += Number(rs.query_outec[ggggg].family_now);
						gtoper_cum += Number(rs.query_outec[ggggg].person_cum);
						gtoper_now += Number(rs.query_outec[ggggg].person_now);

						tgtfam_cum += Number(rs.query_outec[ggggg].family_cum);
						tgtfam_now += Number(rs.query_outec[ggggg].family_now);
						tgtper_cum += Number(rs.query_outec[ggggg].person_cum);
						tgtper_now += Number(rs.query_outec[ggggg].person_now);

					}

					for(var wwwww in rs.queryecs){

						gtec_cum += Number(rs.queryecs[wwwww].ec_cum);
						gtec_now += Number(rs.queryecs[wwwww].ec_now);

					}

					for(var gx in rs.city){

						var tf = 0;
						var tp = 0;
						var pb = 0;

						var itf = 0;
						var itp = 0;
						var itb = 0;

						for(var tx in rs.rs){
							if(rs.rs[tx].municipality_id == rs.city[gx].id){
								tf += Number(rs.rs[tx].family_cum);
								tp += Number(rs.rs[tx].person_cum);
							}
						}

						for(var gs in rs.query_outec){
							if(rs.query_outec[gs].municipality_id == rs.city[gx].id){
								tf += Number(rs.query_outec[gs].family_cum);
								tp += Number(rs.query_outec[gs].person_cum);
							}
						}

						for(var yx in rs.all_affected){
							if(rs.all_affected[yx].municipality_id == rs.city[gx].id){
								itf = rs.all_affected[yx].fam_no;
								itp = rs.all_affected[yx].person_no;
								itb = rs.all_affected[yx].brgy_affected;
							}
						}

						gtfam_cum += (Number(tf) > Number(itf) ? tf : itf);
						gtper_cum += (Number(tp) > Number(itp) ? tp : itp);


						for(var qqqq in rs.brgys){
							if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
								pb += 1;
							}
						}

						gb_cum += (Number(pb) > Number(itb) ? pb : itb);

					}

					// for(var qqqqq in rs.brgys){

					// 	gb_cum += 1;

					// }

					for(var ooooo in rs.query_asst){

						tgttotdamage += Number(rs.query_asst[ooooo].totally_damaged);
						tgtpartdamage += Number(rs.query_asst[ooooo].partially_damaged);
						tgtttotdamage += Number(rs.query_asst[ooooo].totally_damaged) + Number(rs.query_asst[ooooo].partially_damaged);

						gtasstlgu += Number(rs.query_asst[ooooo].lgu_asst);
						gtasstngo += Number(rs.query_asst[ooooo].ngo_asst);
						gtasstogo += Number(rs.query_asst[ooooo].ogo_asst);
						gtdswdasst += Number(rs.query_asst[ooooo].dswd_asst);

						gttasst += Number(rs.query_asst[ooooo].lgu_asst) + Number(rs.query_asst[ooooo].ngo_asst) + Number(rs.query_asst[ooooo].ogo_asst) + Number(rs.query_asst[ooooo].dswd_asst);

					}


					for(var ppppp in rs.query_fnfis){

						if(rs.query_fnfis[ppppp].fnfitype == 'ffp'){

							gtffp_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtffp_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'heb'){

							gtheb_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtheb_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'rtef'){

							gtrtef_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtrtef_cost 		+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'shelter'){

							gtshelter_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtshelter_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'hygiene'){

							gthygiene_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gthygiene_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'sleeping'){

							gtsleeping_q 	+= Number(rs.query_fnfis[ppppp].quantity);
							gtsleeping_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'kitchen'){

							gtkitchen_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtkitchen_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'family'){

							gtfamily_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtfamily_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'potable'){

							gtpotable_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtpotable_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'other'){

							gtother_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

					}

					var gt_infant_male_cum 		= 0;
					var gt_infant_male_now 		= 0;
					var gt_infant_female_cum 	= 0;
					var gt_infant_female_now 	= 0;

					var gt_toddler_male_cum 	= 0;
					var gt_toddler_male_now 	= 0;
					var gt_toddler_female_cum 	= 0;
					var gt_toddler_female_now 	= 0;

					var gt_pschool_male_cum 	= 0;
					var gt_pschool_male_now 	= 0;
					var gt_pschool_female_cum 	= 0;
					var gt_pschool_female_now 	= 0;

					var gt_schoolage_male_cum 	= 0;
					var gt_schoolage_male_now 	= 0;
					var gt_schoolage_female_cum = 0;
					var gt_schoolage_female_now = 0;

					var gt_teenage_male_cum 	= 0;
					var gt_teenage_male_now 	= 0;
					var gt_teenage_female_cum 	= 0;
					var gt_teenage_female_now 	= 0;

					var gt_adult_male_cum 		= 0;
					var gt_adult_male_now 		= 0;
					var gt_adult_female_cum 	= 0;
					var gt_adult_female_now 	= 0;

					var gt_senior_male_cum 		= 0;
					var gt_senior_male_now 		= 0;
					var gt_senior_female_cum 	= 0;
					var gt_senior_female_now 	= 0;

					var gt_pwd_male_cum 		= 0;
					var gt_pwd_male_now 		= 0;
					var gt_pwd_female_cum 		= 0;
					var gt_pwd_female_now 		= 0;

					var gt_pregnant_cum 		= 0;
					var gt_pregnant_now 		= 0;

					var gt_lactating_cum 		= 0;
					var gt_lactating_now 		= 0;

					var gt_solo_cum 			= 0;
					var gt_solo_now 			= 0

					var gt_ip_cum 				= 0;
					var gt_ip_now 				= 0;

					var gt_male_cum 			= 0; 
					var gt_male_now 			= 0;
					var gt_female_cum 			= 0;
					var gt_female_now 			= 0; 

					var gt_t_cum 				= 0;
					var gt_t_now 				= 0;

					var gt_compost 				= 0;
					var gt_sealed 				= 0;

					var gt_portalet_male 		= 0;
					var gt_portalet_female 		= 0;
					var gt_portalet_common 		= 0;

					var gt_bathing_male 		= 0;
					var gt_bathing_female 		= 0;
					var gt_bathing_common 		= 0;

					var gt_child 				= 0;
					var gt_women 				= 0;
					var gt_couple 				= 0;
					var gt_prayer 				= 0;
					var gt_community 			= 0;
					var gt_wash 				= 0;
					var gt_ramps 				= 0;
					var gt_help 				= 0;
					var gt_capacity 			= 0;
					var gt_rooms 				= 0;

					for(var uu_1 in rs.sex){

							gt_infant_male_cum 		= Number(gt_infant_male_cum) + Number(rs.sex[uu_1].infant_male_cum); 
							gt_infant_male_now 		= Number(gt_infant_male_now) + Number(rs.sex[uu_1].infant_male_now); 
							gt_infant_female_cum 	= Number(gt_infant_female_cum) + Number(rs.sex[uu_1].infant_female_cum); 
							gt_infant_female_now 	= Number(gt_infant_female_now) + Number(rs.sex[uu_1].infant_female_now);

							gt_toddler_male_cum 		= Number(gt_toddler_male_cum) + Number(rs.sex[uu_1].toddler_male_cum);
							gt_toddler_male_now 		= Number(gt_toddler_male_now) + Number(rs.sex[uu_1].toddler_male_now);
							gt_toddler_female_cum 	= Number(gt_toddler_female_cum) + Number(rs.sex[uu_1].toddler_female_cum);
							gt_toddler_female_now 	= Number(gt_toddler_female_now) + Number(rs.sex[uu_1].toddler_female_now);

							gt_pschool_male_cum 		= Number(gt_pschool_male_cum) + Number(rs.sex[uu_1].preschooler_male_cum);
							gt_pschool_male_now 		= Number(gt_pschool_male_now) + Number(rs.sex[uu_1].preschooler_male_now);
							gt_pschool_female_cum 	= Number(gt_pschool_female_cum) + Number(rs.sex[uu_1].preschooler_female_cum);
							gt_pschool_female_now 	= Number(gt_pschool_female_now) + Number(rs.sex[uu_1].preschooler_female_now);

							gt_schoolage_male_cum 	= Number(gt_schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_male_cum);
							gt_schoolage_male_now 	= Number(gt_schoolage_male_now) + Number(rs.sex[uu_1].schoolage_male_now);
							gt_schoolage_female_cum 	= Number(gt_schoolage_female_cum) + Number(rs.sex[uu_1].schoolage_female_cum);
							gt_schoolage_female_now 	= Number(gt_schoolage_female_now) + Number(rs.sex[uu_1].schoolage_female_now);

							gt_teenage_male_cum 		= Number(gt_teenage_male_cum) + Number(rs.sex[uu_1].teenage_male_cum);
							gt_teenage_male_now 		= Number(gt_teenage_male_now) + Number(rs.sex[uu_1].teenage_male_now);
							gt_teenage_female_cum 	= Number(gt_teenage_female_cum) + Number(rs.sex[uu_1].teenage_female_cum);
							gt_teenage_female_now 	= Number(gt_teenage_female_now) + Number(rs.sex[uu_1].teenage_female_now);

							gt_adult_male_cum 		= Number(gt_adult_male_cum) + Number(rs.sex[uu_1].adult_male_cum);
							gt_adult_male_now 		= Number(gt_adult_male_now) + Number(rs.sex[uu_1].adult_male_now);
							gt_adult_female_cum 		= Number(gt_adult_female_cum) + Number(rs.sex[uu_1].adult_female_cum);
							gt_adult_female_now 		= Number(gt_adult_female_now) + Number(rs.sex[uu_1].adult_female_now);

							gt_senior_male_cum 		= Number(gt_senior_male_cum) + Number(rs.sex[uu_1].senior_male_cum);
							gt_senior_male_now 		= Number(gt_senior_male_now) + Number(rs.sex[uu_1].senior_male_now);
							gt_senior_female_cum 	= Number(gt_senior_female_cum) + Number(rs.sex[uu_1].senior_female_cum);
							gt_senior_female_now 	= Number(gt_senior_female_now) + Number(rs.sex[uu_1].senior_female_now);

							gt_male_cum 		= Number(gt_infant_male_cum) + Number(gt_toddler_male_cum) + Number(gt_pschool_male_cum) + Number(gt_schoolage_male_cum) + Number(gt_teenage_male_cum) + Number(gt_adult_male_cum) + Number(gt_senior_male_cum);
							gt_male_now 		= Number(gt_infant_male_now) + Number(gt_toddler_male_now) + Number(gt_pschool_male_now) + Number(gt_schoolage_male_now) + Number(gt_teenage_male_now) + Number(gt_adult_male_now) + Number(gt_senior_male_now);
							gt_female_cum 	= Number(gt_infant_female_cum) + Number(gt_toddler_female_cum) + Number(gt_pschool_female_cum) + Number(gt_schoolage_female_cum) + Number(gt_teenage_female_cum) + Number(gt_adult_female_cum) + Number(gt_senior_female_cum);
							gt_female_now 	= Number(gt_infant_female_now) + Number(gt_toddler_female_now) + Number(gt_pschool_female_now) + Number(gt_schoolage_female_now) + Number(gt_teenage_female_now) + Number(gt_adult_female_now) + Number(gt_senior_female_now);


							gt_pregnant_cum 		= Number(gt_pregnant_cum) + Number(rs.sex[uu_1].pregnant_cum);
							gt_pregnant_now 		= Number(gt_pregnant_now) + Number(rs.sex[uu_1].pregnant_now);

							gt_lactating_cum 	= Number(gt_lactating_cum) + Number(rs.sex[uu_1].lactating_cum);
							gt_lactating_now 	= Number(gt_lactating_now) + Number(rs.sex[uu_1].lactating_now);

							gt_pwd_male_cum 		= Number(gt_pwd_male_cum) + Number(rs.sex[uu_1].disable_male_cum);
							gt_pwd_male_now 		= Number(gt_pwd_male_now) + Number(rs.sex[uu_1].disable_male_now);
							gt_pwd_female_cum 	= Number(gt_pwd_female_cum) + Number(rs.sex[uu_1].disable_female_cum);
							gt_pwd_female_now 	= Number(gt_pwd_female_now) + Number(rs.sex[uu_1].disable_female_now);

							gt_solo_cum 			= Number(gt_solo_cum) + Number(rs.sex[uu_1].solo_cum);
							gt_solo_now 			= Number(gt_solo_now) + Number(rs.sex[uu_1].solo_now);

							gt_ip_cum 			= Number(gt_ip_cum) + Number(rs.sex[uu_1].ip_cum);
							gt_ip_now 			= Number(gt_ip_now) + Number(rs.sex[uu_1].ip_now);

							gt_t_cum 			+= Number(rs.sex[uu_1].infant_male_cum) + Number(rs.sex[uu_1].infant_female_cum) + Number(rs.sex[uu_1].toddler_male_cum) + Number(rs.sex[uu_1].toddler_female_cum) + 
							Number(rs.sex[uu_1].preschooler_male_cum) + Number(rs.sex[uu_1].preschooler_female_cum) + Number(rs.sex[uu_1].schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_female_cum) + 
							Number(rs.sex[uu_1].teenage_male_cum) + Number(rs.sex[uu_1].teenage_female_cum) + Number(rs.sex[uu_1].adult_male_cum) + Number(rs.sex[uu_1].adult_female_cum) +
							Number(rs.sex[uu_1].senior_male_cum) + Number(rs.sex[uu_1].senior_female_cum) + Number(rs.sex[uu_1].pregnant_cum) + Number(rs.sex[uu_1].lactating_cum) + 
							Number(rs.sex[uu_1].disable_male_cum) + Number(rs.sex[uu_1].disable_female_cum) + Number(rs.sex[uu_1].solo_cum) + Number(rs.sex[uu_1].ip_cum);

							gt_t_now 			+= Number(rs.sex[uu_1].infant_male_now) + Number(rs.sex[uu_1].infant_female_now) + Number(rs.sex[uu_1].toddler_male_now) + Number(rs.sex[uu_1].toddler_female_now) + 
							Number(rs.sex[uu_1].preschooler_male_now) + Number(rs.sex[uu_1].preschooler_female_now) + Number(rs.sex[uu_1].schoolage_male_now) + Number(rs.sex[uu_1].schoolage_female_now) + 
							Number(rs.sex[uu_1].teenage_male_now) + Number(rs.sex[uu_1].teenage_female_now) + Number(rs.sex[uu_1].adult_male_now) + Number(rs.sex[uu_1].adult_female_now) +
							Number(rs.sex[uu_1].senior_male_now) + Number(rs.sex[uu_1].senior_female_now) + Number(rs.sex[uu_1].pregnant_now) + Number(rs.sex[uu_1].lactating_now) + 
							Number(rs.sex[uu_1].disable_male_now) + Number(rs.sex[uu_1].disable_female_now) + Number(rs.sex[uu_1].solo_now) + Number(rs.sex[uu_1].ip_now);

					}

					for(var eeeeeee in rs.facilities){

						gt_compost 				= Number(gt_compost) + Number(rs.facilities[eeeeeee].compost_pit);
						gt_sealed 				= Number(gt_sealed) + Number(rs.facilities[eeeeeee].sealed);
						gt_portalet_male 		= Number(gt_portalet_male) + Number(rs.facilities[eeeeeee].portalets_male);
						gt_portalet_female 		= Number(gt_portalet_female) + Number(rs.facilities[eeeeeee].portalets_female);
						gt_portalet_common 		= Number(gt_portalet_common) + Number(rs.facilities[eeeeeee].portalets_common);
						gt_bathing_male 		= Number(gt_bathing_male) + Number(rs.facilities[eeeeeee].bathing_cubicles_male);
						gt_bathing_female 		= Number(gt_bathing_female) + Number(rs.facilities[eeeeeee].bathing_cubicles_female);
						gt_bathing_common 		= Number(gt_bathing_common) + Number(rs.facilities[eeeeeee].bathing_cubicles_common);
						gt_child 				= Number(gt_child) + Number(rs.facilities[eeeeeee].child_space);
						gt_women 				= Number(gt_women) + Number(rs.facilities[eeeeeee].women_space);
						gt_couple 				= Number(gt_couple) + Number(rs.facilities[eeeeeee].couple_room);
						gt_prayer 				= Number(gt_prayer) + Number(rs.facilities[eeeeeee].prayer_room);
						gt_community 			= Number(gt_community) + Number(rs.facilities[eeeeeee].community_kitchen);
						gt_wash 				= Number(gt_wash) + Number(rs.facilities[eeeeeee].wash);
						gt_ramps 				= Number(gt_ramps) + Number(rs.facilities[eeeeeee].ramps);
						gt_help 				= Number(gt_help) + Number(rs.facilities[eeeeeee].help_desk);
						gt_capacity 			= Number(gt_capacity) + Number(rs.facilities[eeeeeee].capacity);
						gt_rooms 				= Number(gt_rooms) + Number(rs.facilities[eeeeeee].no_of_rooms);

					}

					var all_brgy_in_ec = 0;
					var region_psgc = $('#region_id_session').text();

					for(var h in rs.brgy_unique_ec){
						//if(Number(region_psgc) == Number(rs.brgy_unique_ec[h].region_psgc)){
							all_brgy_in_ec += 1;
						//}

					}


					$("#tbl_masterquery_revss tbody").append(
						"<tr>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>GRAND-TOTAL</b></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gb_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtfam_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtper_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt4ps+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtec_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtec_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+all_brgy_in_ec+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtifam_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtifam_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_t_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_t_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtiper_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtiper_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtofam_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtofam_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtoper_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtoper_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_compost+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_sealed+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_male+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_female+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_common+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_male+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_female+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_common+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_child+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_women+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_couple+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_prayer+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_community+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_wash+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ramps+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_help+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_capacity+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_rooms+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtttotdamage+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgttotdamage+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtpartdamage+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtffp_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtffp_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtheb_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtheb_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtrtef_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtrtef_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtshelter_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtshelter_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gthygiene_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gthygiene_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtsleeping_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtsleeping_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtkitchen_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtkitchen_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtfamily_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtfamily_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtpotable_q.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtpotable_cost.toLocaleString()+"</td>"+
							"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtother_cost.toLocaleString()+"</td>"+
							"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstlgu)+"</td>"+
							"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstngo)+"</td>"+
							"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstogo)+"</td>"+
							"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gttasst)+"</td>"+

						"</tr>"
					)


					$('#tbl_sex_age_distribution_list tbody').append(
						"<tr>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>GRAND-TOTAL</b></td>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_now+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_cum+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_now+"</td>"+
						"</tr>"
					)

					$('#tbl_evauation_facility_list tbody').append(
						"<tr>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>GRAND-TOTAL</b></td>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_compost+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_sealed+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_male+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_female+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_common+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_male+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_female+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_common+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_child+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_women+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_couple+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_prayer+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_community+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_wash+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ramps+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_help+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_capacity+"</td>"+
							"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_rooms+"</td>"+
						"</tr>"
					)

					for(var t in regions){

						var gtfam_cum 		= 0;
						var gtper_cum 		= 0;
						var gt4ps 			= 0;
						var gtec_cum 		= 0;
						var gtec_now 		= 0;

						var gtifam_cum 		= 0;
						var gtifam_now 		= 0;
						var gtiper_cum 		= 0;
						var gtiper_now 		= 0;

						var gtofam_cum 		= 0;
						var gtofam_now 		= 0;
						var gtoper_cum 		= 0;
						var gtoper_now 		= 0;

						var gb_cum 			= 0;

						var gbb0_2 = [];
						var gbb0_3 = 0;

						var tgtfam_cum = 0;
						var tgtfam_now = 0;
						var tgtper_cum = 0;
						var tgtper_now = 0;

						var tgttotdamage = 0;
						var tgtpartdamage = 0;
						var tgtttotdamage = 0;

						var tgttotdamage = 0;
						var tgtpartdamage = 0;
						var tgtttotdamage = 0;
						var gtasstlgu = 0;
						var gtasstngo = 0;
						var gtasstogo = 0;
						var gtdswdasst = 0;
						var gttasst = 0;

						var gtffp_q = 0;
						var gtffp_cost = 0;

						var gtheb_q = 0;
						var gtheb_cost = 0;

						var gtrtef_q = 0;
						var gtrtef_cost = 0;

						var gtshelter_q = 0;
						var gtshelter_cost = 0;

						var gthygiene_q = 0;
						var gthygiene_cost = 0;

						var gthygiene_q = 0;
						var gthygiene_cost = 0;

						var gtsleeping_q = 0;
						var gtsleeping_cost = 0;

						var gtkitchen_q = 0;
						var gtkitchen_cost = 0;

						var gtfamily_q = 0;
						var gtfamily_cost = 0;

						var gtpotable_q = 0;
						var gtpotable_cost = 0;

						var gtother_cost = 0;

						for(var ttttt in rs.rs){

							if(rs.rs[ttttt].region == regions[t].id){

								//gtfam_cum += Number(rs.rs[ttttt].family_cum);
								//gtper_cum += Number(rs.rs[ttttt].person_cum);

								gt4ps += Number(rs.rs[ttttt].fourps);



								gtifam_cum += Number(rs.rs[ttttt].family_cum);
								gtifam_now += Number(rs.rs[ttttt].family_now);
								gtiper_cum += Number(rs.rs[ttttt].person_cum);
								gtiper_now += Number(rs.rs[ttttt].person_now);

								tgtfam_cum += Number(rs.rs[ttttt].family_cum);
								tgtfam_now += Number(rs.rs[ttttt].family_now);
								tgtper_cum += Number(rs.rs[ttttt].person_cum);
								tgtper_now += Number(rs.rs[ttttt].person_now);


								gbb0_2.push(rs.rs[ttttt].brgy_located);
							}

						}

						for(var jh in gbb0_2){
							gbb0_3 += 1;
						}

						for(var ggggg in rs.query_outec){

							if(rs.query_outec[ggggg].region == regions[t].id){

								//gtfam_cum += Number(rs.query_outec[ggggg].family_cum);
								//gtper_cum += Number(rs.rs[ggggg].person_cum);

								gtofam_cum += Number(rs.query_outec[ggggg].family_cum);
								gtofam_now += Number(rs.query_outec[ggggg].family_now);
								gtoper_cum += Number(rs.query_outec[ggggg].person_cum);
								gtoper_now += Number(rs.query_outec[ggggg].person_now);

								tgtfam_cum += Number(rs.query_outec[ggggg].family_cum);
								tgtfam_now += Number(rs.query_outec[ggggg].family_now);
								tgtper_cum += Number(rs.query_outec[ggggg].person_cum);
								tgtper_now += Number(rs.query_outec[ggggg].person_now);
							}

						}

						for(var wwwww in rs.queryecs){

							if(rs.queryecs[wwwww].region == regions[t].id){
								gtec_cum += Number(rs.queryecs[wwwww].ec_cum);
								gtec_now += Number(rs.queryecs[wwwww].ec_now);
							}

						}

						for(var gx in rs.city){

							var tf = 0;
							var tp = 0;
							var pb = 0;

							var itf = 0;
							var itp = 0;
							var itb = 0;
							

							if(rs.city[gx].region == regions[t].id){

								for(var tx in rs.rs){
									if(rs.rs[tx].municipality_id == rs.city[gx].id){
										tf += Number(rs.rs[tx].family_cum);
										tp += Number(rs.rs[tx].person_cum);
									}
								}

								for(var gs in rs.query_outec){
									if(rs.query_outec[gs].municipality_id == rs.city[gx].id){
										tf += Number(rs.query_outec[gs].family_cum);
										tp += Number(rs.query_outec[gs].person_cum);
									}
								}

								for(var yx in rs.all_affected){
									if(rs.all_affected[yx].municipality_id == rs.city[gx].id){
										itf = rs.all_affected[yx].fam_no;
										itp = rs.all_affected[yx].person_no;
										itb = rs.all_affected[yx].brgy_affected;
									}
								}

								gtfam_cum += (Number(tf) > Number(itf) ? tf : itf);
								gtper_cum += (Number(tp) > Number(itp) ? tp : itp);


								for(var qqqq in rs.brgys){
									if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
										pb += 1;
									}
								}

								gb_cum += (Number(pb) > Number(itb) ? pb : itb);

							}

						}

						// for(var qqqqq in rs.brgys){
						// 	if(rs.brgys[qqqqq].region == regions[t].id){
						// 		gb_cum += 1;
						// 	}

						// }

						for(var ooooo in rs.query_asst){

							if(rs.query_asst[ooooo].region == regions[t].id){

								tgttotdamage += Number(rs.query_asst[ooooo].totally_damaged);
								tgtpartdamage += Number(rs.query_asst[ooooo].partially_damaged);
								tgtttotdamage += Number(rs.query_asst[ooooo].totally_damaged) + Number(rs.query_asst[ooooo].partially_damaged);

								gtasstlgu += Number(rs.query_asst[ooooo].lgu_asst);
								gtasstngo += Number(rs.query_asst[ooooo].ngo_asst);
								gtasstogo += Number(rs.query_asst[ooooo].ogo_asst);
								gtdswdasst += Number(rs.query_asst[ooooo].dswd_asst);

								gttasst += Number(rs.query_asst[ooooo].lgu_asst) + Number(rs.query_asst[ooooo].ngo_asst) + Number(rs.query_asst[ooooo].ogo_asst) + Number(rs.query_asst[ooooo].dswd_asst);
							}

						}


						for(var ppppp in rs.query_fnfis){

							if(rs.query_fnfis[ppppp].region == regions[t].id){

								if(rs.query_fnfis[ppppp].fnfitype == 'ffp'){

									gtffp_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtffp_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'heb'){

									gtheb_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtheb_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'rtef'){

									gtrtef_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtrtef_cost 		+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'shelter'){

									gtshelter_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtshelter_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'hygiene'){

									gthygiene_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gthygiene_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'sleeping'){

									gtsleeping_q 	+= Number(rs.query_fnfis[ppppp].quantity);
									gtsleeping_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'kitchen'){

									gtkitchen_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtkitchen_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'family'){

									gtfamily_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtfamily_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'potable'){

									gtpotable_q 		+= Number(rs.query_fnfis[ppppp].quantity);
									gtpotable_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}

								if(rs.query_fnfis[ppppp].fnfitype == 'other'){

									gtother_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

								}
							}

						}

						var gt_infant_male_cum 		= 0;
						var gt_infant_male_now 		= 0;
						var gt_infant_female_cum 	= 0;
						var gt_infant_female_now 	= 0;

						var gt_toddler_male_cum 	= 0;
						var gt_toddler_male_now 	= 0;
						var gt_toddler_female_cum 	= 0;
						var gt_toddler_female_now 	= 0;

						var gt_pschool_male_cum 	= 0;
						var gt_pschool_male_now 	= 0;
						var gt_pschool_female_cum 	= 0;
						var gt_pschool_female_now 	= 0;

						var gt_schoolage_male_cum 	= 0;
						var gt_schoolage_male_now 	= 0;
						var gt_schoolage_female_cum = 0;
						var gt_schoolage_female_now = 0;

						var gt_teenage_male_cum 	= 0;
						var gt_teenage_male_now 	= 0;
						var gt_teenage_female_cum 	= 0;
						var gt_teenage_female_now 	= 0;

						var gt_adult_male_cum 		= 0;
						var gt_adult_male_now 		= 0;
						var gt_adult_female_cum 	= 0;
						var gt_adult_female_now 	= 0;

						var gt_senior_male_cum 		= 0;
						var gt_senior_male_now 		= 0;
						var gt_senior_female_cum 	= 0;
						var gt_senior_female_now 	= 0;

						var gt_pwd_male_cum 		= 0;
						var gt_pwd_male_now 		= 0;
						var gt_pwd_female_cum 		= 0;
						var gt_pwd_female_now 		= 0;

						var gt_pregnant_cum 		= 0;
						var gt_pregnant_now 		= 0;

						var gt_lactating_cum 		= 0;
						var gt_lactating_now 		= 0;

						var gt_solo_cum 			= 0;
						var gt_solo_now 			= 0

						var gt_ip_cum 				= 0;
						var gt_ip_now 				= 0;

						var gt_male_cum 			= 0; 
						var gt_male_now 			= 0;
						var gt_female_cum 			= 0;
						var gt_female_now 			= 0; 

						var gt_t_cum 				= 0;
						var gt_t_now 				= 0;

						var gt_compost 				= 0;
						var gt_sealed 				= 0;

						var gt_portalet_male 		= 0;
						var gt_portalet_female 		= 0;
						var gt_portalet_common 		= 0;

						var gt_bathing_male 		= 0;
						var gt_bathing_female 		= 0;
						var gt_bathing_common 		= 0;

						var gt_child 				= 0;
						var gt_women 				= 0;
						var gt_couple 				= 0;
						var gt_prayer 				= 0;
						var gt_community 			= 0;
						var gt_wash 				= 0;
						var gt_ramps 				= 0;
						var gt_help 				= 0;
						var gt_capacity 			= 0;
						var gt_rooms 				= 0;

						for(var uu_1 in rs.sex){

							if(rs.sex[uu_1].region == regions[t].id){

								gt_infant_male_cum 		= Number(gt_infant_male_cum) + Number(rs.sex[uu_1].infant_male_cum); 
								gt_infant_male_now 		= Number(gt_infant_male_now) + Number(rs.sex[uu_1].infant_male_now); 
								gt_infant_female_cum 	= Number(gt_infant_female_cum) + Number(rs.sex[uu_1].infant_female_cum); 
								gt_infant_female_now 	= Number(gt_infant_female_now) + Number(rs.sex[uu_1].infant_female_now);

								gt_toddler_male_cum 		= Number(gt_toddler_male_cum) + Number(rs.sex[uu_1].toddler_male_cum);
								gt_toddler_male_now 		= Number(gt_toddler_male_now) + Number(rs.sex[uu_1].toddler_male_now);
								gt_toddler_female_cum 	= Number(gt_toddler_female_cum) + Number(rs.sex[uu_1].toddler_female_cum);
								gt_toddler_female_now 	= Number(gt_toddler_female_now) + Number(rs.sex[uu_1].toddler_female_now);

								gt_pschool_male_cum 		= Number(gt_pschool_male_cum) + Number(rs.sex[uu_1].preschooler_male_cum);
								gt_pschool_male_now 		= Number(gt_pschool_male_now) + Number(rs.sex[uu_1].preschooler_male_now);
								gt_pschool_female_cum 	= Number(gt_pschool_female_cum) + Number(rs.sex[uu_1].preschooler_female_cum);
								gt_pschool_female_now 	= Number(gt_pschool_female_now) + Number(rs.sex[uu_1].preschooler_female_now);

								gt_schoolage_male_cum 	= Number(gt_schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_male_cum);
								gt_schoolage_male_now 	= Number(gt_schoolage_male_now) + Number(rs.sex[uu_1].schoolage_male_now);
								gt_schoolage_female_cum 	= Number(gt_schoolage_female_cum) + Number(rs.sex[uu_1].schoolage_female_cum);
								gt_schoolage_female_now 	= Number(gt_schoolage_female_now) + Number(rs.sex[uu_1].schoolage_female_now);

								gt_teenage_male_cum 		= Number(gt_teenage_male_cum) + Number(rs.sex[uu_1].teenage_male_cum);
								gt_teenage_male_now 		= Number(gt_teenage_male_now) + Number(rs.sex[uu_1].teenage_male_now);
								gt_teenage_female_cum 	= Number(gt_teenage_female_cum) + Number(rs.sex[uu_1].teenage_female_cum);
								gt_teenage_female_now 	= Number(gt_teenage_female_now) + Number(rs.sex[uu_1].teenage_female_now);

								gt_adult_male_cum 		= Number(gt_adult_male_cum) + Number(rs.sex[uu_1].adult_male_cum);
								gt_adult_male_now 		= Number(gt_adult_male_now) + Number(rs.sex[uu_1].adult_male_now);
								gt_adult_female_cum 		= Number(gt_adult_female_cum) + Number(rs.sex[uu_1].adult_female_cum);
								gt_adult_female_now 		= Number(gt_adult_female_now) + Number(rs.sex[uu_1].adult_female_now);

								gt_senior_male_cum 		= Number(gt_senior_male_cum) + Number(rs.sex[uu_1].senior_male_cum);
								gt_senior_male_now 		= Number(gt_senior_male_now) + Number(rs.sex[uu_1].senior_male_now);
								gt_senior_female_cum 	= Number(gt_senior_female_cum) + Number(rs.sex[uu_1].senior_female_cum);
								gt_senior_female_now 	= Number(gt_senior_female_now) + Number(rs.sex[uu_1].senior_female_now);

								gt_male_cum 		= Number(gt_infant_male_cum) + Number(gt_toddler_male_cum) + Number(gt_pschool_male_cum) + Number(gt_schoolage_male_cum) + Number(gt_teenage_male_cum) + Number(gt_adult_male_cum) + Number(gt_senior_male_cum);
								gt_male_now 		= Number(gt_infant_male_now) + Number(gt_toddler_male_now) + Number(gt_pschool_male_now) + Number(gt_schoolage_male_now) + Number(gt_teenage_male_now) + Number(gt_adult_male_now) + Number(gt_senior_male_now);
								gt_female_cum 	= Number(gt_infant_female_cum) + Number(gt_toddler_female_cum) + Number(gt_pschool_female_cum) + Number(gt_schoolage_female_cum) + Number(gt_teenage_female_cum) + Number(gt_adult_female_cum) + Number(gt_senior_female_cum);
								gt_female_now 	= Number(gt_infant_female_now) + Number(gt_toddler_female_now) + Number(gt_pschool_female_now) + Number(gt_schoolage_female_now) + Number(gt_teenage_female_now) + Number(gt_adult_female_now) + Number(gt_senior_female_now);


								gt_pregnant_cum 		= Number(gt_pregnant_cum) + Number(rs.sex[uu_1].pregnant_cum);
								gt_pregnant_now 		= Number(gt_pregnant_now) + Number(rs.sex[uu_1].pregnant_now);

								gt_lactating_cum 	= Number(gt_lactating_cum) + Number(rs.sex[uu_1].lactating_cum);
								gt_lactating_now 	= Number(gt_lactating_now) + Number(rs.sex[uu_1].lactating_now);

								gt_pwd_male_cum 		= Number(gt_pwd_male_cum) + Number(rs.sex[uu_1].disable_male_cum);
								gt_pwd_male_now 		= Number(gt_pwd_male_now) + Number(rs.sex[uu_1].disable_male_now);
								gt_pwd_female_cum 	= Number(gt_pwd_female_cum) + Number(rs.sex[uu_1].disable_female_cum);
								gt_pwd_female_now 	= Number(gt_pwd_female_now) + Number(rs.sex[uu_1].disable_female_now);

								gt_solo_cum 			= Number(gt_solo_cum) + Number(rs.sex[uu_1].solo_cum);
								gt_solo_now 			= Number(gt_solo_now) + Number(rs.sex[uu_1].solo_now);

								gt_ip_cum 			= Number(gt_ip_cum) + Number(rs.sex[uu_1].ip_cum);
								gt_ip_now 			= Number(gt_ip_now) + Number(rs.sex[uu_1].ip_now);

								gt_t_cum 			+= Number(rs.sex[uu_1].infant_male_cum) + Number(rs.sex[uu_1].infant_female_cum) + Number(rs.sex[uu_1].toddler_male_cum) + Number(rs.sex[uu_1].toddler_female_cum) + 
								Number(rs.sex[uu_1].preschooler_male_cum) + Number(rs.sex[uu_1].preschooler_female_cum) + Number(rs.sex[uu_1].schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_female_cum) + 
								Number(rs.sex[uu_1].teenage_male_cum) + Number(rs.sex[uu_1].teenage_female_cum) + Number(rs.sex[uu_1].adult_male_cum) + Number(rs.sex[uu_1].adult_female_cum) +
								Number(rs.sex[uu_1].senior_male_cum) + Number(rs.sex[uu_1].senior_female_cum) + Number(rs.sex[uu_1].pregnant_cum) + Number(rs.sex[uu_1].lactating_cum) + 
								Number(rs.sex[uu_1].disable_male_cum) + Number(rs.sex[uu_1].disable_female_cum) + Number(rs.sex[uu_1].solo_cum) + Number(rs.sex[uu_1].ip_cum);

								gt_t_now 			+= Number(rs.sex[uu_1].infant_male_now) + Number(rs.sex[uu_1].infant_female_now) + Number(rs.sex[uu_1].toddler_male_now) + Number(rs.sex[uu_1].toddler_female_now) + 
								Number(rs.sex[uu_1].preschooler_male_now) + Number(rs.sex[uu_1].preschooler_female_now) + Number(rs.sex[uu_1].schoolage_male_now) + Number(rs.sex[uu_1].schoolage_female_now) + 
								Number(rs.sex[uu_1].teenage_male_now) + Number(rs.sex[uu_1].teenage_female_now) + Number(rs.sex[uu_1].adult_male_now) + Number(rs.sex[uu_1].adult_female_now) +
								Number(rs.sex[uu_1].senior_male_now) + Number(rs.sex[uu_1].senior_female_now) + Number(rs.sex[uu_1].pregnant_now) + Number(rs.sex[uu_1].lactating_now) + 
								Number(rs.sex[uu_1].disable_male_now) + Number(rs.sex[uu_1].disable_female_now) + Number(rs.sex[uu_1].solo_now) + Number(rs.sex[uu_1].ip_now);
							}

						}

						for(var eeeeeee in rs.facilities){

							if(rs.facilities[eeeeeee].region == regions[t].id){

								gt_compost 				= Number(gt_compost) + Number(rs.facilities[eeeeeee].compost_pit);
								gt_sealed 				= Number(gt_sealed) + Number(rs.facilities[eeeeeee].sealed);
								gt_portalet_male 		= Number(gt_portalet_male) + Number(rs.facilities[eeeeeee].portalets_male);
								gt_portalet_female 		= Number(gt_portalet_female) + Number(rs.facilities[eeeeeee].portalets_female);
								gt_portalet_common 		= Number(gt_portalet_common) + Number(rs.facilities[eeeeeee].portalets_common);
								gt_bathing_male 		= Number(gt_bathing_male) + Number(rs.facilities[eeeeeee].bathing_cubicles_male);
								gt_bathing_female 		= Number(gt_bathing_female) + Number(rs.facilities[eeeeeee].bathing_cubicles_female);
								gt_bathing_common 		= Number(gt_bathing_common) + Number(rs.facilities[eeeeeee].bathing_cubicles_common);
								gt_child 				= Number(gt_child) + Number(rs.facilities[eeeeeee].child_space);
								gt_women 				= Number(gt_women) + Number(rs.facilities[eeeeeee].women_space);
								gt_couple 				= Number(gt_couple) + Number(rs.facilities[eeeeeee].couple_room);
								gt_prayer 				= Number(gt_prayer) + Number(rs.facilities[eeeeeee].prayer_room);
								gt_community 			= Number(gt_community) + Number(rs.facilities[eeeeeee].community_kitchen);
								gt_wash 				= Number(gt_wash) + Number(rs.facilities[eeeeeee].wash);
								gt_ramps 				= Number(gt_ramps) + Number(rs.facilities[eeeeeee].ramps);
								gt_help 				= Number(gt_help) + Number(rs.facilities[eeeeeee].help_desk);
								gt_capacity 			= Number(gt_capacity) + Number(rs.facilities[eeeeeee].capacity);
								gt_rooms 				= Number(gt_rooms) + Number(rs.facilities[eeeeeee].no_of_rooms);
							}

						}

						var all_brgy_in_ec = 0;

						var region_psgc = $('#region_id_session').text();

						for(var h in rs.brgy_unique_ec){
							if(Number(regions[t].id) == Number(rs.brgy_unique_ec[h].region_psgc)){
								all_brgy_in_ec += 1;
							}

						}


						$("#tbl_masterquery_revss tbody").append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'><b>"+regions[t].name+"</b></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gb_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt4ps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtec_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtec_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+all_brgy_in_ec+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtifam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtifam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_t_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_t_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtiper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtiper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtofam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtofam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtoper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gtoper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtfam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtfam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pregnant_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pregnant_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_lactating_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_lactating_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_solo_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_solo_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ip_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ip_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_compost+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_sealed+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_child+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_women+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_couple+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_prayer+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_community+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_wash+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ramps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_help+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_capacity+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_rooms+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtttotdamage+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgttotdamage+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+tgtpartdamage+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtffp_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtffp_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtheb_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtheb_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtrtef_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtrtef_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtshelter_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtshelter_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gthygiene_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gthygiene_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtsleeping_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtsleeping_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtkitchen_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtkitchen_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtfamily_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtfamily_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtpotable_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtpotable_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+gtother_cost.toLocaleString()+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+addCommaMoney(gtasstlgu)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+addCommaMoney(gtasstngo)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+addCommaMoney(gtasstogo)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+addCommaMoney(gttasst)+"</td>"+

							"</tr>"
						)

						$('#tbl_sex_age_distribution_list tbody').append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'><b>"+regions[t].name+"</b></td>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_infant_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_toddler_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pschool_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_schoolage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_teenage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_adult_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_senior_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pregnant_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pregnant_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_lactating_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_lactating_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_pwd_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_solo_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_solo_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ip_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ip_now+"</td>"+
							"</tr>"
						)

						$('#tbl_evauation_facility_list tbody').append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'><b>"+regions[t].name+"</b></td>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='border:1px solid #000; background-color:#A6A6A6; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_compost+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_sealed+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_portalet_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_bathing_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_child+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_women+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_couple+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_prayer+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_community+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_wash+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_ramps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_help+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_capacity+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#A6A6A6; color: #000;'>"+gt_rooms+"</td>"+
							"</tr>"
						)

						for(var p in provinces){

							if(provinces[p].regionid == regions[t].id){

								var ptfam_cum 		= 0;
								var ptper_cum 		= 0;
								var pt4ps 			= 0;	 		
								var ptec_cum 		= 0;
								var ptec_now 		= 0;

								var ptifam_cum 		= 0;
								var ptifam_now 		= 0;
								var ptiper_cum 		= 0;
								var ptiper_now 		= 0;

								var ptofam_cum 		= 0;
								var ptofam_now 		= 0;
								var ptoper_cum 		= 0;
								var ptoper_now 		= 0;

								var pb_cum 			= 0;

								var pbb0_2;
								var pbb0_3 = 0;

								var ttpfam_cum = 0;
								var ttpfam_now = 0;
								var ttpper_cum = 0;
								var ttpper_now = 0;

								var ttptotdamage = 0;
								var ttppartdamage = 0;
								var ttpttotdamage = 0;

								var ttptotdamage = 0;
								var ttppartdamage = 0;
								var ttpttotdamage = 0;
								var passtlgu = 0;
								var passtngo = 0;
								var passtogo = 0;
								var pdswdasst = 0;
								var ptasst = 0;

								var pffp_q = 0;
								var pffp_cost = 0;

								var pheb_q = 0;
								var pheb_cost = 0;

								var prtef_q = 0;
								var prtef_cost = 0;

								var pshelter_q = 0;
								var pshelter_cost = 0;

								var phygiene_q = 0;
								var phygiene_cost = 0;

								var phygiene_q = 0;
								var phygiene_cost = 0;

								var psleeping_q = 0;
								var psleeping_cost = 0;

								var pkitchen_q = 0;
								var pkitchen_cost = 0;

								var pfamily_q = 0;
								var pfamily_cost = 0;

								var ppotable_q = 0;
								var ppotable_cost = 0;

								var pother_cost = 0;

								for(var tttt in rs.rs){
									if(rs.rs[tttt].provinceid == provinces[p].id){

										//ptfam_cum += Number(rs.rs[tttt].family_cum);
										//ptper_cum += Number(rs.rs[tttt].person_cum);

										pt4ps += Number(rs.rs[tttt].fourps);

										ptifam_cum += Number(rs.rs[tttt].family_cum);
										ptifam_now += Number(rs.rs[tttt].family_now);
										ptiper_cum += Number(rs.rs[tttt].person_cum);
										ptiper_now += Number(rs.rs[tttt].person_now);

										ttpfam_cum += Number(rs.rs[tttt].family_cum);
										ttpfam_now += Number(rs.rs[tttt].family_now);
										ttpper_cum += Number(rs.rs[tttt].person_cum);
										ttpper_now += Number(rs.rs[tttt].person_now);


										pbb0_2 = rs.rs[tttt].brgy_located;

										pbb0_2 = pbb0_2.split(",");

										for(var jh in pbb0_2){
											pbb0_3 += 1;
										}
									}

								}

								for(var gggg in rs.query_outec){

									if(rs.query_outec[gggg].provinceid == provinces[p].id){

										//ptfam_cum += Number(rs.query_outec[gggg].family_cum);
										//ptper_cum += Number(rs.rs[gggg].person_cum);

										ptofam_cum += Number(rs.query_outec[gggg].family_cum);
										ptofam_now += Number(rs.query_outec[gggg].family_now);
										ptoper_cum += Number(rs.query_outec[gggg].person_cum);
										ptoper_now += Number(rs.query_outec[gggg].person_now);

										ttpfam_cum += Number(rs.query_outec[gggg].family_cum);
										ttpfam_now += Number(rs.query_outec[gggg].family_now);
										ttpper_cum += Number(rs.query_outec[gggg].person_cum);
										ttpper_now += Number(rs.query_outec[gggg].person_now);

									}

								}

								for(var wwww in rs.queryecs){

									if(rs.queryecs[wwww].province_id == provinces[p].id){
										ptec_cum += Number(rs.queryecs[wwww].ec_cum);
										ptec_now += Number(rs.queryecs[wwww].ec_now);
									}

								}

								for(var gx in rs.city){

									var tf = 0;
									var tp = 0;
									var pb = 0;

									var itf = 0;
									var itp = 0;
									var itb = 0;
									

									if(rs.city[gx].provinceid == provinces[p].id){

										for(var tx in rs.rs){
											if(rs.rs[tx].municipality_id == rs.city[gx].id){
												tf += Number(rs.rs[tx].family_cum);
												tp += Number(rs.rs[tx].person_cum);
											}
										}

										for(var gs in rs.query_outec){
											if(rs.query_outec[gs].municipality_id == rs.city[gx].id){
												tf += Number(rs.query_outec[gs].family_cum);
												tp += Number(rs.query_outec[gs].person_cum);
											}
										}

										for(var yx in rs.all_affected){
											if(rs.all_affected[yx].municipality_id == rs.city[gx].id){
												itf = rs.all_affected[yx].fam_no;
												itp = rs.all_affected[yx].person_no;
												itb = rs.all_affected[yx].brgy_affected;
											}
										}

										ptfam_cum += (Number(tf) > Number(itf) ? tf : itf);
										ptper_cum += (Number(tp) > Number(itp) ? tp : itp);


										for(var qqqq in rs.brgys){
											if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
												pb += 1;
											}
										}

										pb_cum += (Number(pb) > Number(itb) ? pb : itb);

									}

								}

								// for(var qqqq in rs.brgys){

								// 	if(rs.brgys[qqqq].province_id == provinces[p].id){
								// 		pb_cum += 1;
								// 	}

								// }

								for(var oooo in rs.query_asst){

									if(rs.query_asst[oooo].provinceid == provinces[p].id){

										ttptotdamage += Number(rs.query_asst[oooo].totally_damaged);
										ttppartdamage += Number(rs.query_asst[oooo].partially_damaged);
										ttpttotdamage += Number(rs.query_asst[oooo].totally_damaged) + Number(rs.query_asst[oooo].partially_damaged);

										passtlgu += Number(rs.query_asst[oooo].lgu_asst);
										passtngo += Number(rs.query_asst[oooo].ngo_asst);
										passtogo += Number(rs.query_asst[oooo].ogo_asst);
										pdswdasst += Number(rs.query_asst[oooo].dswd_asst);

										ptasst += Number(rs.query_asst[oooo].lgu_asst) + Number(rs.query_asst[oooo].ngo_asst) + Number(rs.query_asst[oooo].ogo_asst) + Number(rs.query_asst[oooo].dswd_asst);

									}

								}


								for(var pppp in rs.query_fnfis){

									if(rs.query_fnfis[pppp].provinceid == provinces[p].id){

										if(rs.query_fnfis[pppp].fnfitype == 'ffp'){

											pffp_q 		+= Number(rs.query_fnfis[pppp].quantity);
											pffp_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'heb'){

											pheb_q 		+= Number(rs.query_fnfis[pppp].quantity);
											pheb_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'rtef'){

											prtef_q 		+= Number(rs.query_fnfis[pppp].quantity);
											prtef_cost 		+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'shelter'){

											pshelter_q 		+= Number(rs.query_fnfis[pppp].quantity);
											pshelter_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'hygiene'){

											phygiene_q 		+= Number(rs.query_fnfis[pppp].quantity);
											phygiene_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'sleeping'){

											psleeping_q 	+= Number(rs.query_fnfis[pppp].quantity);
											psleeping_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'kitchen'){

											pkitchen_q 		+= Number(rs.query_fnfis[pppp].quantity);
											pkitchen_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'family'){

											pfamily_q 		+= Number(rs.query_fnfis[pppp].quantity);
											pfamily_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'potable'){

											ppotable_q 		+= Number(rs.query_fnfis[pppp].quantity);
											ppotable_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

										if(rs.query_fnfis[pppp].fnfitype == 'other'){

											pother_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

										}

									}

								}

								var p_infant_male_cum 		= 0;
								var p_infant_male_now 		= 0;
								var p_infant_female_cum 	= 0;
								var p_infant_female_now 	= 0;

								var p_toddler_male_cum 		= 0;
								var p_toddler_male_now 		= 0;
								var p_toddler_female_cum 	= 0;
								var p_toddler_female_now 	= 0;

								var p_pschool_male_cum 		= 0;
								var p_pschool_male_now 		= 0;
								var p_pschool_female_cum 	= 0;
								var p_pschool_female_now 	= 0;

								var p_schoolage_male_cum 	= 0;
								var p_schoolage_male_now 	= 0;
								var p_schoolage_female_cum 	= 0;
								var p_schoolage_female_now 	= 0;

								var p_teenage_male_cum 		= 0;
								var p_teenage_male_now 		= 0;
								var p_teenage_female_cum 	= 0;
								var p_teenage_female_now 	= 0;

								var p_adult_male_cum 		= 0;
								var p_adult_male_now 		= 0;
								var p_adult_female_cum 		= 0;
								var p_adult_female_now 		= 0;

								var p_senior_male_cum 		= 0;
								var p_senior_male_now 		= 0;
								var p_senior_female_cum 	= 0;
								var p_senior_female_now 	= 0;

								var p_pwd_male_cum 			= 0;
								var p_pwd_male_now 			= 0;
								var p_pwd_female_cum 		= 0;
								var p_pwd_female_now 		= 0;

								var p_pregnant_cum 			= 0;
								var p_pregnant_now 			= 0;

								var p_lactating_cum 		= 0;
								var p_lactating_now 		= 0;

								var p_solo_cum 				= 0;
								var p_solo_now 				= 0

								var p_ip_cum 				= 0;
								var p_ip_now 				= 0;

								var p_male_cum 				= 0; 
								var p_male_now 				= 0;
								var p_female_cum 			= 0;
								var p_female_now 			= 0; 

								var p_t_cum 				= 0;
								var p_t_now 				= 0;

								var p_compost 				= 0;
								var p_sealed 				= 0;

								var p_portalet_male 		= 0;
								var p_portalet_female 		= 0;
								var p_portalet_common 		= 0;

								var p_bathing_male 			= 0;
								var p_bathing_female 		= 0;
								var p_bathing_common 		= 0;

								var p_child 				= 0;
								var p_women 				= 0;
								var p_couple 				= 0;
								var p_prayer 				= 0;
								var p_community 			= 0;
								var p_wash 					= 0;
								var p_ramps 				= 0;
								var p_help 					= 0;
								var p_capacity 				= 0;
								var p_rooms 				= 0;

								for(var uu_1 in rs.sex){

									if(rs.sex[uu_1].province_id == provinces[p].id){

										p_infant_male_cum 		= Number(p_infant_male_cum) + Number(rs.sex[uu_1].infant_male_cum); 
										p_infant_male_now 		= Number(p_infant_male_now) + Number(rs.sex[uu_1].infant_male_now); 
										p_infant_female_cum 	= Number(p_infant_female_cum) + Number(rs.sex[uu_1].infant_female_cum); 
										p_infant_female_now 	= Number(p_infant_female_now) + Number(rs.sex[uu_1].infant_female_now);

										p_toddler_male_cum 		= Number(p_toddler_male_cum) + Number(rs.sex[uu_1].toddler_male_cum);
										p_toddler_male_now 		= Number(p_toddler_male_now) + Number(rs.sex[uu_1].toddler_male_now);
										p_toddler_female_cum 	= Number(p_toddler_female_cum) + Number(rs.sex[uu_1].toddler_female_cum);
										p_toddler_female_now 	= Number(p_toddler_female_now) + Number(rs.sex[uu_1].toddler_female_now);

										p_pschool_male_cum 		= Number(p_pschool_male_cum) + Number(rs.sex[uu_1].preschooler_male_cum);
										p_pschool_male_now 		= Number(p_pschool_male_now) + Number(rs.sex[uu_1].preschooler_male_now);
										p_pschool_female_cum 	= Number(p_pschool_female_cum) + Number(rs.sex[uu_1].preschooler_female_cum);
										p_pschool_female_now 	= Number(p_pschool_female_now) + Number(rs.sex[uu_1].preschooler_female_now);

										p_schoolage_male_cum 	= Number(p_schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_male_cum);
										p_schoolage_male_now 	= Number(p_schoolage_male_now) + Number(rs.sex[uu_1].schoolage_male_now);
										p_schoolage_female_cum 	= Number(p_schoolage_female_cum) + Number(rs.sex[uu_1].schoolage_female_cum);
										p_schoolage_female_now 	= Number(p_schoolage_female_now) + Number(rs.sex[uu_1].schoolage_female_now);

										p_teenage_male_cum 		= Number(p_teenage_male_cum) + Number(rs.sex[uu_1].teenage_male_cum);
										p_teenage_male_now 		= Number(p_teenage_male_now) + Number(rs.sex[uu_1].teenage_male_now);
										p_teenage_female_cum 	= Number(p_teenage_female_cum) + Number(rs.sex[uu_1].teenage_female_cum);
										p_teenage_female_now 	= Number(p_teenage_female_now) + Number(rs.sex[uu_1].teenage_female_now);

										p_adult_male_cum 		= Number(p_adult_male_cum) + Number(rs.sex[uu_1].adult_male_cum);
										p_adult_male_now 		= Number(p_adult_male_now) + Number(rs.sex[uu_1].adult_male_now);
										p_adult_female_cum 		= Number(p_adult_female_cum) + Number(rs.sex[uu_1].adult_female_cum);
										p_adult_female_now 		= Number(p_adult_female_now) + Number(rs.sex[uu_1].adult_female_now);

										p_senior_male_cum 		= Number(p_senior_male_cum) + Number(rs.sex[uu_1].senior_male_cum);
										p_senior_male_now 		= Number(p_senior_male_now) + Number(rs.sex[uu_1].senior_male_now);
										p_senior_female_cum 	= Number(p_senior_female_cum) + Number(rs.sex[uu_1].senior_female_cum);
										p_senior_female_now 	= Number(p_senior_female_now) + Number(rs.sex[uu_1].senior_female_now);

										p_male_cum 		= Number(p_infant_male_cum) + Number(p_toddler_male_cum) + Number(p_pschool_male_cum) + Number(p_schoolage_male_cum) + Number(p_teenage_male_cum) + Number(p_adult_male_cum) + Number(p_senior_male_cum);
										p_male_now 		= Number(p_infant_male_now) + Number(p_toddler_male_now) + Number(p_pschool_male_now) + Number(p_schoolage_male_now) + Number(p_teenage_male_now) + Number(p_adult_male_now) + Number(p_senior_male_now);
										p_female_cum 	= Number(p_infant_female_cum) + Number(p_toddler_female_cum) + Number(p_pschool_female_cum) + Number(p_schoolage_female_cum) + Number(p_teenage_female_cum) + Number(p_adult_female_cum) + Number(p_senior_female_cum);
										p_female_now 	= Number(p_infant_female_now) + Number(p_toddler_female_now) + Number(p_pschool_female_now) + Number(p_schoolage_female_now) + Number(p_teenage_female_now) + Number(p_adult_female_now) + Number(p_senior_female_now);


										p_pregnant_cum 		= Number(p_pregnant_cum) + Number(rs.sex[uu_1].pregnant_cum);
										p_pregnant_now 		= Number(p_pregnant_now) + Number(rs.sex[uu_1].pregnant_now);

										p_lactating_cum 	= Number(p_lactating_cum) + Number(rs.sex[uu_1].lactating_cum);
										p_lactating_now 	= Number(p_lactating_now) + Number(rs.sex[uu_1].lactating_now);

										p_pwd_male_cum 		= Number(p_pwd_male_cum) + Number(rs.sex[uu_1].disable_male_cum);
										p_pwd_male_now 		= Number(p_pwd_male_now) + Number(rs.sex[uu_1].disable_male_now);
										p_pwd_female_cum 	= Number(p_pwd_female_cum) + Number(rs.sex[uu_1].disable_female_cum);
										p_pwd_female_now 	= Number(p_pwd_female_now) + Number(rs.sex[uu_1].disable_female_now);

										p_solo_cum 			= Number(p_solo_cum) + Number(rs.sex[uu_1].solo_cum);
										p_solo_now 			= Number(p_solo_now) + Number(rs.sex[uu_1].solo_now);

										p_ip_cum 			= Number(p_ip_cum) + Number(rs.sex[uu_1].ip_cum);
										p_ip_now 			= Number(p_ip_now) + Number(rs.sex[uu_1].ip_now);

										p_t_cum 			+= Number(rs.sex[uu_1].infant_male_cum) + Number(rs.sex[uu_1].infant_female_cum) + Number(rs.sex[uu_1].toddler_male_cum) + Number(rs.sex[uu_1].toddler_female_cum) + 
										Number(rs.sex[uu_1].preschooler_male_cum) + Number(rs.sex[uu_1].preschooler_female_cum) + Number(rs.sex[uu_1].schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_female_cum) + 
										Number(rs.sex[uu_1].teenage_male_cum) + Number(rs.sex[uu_1].teenage_female_cum) + Number(rs.sex[uu_1].adult_male_cum) + Number(rs.sex[uu_1].adult_female_cum) +
										Number(rs.sex[uu_1].senior_male_cum) + Number(rs.sex[uu_1].senior_female_cum) + Number(rs.sex[uu_1].pregnant_cum) + Number(rs.sex[uu_1].lactating_cum) + 
										Number(rs.sex[uu_1].disable_male_cum) + Number(rs.sex[uu_1].disable_female_cum) + Number(rs.sex[uu_1].solo_cum) + Number(rs.sex[uu_1].ip_cum);

										p_t_now 			+= Number(rs.sex[uu_1].infant_male_now) + Number(rs.sex[uu_1].infant_female_now) + Number(rs.sex[uu_1].toddler_male_now) + Number(rs.sex[uu_1].toddler_female_now) + 
										Number(rs.sex[uu_1].preschooler_male_now) + Number(rs.sex[uu_1].preschooler_female_now) + Number(rs.sex[uu_1].schoolage_male_now) + Number(rs.sex[uu_1].schoolage_female_now) + 
										Number(rs.sex[uu_1].teenage_male_now) + Number(rs.sex[uu_1].teenage_female_now) + Number(rs.sex[uu_1].adult_male_now) + Number(rs.sex[uu_1].adult_female_now) +
										Number(rs.sex[uu_1].senior_male_now) + Number(rs.sex[uu_1].senior_female_now) + Number(rs.sex[uu_1].pregnant_now) + Number(rs.sex[uu_1].lactating_now) + 
										Number(rs.sex[uu_1].disable_male_now) + Number(rs.sex[uu_1].disable_female_now) + Number(rs.sex[uu_1].solo_now) + Number(rs.sex[uu_1].ip_now);

									}

								}

								for(var eeeeee in rs.facilities){

									if(rs.facilities[eeeeee].province_id == provinces[p].id){

										p_compost 				= Number(p_compost) + Number(rs.facilities[eeeeee].compost_pit);
										p_sealed 				= Number(p_sealed) + Number(rs.facilities[eeeeee].sealed);
										p_portalet_male 		= Number(p_portalet_male) + Number(rs.facilities[eeeeee].portalets_male);
										p_portalet_female 		= Number(p_portalet_female) + Number(rs.facilities[eeeeee].portalets_female);
										p_portalet_common 		= Number(p_portalet_common) + Number(rs.facilities[eeeeee].portalets_common);
										p_bathing_male 			= Number(p_bathing_male) + Number(rs.facilities[eeeeee].bathing_cubicles_male);
										p_bathing_female 		= Number(p_bathing_female) + Number(rs.facilities[eeeeee].bathing_cubicles_female);
										p_bathing_common 		= Number(p_bathing_common) + Number(rs.facilities[eeeeee].bathing_cubicles_common);
										p_child 				= Number(p_child) + Number(rs.facilities[eeeeee].child_space);
										p_women 				= Number(p_women) + Number(rs.facilities[eeeeee].women_space);
										p_couple 				= Number(p_couple) + Number(rs.facilities[eeeeee].couple_room);
										p_prayer 				= Number(p_prayer) + Number(rs.facilities[eeeeee].prayer_room);
										p_community 			= Number(p_community) + Number(rs.facilities[eeeeee].community_kitchen);
										p_wash 					= Number(p_wash) + Number(rs.facilities[eeeeee].wash);
										p_ramps 				= Number(p_ramps) + Number(rs.facilities[eeeeee].ramps);
										p_help 					= Number(p_help) + Number(rs.facilities[eeeeee].help_desk);
										p_capacity 				= Number(p_capacity) + Number(rs.facilities[eeeeee].capacity);
										p_rooms 				= Number(p_rooms) + Number(rs.facilities[eeeeee].no_of_rooms);
									}

								}

								var p_all_brgy_in_ec = 0;

								for(var h in rs.brgy_unique_ec){

									if(rs.brgy_unique_ec[h].province_id == provinces[p].id){
										p_all_brgy_in_ec += 1;
									}

									

								}

								$("#tbl_masterquery_revss tbody").append(
									"<tr>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</b></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+pb_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptfam_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptper_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+pt4ps+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptec_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptec_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_all_brgy_in_ec+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptifam_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptifam_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_t_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_t_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptiper_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptiper_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptofam_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptofam_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptoper_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptoper_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_compost+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_sealed+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_male+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_female+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_common+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_male+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_female+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_common+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_child+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_women+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_couple+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_prayer+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_community+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_wash+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ramps+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_help+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_capacity+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_rooms+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpttotdamage+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttptotdamage+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttppartdamage+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pffp_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pffp_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pheb_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pheb_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+prtef_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+prtef_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pshelter_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pshelter_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+phygiene_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+phygiene_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+psleeping_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+psleeping_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pkitchen_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pkitchen_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pfamily_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pfamily_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+ppotable_q.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+ppotable_cost.toLocaleString()+"</td>"+
										"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pother_cost.toLocaleString()+"</td>"+
										"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtlgu)+"</td>"+
										"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtngo)+"</td>"+
										"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtogo)+"</td>"+
										"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(ptasst)+"</td>"+

									"</tr>"
								)

								$('#tbl_sex_age_distribution_list tbody').append(
									"<tr>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</td>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_now+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_cum+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_now+"</td>"+
									"</tr>"
								)

								$('#tbl_evauation_facility_list tbody').append(
									"<tr>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</td>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_compost+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_sealed+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_male+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_female+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_common+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_male+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_female+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_common+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_child+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_women+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_couple+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_prayer+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_community+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_wash+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ramps+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_help+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_capacity+"</td>"+
										"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_rooms+"</td>"+
									"</tr>"
								)

							for(var mm in rs.city){

								var mtfam_cum 		= 0;
								var mtper_cum 		= 0;
								var mt4ps 			= 0;
								var mtec_cum 		= 0;
								var mtec_now 		= 0;

								var mtifam_cum 		= 0;
								var mtifam_now 		= 0;
								var mtiper_cum 		= 0;
								var mtiper_now 		= 0;

								var mtofam_cum 		= 0;
								var mtofam_now 		= 0;
								var mtoper_cum 		= 0;
								var mtoper_now 		= 0;

								var mb_cum 			= 0;

								var bb0_2;
								var bb0_3 = 0;

								var ttcfam_cum = 0;
								var ttcfam_now = 0;
								var ttcper_cum = 0;
								var ttcper_now = 0;

								var ttctotdamage = 0;
								var ttcpartdamage = 0;
								var ttcttotdamage = 0;

								var casstlgu = 0;
								var casstngo = 0;
								var casstogo = 0;
								var cdswdasst = 0;

								var ctasst = 0;

								var cffp_q = 0;
								var cffp_cost = 0;
								var cheb_q = 0;
								var cheb_cost = 0;
								var crtef_q = 0;
								var crtef_cost = 0;
								var cshelter_q = 0;
								var cshelter_cost = 0;
								var chygiene_q = 0;
								var chygiene_cost = 0;
								var chygiene_q = 0;
								var chygiene_cost = 0;
								var csleeping_q = 0;
								var csleeping_cost = 0;
								var ckitchen_q = 0;
								var ckitchen_cost = 0;
								var cfamily_q = 0;
								var cfamily_cost = 0;
								var cpotable_q = 0;
								var cpotable_cost = 0;
								var cother_cost = 0;

								var c_infant_male_cum 		= 0;
								var c_infant_male_now 		= 0;
								var c_infant_female_cum 	= 0;
								var c_infant_female_now 	= 0;

								var c_toddler_male_cum 		= 0;
								var c_toddler_male_now 		= 0;
								var c_toddler_female_cum 	= 0;
								var c_toddler_female_now 	= 0;

								var c_pschool_male_cum 		= 0;
								var c_pschool_male_now 		= 0;
								var c_pschool_female_cum 	= 0;
								var c_pschool_female_now 	= 0;

								var c_schoolage_male_cum 	= 0;
								var c_schoolage_male_now 	= 0;
								var c_schoolage_female_cum 	= 0;
								var c_schoolage_female_now 	= 0;

								var c_teenage_male_cum 		= 0;
								var c_teenage_male_now 		= 0;
								var c_teenage_female_cum 	= 0;
								var c_teenage_female_now 	= 0;

								var c_adult_male_cum 		= 0;
								var c_adult_male_now 		= 0;
								var c_adult_female_cum 		= 0;
								var c_adult_female_now 		= 0;

								var c_senior_male_cum 		= 0;
								var c_senior_male_now 		= 0;
								var c_senior_female_cum 	= 0;
								var c_senior_female_now 	= 0;

								var c_pwd_male_cum 			= 0;
								var c_pwd_male_now 			= 0;
								var c_pwd_female_cum 		= 0;
								var c_pwd_female_now 		= 0;

								var c_pregnant_cum 			= 0;
								var c_pregnant_now 			= 0;

								var c_latating_cum 			= 0;
								var c_latating_now 			= 0;

								var c_solo_cum 				= 0;
								var c_solo_now 				= 0

								var c_ips_cum 				= 0;
								var c_ips_now 				= 0;

								if(rs.city[mm].provinceid == provinces[p].id){

									for(var ttt in rs.rs){

										if(Number(rs.rs[ttt].municipality_id) == Number(rs.city[mm].id)){

											//mtfam_cum += Number(rs.rs[ttt].family_cum);
											//mtper_cum += Number(rs.rs[ttt].person_cum);

											mt4ps += Number(rs.rs[ttt].fourps);

											mtifam_cum += Number(rs.rs[ttt].family_cum);
											mtifam_now += Number(rs.rs[ttt].family_now);
											mtiper_cum += Number(rs.rs[ttt].person_cum);
											mtiper_now += Number(rs.rs[ttt].person_now);

											ttcfam_cum += Number(rs.rs[ttt].family_cum);
											ttcfam_now += Number(rs.rs[ttt].family_now);
											ttcper_cum += Number(rs.rs[ttt].person_cum);
											ttcper_now += Number(rs.rs[ttt].person_now);


											bb0_2 = rs.rs[ttt].brgy_located;

											bb0_2 = bb0_2.split(",");

											for(var j in bb0_2){
												bb0_3 += 1;
											}
										}

									}

									for(var ggg in rs.query_outec){

										if(rs.query_outec[ggg].municipality_id == rs.city[mm].id){

											//mtfam_cum += Number(rs.query_outec[ggg].family_cum);
											//mtper_cum += Number(rs.rs[ttt].person_cum);

											mtofam_cum += Number(rs.query_outec[ggg].family_cum);
											mtofam_now += Number(rs.query_outec[ggg].family_now);
											mtoper_cum += Number(rs.query_outec[ggg].person_cum);
											mtoper_now += Number(rs.query_outec[ggg].person_now);

											ttcfam_cum += Number(rs.query_outec[ggg].family_cum);
											ttcfam_now += Number(rs.query_outec[ggg].family_now);
											ttcper_cum += Number(rs.query_outec[ggg].person_cum);
											ttcper_now += Number(rs.query_outec[ggg].person_now);

										}

									}

									for(var www in rs.queryecs){

										if(rs.queryecs[www].municipality_id == rs.city[mm].id){
											mtec_cum += Number(rs.queryecs[www].ec_cum);
											mtec_now += Number(rs.queryecs[www].ec_now);
										}
		 
									}

									var gtf = 0;
									var gtp = 0;
									var gpb = 0;

									var gitf = 0;
									var gitp = 0;
									var gitb = 0;

									for(var gtx in rs.rs){
										if(rs.rs[gtx].municipality_id == rs.city[mm].id){
											gtf += Number(rs.rs[gtx].family_cum);
											gtp += Number(rs.rs[gtx].person_cum);
										}
									}

									for(var ggs in rs.query_outec){
										if(rs.query_outec[ggs].municipality_id == rs.city[mm].id){
											gtf += Number(rs.query_outec[ggs].family_cum);
											gtp += Number(rs.query_outec[ggs].person_cum);
										}
									}

									for(var gyx in rs.all_affected){
										if(rs.all_affected[gyx].municipality_id == rs.city[mm].id){
											gitf = rs.all_affected[gyx].fam_no;
											gitp = rs.all_affected[gyx].person_no;
											gitb = rs.all_affected[gyx].brgy_affected;
										}
									}

									mtfam_cum += (Number(gtf) > Number(gitf) ? gtf : gitf);
									mtper_cum += (Number(gtp) > Number(gitp) ? gtp : gitp);


									for(var gqqqq in rs.brgys){
										if(rs.brgys[gqqqq].municipality_id == rs.city[mm].id){
											gpb += 1;
										}
									}

									mb_cum += (Number(gpb) > Number(gitb) ? gpb : gitb);

									// for(var qqq in rs.brgys){

									// 	if(rs.brgys[qqq].municipality_id == rs.city[mm].id){
									// 		mb_cum += 1;
									// 	}

									// }

									for(var ooo in rs.query_asst){

										if(rs.query_asst[ooo].municipality_id == rs.city[mm].id){

											ttctotdamage += Number(rs.query_asst[ooo].totally_damaged);
											ttcpartdamage += Number(rs.query_asst[ooo].partially_damaged);
											ttcttotdamage += Number(rs.query_asst[ooo].totally_damaged) + Number(rs.query_asst[ooo].partially_damaged);

											casstlgu += Number(rs.query_asst[ooo].lgu_asst);
											casstngo += Number(rs.query_asst[ooo].ngo_asst);
											casstogo += Number(rs.query_asst[ooo].ogo_asst);
											cdswdasst += Number(rs.query_asst[ooo].dswd_asst);

											ctasst += Number(rs.query_asst[ooo].lgu_asst) + Number(rs.query_asst[ooo].ngo_asst) + Number(rs.query_asst[ooo].ogo_asst) + Number(rs.query_asst[ooo].dswd_asst);

										}

									}

									for(var ppp in rs.query_fnfis){

										if(rs.query_fnfis[ppp].municipality_id == rs.city[mm].id){

											if(rs.query_fnfis[ppp].fnfitype == 'ffp'){

												cffp_q 		+= Number(rs.query_fnfis[ppp].quantity);
												cffp_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'heb'){

												cheb_q 		+= Number(rs.query_fnfis[ppp].quantity);
												cheb_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'rtef'){

												crtef_q 		+= Number(rs.query_fnfis[ppp].quantity);
												crtef_cost 		+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'shelter'){

												cshelter_q 		+= Number(rs.query_fnfis[ppp].quantity);
												cshelter_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'hygiene'){

												chygiene_q 		+= Number(rs.query_fnfis[ppp].quantity);
												chygiene_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'sleeping'){

												csleeping_q 	+= Number(rs.query_fnfis[ppp].quantity);
												csleeping_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'kitchen'){

												ckitchen_q 		+= Number(rs.query_fnfis[ppp].quantity);
												ckitchen_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'family'){

												cfamily_q 		+= Number(rs.query_fnfis[ppp].quantity);
												cfamily_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'potable'){

												cpotable_q 		+= Number(rs.query_fnfis[ppp].quantity);
												cpotable_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

											if(rs.query_fnfis[ppp].fnfitype == 'other'){

												cother_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

											}

										}

									}

									var m_infant_male_cum 		= 0;
									var m_infant_male_now 		= 0;
									var m_infant_female_cum 	= 0;
									var m_infant_female_now 	= 0;

									var m_toddler_male_cum 		= 0;
									var m_toddler_male_now 		= 0;
									var m_toddler_female_cum 	= 0;
									var m_toddler_female_now 	= 0;

									var m_pschool_male_cum 		= 0;
									var m_pschool_male_now 		= 0;
									var m_pschool_female_cum 	= 0;
									var m_pschool_female_now 	= 0;

									var m_schoolage_male_cum 	= 0;
									var m_schoolage_male_now 	= 0;
									var m_schoolage_female_cum 	= 0;
									var m_schoolage_female_now 	= 0;

									var m_teenage_male_cum 		= 0;
									var m_teenage_male_now 		= 0;
									var m_teenage_female_cum 	= 0;
									var m_teenage_female_now 	= 0;

									var m_adult_male_cum 		= 0;
									var m_adult_male_now 		= 0;
									var m_adult_female_cum 		= 0;
									var m_adult_female_now 		= 0;

									var m_senior_male_cum 		= 0;
									var m_senior_male_now 		= 0;
									var m_senior_female_cum 	= 0;
									var m_senior_female_now 	= 0;

									var m_pwd_male_cum 			= 0;
									var m_pwd_male_now 			= 0;
									var m_pwd_female_cum 		= 0;
									var m_pwd_female_now 		= 0;

									var m_pregnant_cum 			= 0;
									var m_pregnant_now 			= 0;

									var m_lactating_cum 		= 0;
									var m_lactating_now 		= 0;

									var m_solo_cum 				= 0;
									var m_solo_now 				= 0

									var m_ip_cum 				= 0;
									var m_ip_now 				= 0;

									var m_male_cum 				= 0; 
									var m_male_now 				= 0;
									var m_female_cum 			= 0;
									var m_female_now 			= 0; 

									var m_t_cum 				= 0;
									var m_t_now 				= 0;

									var c_compost 				= 0;
									var c_sealed 				= 0;

									var c_portalet_male 		= 0;
									var c_portalet_female 		= 0;
									var c_portalet_common 		= 0;

									var c_bathing_male 			= 0;
									var c_bathing_female 		= 0;
									var c_bathing_common 		= 0;

									var c_child 				= 0;
									var c_women 				= 0;
									var c_couple 				= 0;
									var c_prayer 				= 0;
									var c_community 			= 0;
									var c_wash 					= 0;
									var c_ramps 				= 0;
									var c_help 					= 0;
									var c_capacity 				= 0;
									var c_rooms 				= 0;



									for(var uuuu in rs.sex){

										if(rs.sex[uuuu].municipality_id == rs.city[mm].id){

											m_infant_male_cum 		= Number(m_infant_male_cum) + Number(rs.sex[uuuu].infant_male_cum); 
											m_infant_male_now 		= Number(m_infant_male_now) + Number(rs.sex[uuuu].infant_male_now); 
											m_infant_female_cum 	= Number(m_infant_female_cum) + Number(rs.sex[uuuu].infant_female_cum); 
											m_infant_female_now 	= Number(m_infant_female_now) + Number(rs.sex[uuuu].infant_female_now);

											m_toddler_male_cum 		= Number(m_toddler_male_cum) + Number(rs.sex[uuuu].toddler_male_cum);
											m_toddler_male_now 		= Number(m_toddler_male_now) + Number(rs.sex[uuuu].toddler_male_now);
											m_toddler_female_cum 	= Number(m_toddler_female_cum) + Number(rs.sex[uuuu].toddler_female_cum);
											m_toddler_female_now 	= Number(m_toddler_female_now) + Number(rs.sex[uuuu].toddler_female_now);

											m_pschool_male_cum 		= Number(m_pschool_male_cum) + Number(rs.sex[uuuu].preschooler_male_cum);
											m_pschool_male_now 		= Number(m_pschool_male_now) + Number(rs.sex[uuuu].preschooler_male_now);
											m_pschool_female_cum 	= Number(m_pschool_female_cum) + Number(rs.sex[uuuu].preschooler_female_cum);
											m_pschool_female_now 	= Number(m_pschool_female_now) + Number(rs.sex[uuuu].preschooler_female_now);

											m_schoolage_male_cum 	= Number(m_schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_male_cum);
											m_schoolage_male_now 	= Number(m_schoolage_male_now) + Number(rs.sex[uuuu].schoolage_male_now);
											m_schoolage_female_cum 	= Number(m_schoolage_female_cum) + Number(rs.sex[uuuu].schoolage_female_cum);
											m_schoolage_female_now 	= Number(m_schoolage_female_now) + Number(rs.sex[uuuu].schoolage_female_now);

											m_teenage_male_cum 		= Number(m_teenage_male_cum) + Number(rs.sex[uuuu].teenage_male_cum);
											m_teenage_male_now 		= Number(m_teenage_male_now) + Number(rs.sex[uuuu].teenage_male_now);
											m_teenage_female_cum 	= Number(m_teenage_female_cum) + Number(rs.sex[uuuu].teenage_female_cum);
											m_teenage_female_now 	= Number(m_teenage_female_now) + Number(rs.sex[uuuu].teenage_female_now);

											m_adult_male_cum 		= Number(m_adult_male_cum) + Number(rs.sex[uuuu].adult_male_cum);
											m_adult_male_now 		= Number(m_adult_male_now) + Number(rs.sex[uuuu].adult_male_now);
											m_adult_female_cum 		= Number(m_adult_female_cum) + Number(rs.sex[uuuu].adult_female_cum);
											m_adult_female_now 		= Number(m_adult_female_now) + Number(rs.sex[uuuu].adult_female_now);

											m_senior_male_cum 		= Number(m_senior_male_cum) + Number(rs.sex[uuuu].senior_male_cum);
											m_senior_male_now 		= Number(m_senior_male_now) + Number(rs.sex[uuuu].senior_male_now);
											m_senior_female_cum 	= Number(m_senior_female_cum) + Number(rs.sex[uuuu].senior_female_cum);
											m_senior_female_now 	= Number(m_senior_female_now) + Number(rs.sex[uuuu].senior_female_now);

											m_male_cum 		= Number(m_infant_male_cum) + Number(m_toddler_male_cum) + Number(m_pschool_male_cum) + Number(m_schoolage_male_cum) + Number(m_teenage_male_cum) + Number(m_adult_male_cum) + Number(m_senior_male_cum);
											m_male_now 		= Number(m_infant_male_now) + Number(m_toddler_male_now) + Number(m_pschool_male_now) + Number(m_schoolage_male_now) + Number(m_teenage_male_now) + Number(m_adult_male_now) + Number(m_senior_male_now);
											m_female_cum 	= Number(m_infant_female_cum) + Number(m_toddler_female_cum) + Number(m_pschool_female_cum) + Number(m_schoolage_female_cum) + Number(m_teenage_female_cum) + Number(m_adult_female_cum) + Number(m_senior_female_cum);
											m_female_now 	= Number(m_infant_female_now) + Number(m_toddler_female_now) + Number(m_pschool_female_now) + Number(m_schoolage_female_now) + Number(m_teenage_female_now) + Number(m_adult_female_now) + Number(m_senior_female_now);


											m_pregnant_cum 		= Number(m_pregnant_cum) + Number(rs.sex[uuuu].pregnant_cum);
											m_pregnant_now 		= Number(m_pregnant_now) + Number(rs.sex[uuuu].pregnant_now);

											m_lactating_cum 	= Number(m_lactating_cum) + Number(rs.sex[uuuu].lactating_cum);
											m_lactating_now 	= Number(m_lactating_now) + Number(rs.sex[uuuu].lactating_now);

											m_pwd_male_cum 		= Number(m_pwd_male_cum) + Number(rs.sex[uuuu].disable_male_cum);
											m_pwd_male_now 		= Number(m_pwd_male_now) + Number(rs.sex[uuuu].disable_male_now);
											m_pwd_female_cum 	= Number(m_pwd_female_cum) + Number(rs.sex[uuuu].disable_female_cum);
											m_pwd_female_now 	= Number(m_pwd_female_now) + Number(rs.sex[uuuu].disable_female_now);

											m_solo_cum 			= Number(m_solo_cum) + Number(rs.sex[uuuu].solo_cum);
											m_solo_now 			= Number(m_solo_now) + Number(rs.sex[uuuu].solo_now);

											m_ip_cum 			= Number(m_ip_cum) + Number(rs.sex[uuuu].ip_cum);
											m_ip_now 			= Number(m_ip_now) + Number(rs.sex[uuuu].ip_now);

											m_t_cum 			+= Number(rs.sex[uuuu].infant_male_cum) + Number(rs.sex[uuuu].infant_female_cum) + Number(rs.sex[uuuu].toddler_male_cum) + Number(rs.sex[uuuu].toddler_female_cum) + 
											Number(rs.sex[uuuu].preschooler_male_cum) + Number(rs.sex[uuuu].preschooler_female_cum) + Number(rs.sex[uuuu].schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_female_cum) + 
											Number(rs.sex[uuuu].teenage_male_cum) + Number(rs.sex[uuuu].teenage_female_cum) + Number(rs.sex[uuuu].adult_male_cum) + Number(rs.sex[uuuu].adult_female_cum) +
											Number(rs.sex[uuuu].senior_male_cum) + Number(rs.sex[uuuu].senior_female_cum) + Number(rs.sex[uuuu].pregnant_cum) + Number(rs.sex[uuuu].lactating_cum) + 
											Number(rs.sex[uuuu].disable_male_cum) + Number(rs.sex[uuuu].disable_female_cum) + Number(rs.sex[uuuu].solo_cum) + Number(rs.sex[uuuu].ip_cum);

											m_t_now 			+= Number(rs.sex[uuuu].infant_male_now) + Number(rs.sex[uuuu].infant_female_now) + Number(rs.sex[uuuu].toddler_male_now) + Number(rs.sex[uuuu].toddler_female_now) + 
											Number(rs.sex[uuuu].preschooler_male_now) + Number(rs.sex[uuuu].preschooler_female_now) + Number(rs.sex[uuuu].schoolage_male_now) + Number(rs.sex[uuuu].schoolage_female_now) + 
											Number(rs.sex[uuuu].teenage_male_now) + Number(rs.sex[uuuu].teenage_female_now) + Number(rs.sex[uuuu].adult_male_now) + Number(rs.sex[uuuu].adult_female_now) +
											Number(rs.sex[uuuu].senior_male_now) + Number(rs.sex[uuuu].senior_female_now) + Number(rs.sex[uuuu].pregnant_now) + Number(rs.sex[uuuu].lactating_now) + 
											Number(rs.sex[uuuu].disable_male_now) + Number(rs.sex[uuuu].disable_female_now) + Number(rs.sex[uuuu].solo_now) + Number(rs.sex[uuuu].ip_now);

										}

									}

									for(var eeeee in rs.facilities){

										if(rs.facilities[eeeee].municipality_id == rs.city[mm].id){

											c_compost 				= Number(c_compost) + Number(rs.facilities[eeeee].compost_pit);
											c_sealed 				= Number(c_sealed) + Number(rs.facilities[eeeee].sealed);
											c_portalet_male 		= Number(c_portalet_male) + Number(rs.facilities[eeeee].portalets_male);
											c_portalet_female 		= Number(c_portalet_female) + Number(rs.facilities[eeeee].portalets_female);
											c_portalet_common 		= Number(c_portalet_common) + Number(rs.facilities[eeeee].portalets_common);
											c_bathing_male 			= Number(c_bathing_male) + Number(rs.facilities[eeeee].bathing_cubicles_male);
											c_bathing_female 		= Number(c_bathing_female) + Number(rs.facilities[eeeee].bathing_cubicles_female);
											c_bathing_common 		= Number(c_bathing_common) + Number(rs.facilities[eeeee].bathing_cubicles_common);
											c_child 				= Number(c_child) + Number(rs.facilities[eeeee].child_space);
											c_women 				= Number(c_women) + Number(rs.facilities[eeeee].women_space);
											c_couple 				= Number(c_couple) + Number(rs.facilities[eeeee].couple_room);
											c_prayer 				= Number(c_prayer) + Number(rs.facilities[eeeee].prayer_room);
											c_community 			= Number(c_community) + Number(rs.facilities[eeeee].community_kitchen);
											c_wash 					= Number(c_wash) + Number(rs.facilities[eeeee].wash);
											c_ramps 				= Number(c_ramps) + Number(rs.facilities[eeeee].ramps);
											c_help 					= Number(c_help) + Number(rs.facilities[eeeee].help_desk);
											c_capacity 				= Number(c_capacity) + Number(rs.facilities[eeeee].capacity);
											c_rooms 				= Number(c_rooms) + Number(rs.facilities[eeeee].no_of_rooms);
										}

									}

									var m_all_brgy_in_ec = 0;

									for(var h in rs.brgy_unique_ec){

										if(rs.brgy_unique_ec[h].municipality_id == rs.city[mm].id){
											m_all_brgy_in_ec += 1;
										}

										

									}

									$("#tbl_masterquery_revss tbody").append(
										"<tr class='contextmenu_click contextmenu_click."+rs.city[mm].id+"'>"+
											"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mb_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtfam_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtper_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mt4ps+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_all_brgy_in_ec+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcttotdamage.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttctotdamage.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcpartdamage.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_q.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cother_cost.toLocaleString()+"</td>"+
											"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstlgu)+"</td>"+
											"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstngo)+"</td>"+
											"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstogo)+"</td>"+
											"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(ctasst)+"</td>"+
										"</tr>"
									)

									$('#tbl_sex_age_distribution_list tbody').append(
										"<tr>"+
											"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
										"</tr>"
									)

									$('#tbl_evauation_facility_list tbody').append(
										"<tr>"+
											"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
											"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
										"</tr>"
									)

									ec_cum = 0;
									ec_now = 0;
									brgynum = 0;

									var b0_2;
									var b0_3 = 0;

									var ofam_cum = 0;
									var ofam_now = 0;
									var oper_cum = 0;
									var oper_now = 0;

									var ifam_cum = 0;
									var ifam_now = 0;
									var iper_cum = 0;
									var iper_now = 0;

									var i4ps = 0;

									var tfam_cum = 0;
									var tper_cum = 0;
									var tfam_now = 0
									var tper_now = 0

									var tec_cum = 0;
									var tec_now = 0;

									for(var k in rs.brgys){

										if(rs.city[mm].id == rs.brgys[k].municipality_id){

											for(var h in rs.brgy){
												if(rs.brgy[h].id == rs.brgys[k].brgy_located_ec){
													var bb = rs.brgy[h].brgy_name;
													break;
												}else{
													var bb = null;
												}
											}

											for(var gg in rs.query_outec){

												if(rs.query_outec[gg].brgy_host == rs.brgys[k].brgy_located_ec){

													ofam_cum += Number(rs.query_outec[gg].family_cum);
													ofam_now += Number(rs.query_outec[gg].family_now);

													oper_cum += Number(rs.query_outec[gg].person_cum);
													oper_now += Number(rs.query_outec[gg].person_now);

													tfam_cum += Number(rs.query_outec[gg].family_cum);
													tper_cum += Number(rs.query_outec[gg].person_cum);

													tfam_now += Number(rs.query_outec[gg].family_now);
													tper_now += Number(rs.query_outec[gg].person_now);

												}

											}

											for(var tt in rs.rs){

												if(rs.rs[tt].brgy_located_ec == rs.brgys[k].brgy_located_ec){

													ifam_cum += Number(rs.rs[tt].family_cum);
													ifam_now += Number(rs.rs[tt].family_now);
													iper_cum += Number(rs.rs[tt].person_cum);
													iper_now += Number(rs.rs[tt].person_now);

													tfam_cum += Number(rs.rs[tt].family_cum);
													tper_cum += Number(rs.rs[tt].person_cum);

													tfam_now += Number(rs.rs[tt].family_now);
													tper_now += Number(rs.rs[tt].person_now);

													i4ps += Number(rs.rs[tt].fourps);

													b0_2 = rs.rs[tt].brgy_located;

													b0_2 = b0_2.split(",");

													for(var j in b0_2){
														b0_3 += 1;
													}

												}

											}

											for(var ww in rs.queryecs){

												if(rs.queryecs[ww].brgy_located_ec == rs.brgys[k].brgy_located_ec){
													tec_cum += Number(rs.queryecs[ww].ec_cum);
													tec_now += Number(rs.queryecs[ww].ec_now);
												}

											}


											var b_infant_male_cum 		= 0;
											var b_infant_male_now 		= 0;
											var b_infant_female_cum 	= 0;
											var b_infant_female_now 	= 0;

											var b_toddler_male_cum 		= 0;
											var b_toddler_male_now 		= 0;
											var b_toddler_female_cum 	= 0;
											var b_toddler_female_now 	= 0;

											var b_pschool_male_cum 		= 0;
											var b_pschool_male_now 		= 0;
											var b_pschool_female_cum 	= 0;
											var b_pschool_female_now 	= 0;

											var b_schoolage_male_cum 	= 0;
											var b_schoolage_male_now 	= 0;
											var b_schoolage_female_cum 	= 0;
											var b_schoolage_female_now 	= 0;

											var b_teenage_male_cum 		= 0;
											var b_teenage_male_now 		= 0;
											var b_teenage_female_cum 	= 0;
											var b_teenage_female_now 	= 0;

											var b_adult_male_cum 		= 0;
											var b_adult_male_now 		= 0;
											var b_adult_female_cum 		= 0;
											var b_adult_female_now 		= 0;

											var b_senior_male_cum 		= 0;
											var b_senior_male_now 		= 0;
											var b_senior_female_cum 	= 0;
											var b_senior_female_now 	= 0;

											var b_pwd_male_cum 			= 0;
											var b_pwd_male_now 			= 0;
											var b_pwd_female_cum 		= 0;
											var b_pwd_female_now 		= 0;

											var b_pregnant_cum 			= 0;
											var b_pregnant_now 			= 0;

											var b_lactating_cum 		= 0;
											var b_lactating_now 		= 0;

											var b_solo_cum 				= 0;
											var b_solo_now 				= 0

											var b_ip_cum 				= 0;
											var b_ip_now 				= 0;

											var b_male_cum 				= 0; 
											var b_male_now 				= 0;
											var b_female_cum 			= 0;
											var b_female_now 			= 0; 

											var b_t_cum 				= 0;
											var b_t_now 				= 0;


											var e_compost = 0;
											var e_sealed = 0;

											var e_portalet_male = 0;
											var e_portalet_female = 0;
											var e_portalet_common = 0;

											var e_bathing_male = 0;
											var e_bathing_female = 0;
											var e_bathing_common = 0;

											var e_child = 0;
											var e_women = 0;
											var e_couple = 0;
											var e_prayer = 0;
											var e_community = 0;
											var e_wash = 0;
											var e_ramps = 0;
											var e_help = 0;
											var e_capacity = 0;
											var e_rooms = 0;

											for(var uuu in rs.sex){

												if(rs.sex[uuu].brgy_located_ec == rs.brgys[k].brgy_located_ec){

													b_infant_male_cum 		= Number(b_infant_male_cum) + Number(rs.sex[uuu].infant_male_cum); 
													b_infant_male_now 		= Number(b_infant_male_now) + Number(rs.sex[uuu].infant_male_now); 
													b_infant_female_cum 	= Number(b_infant_female_cum) + Number(rs.sex[uuu].infant_female_cum); 
													b_infant_female_now 	= Number(b_infant_female_now) + Number(rs.sex[uuu].infant_female_now);

													b_toddler_male_cum 		= Number(b_toddler_male_cum) + Number(rs.sex[uuu].toddler_male_cum);
													b_toddler_male_now 		= Number(b_toddler_male_now) + Number(rs.sex[uuu].toddler_male_now);
													b_toddler_female_cum 	= Number(b_toddler_female_cum) + Number(rs.sex[uuu].toddler_female_cum);
													b_toddler_female_now 	= Number(b_toddler_female_now) + Number(rs.sex[uuu].toddler_female_now);

													b_pschool_male_cum 		= Number(b_pschool_male_cum) + Number(rs.sex[uuu].preschooler_male_cum);
													b_pschool_male_now 		= Number(b_pschool_male_now) + Number(rs.sex[uuu].preschooler_male_now);
													b_pschool_female_cum 	= Number(b_pschool_female_cum) + Number(rs.sex[uuu].preschooler_female_cum);
													b_pschool_female_now 	= Number(b_pschool_female_now) + Number(rs.sex[uuu].preschooler_female_now);

													b_schoolage_male_cum 	= Number(b_schoolage_male_cum) + Number(rs.sex[uuu].schoolage_male_cum);
													b_schoolage_male_now 	= Number(b_schoolage_male_now) + Number(rs.sex[uuu].schoolage_male_now);
													b_schoolage_female_cum 	= Number(b_schoolage_female_cum) + Number(rs.sex[uuu].schoolage_female_cum);
													b_schoolage_female_now 	= Number(b_schoolage_female_now) + Number(rs.sex[uuu].schoolage_female_now);

													b_teenage_male_cum 		= Number(b_teenage_male_cum) + Number(rs.sex[uuu].teenage_male_cum);
													b_teenage_male_now 		= Number(b_teenage_male_now) + Number(rs.sex[uuu].teenage_male_now);
													b_teenage_female_cum 	= Number(b_teenage_female_cum) + Number(rs.sex[uuu].teenage_female_cum);
													b_teenage_female_now 	= Number(b_teenage_female_now) + Number(rs.sex[uuu].teenage_female_now);

													b_adult_male_cum 		= Number(b_adult_male_cum) + Number(rs.sex[uuu].adult_male_cum);
													b_adult_male_now 		= Number(b_adult_male_now) + Number(rs.sex[uuu].adult_male_now);
													b_adult_female_cum 		= Number(b_adult_female_cum) + Number(rs.sex[uuu].adult_female_cum);
													b_adult_female_now 		= Number(b_adult_female_now) + Number(rs.sex[uuu].adult_female_now);

													b_senior_male_cum 		= Number(b_senior_male_cum) + Number(rs.sex[uuu].senior_male_cum);
													b_senior_male_now 		= Number(b_senior_male_now) + Number(rs.sex[uuu].senior_male_now);
													b_senior_female_cum 	= Number(b_senior_female_cum) + Number(rs.sex[uuu].senior_female_cum);
													b_senior_female_now 	= Number(b_senior_female_now) + Number(rs.sex[uuu].senior_female_now);

													b_male_cum 		= Number(b_infant_male_cum) + Number(b_toddler_male_cum) + Number(b_pschool_male_cum) + Number(b_schoolage_male_cum) + Number(b_teenage_male_cum) + Number(b_adult_male_cum) + Number(b_senior_male_cum);
													b_male_now 		= Number(b_infant_male_now) + Number(b_toddler_male_now) + Number(b_pschool_male_now) + Number(b_schoolage_male_now) + Number(b_teenage_male_now) + Number(b_adult_male_now) + Number(b_senior_male_now);
													b_female_cum 	= Number(b_infant_female_cum) + Number(b_toddler_female_cum) + Number(b_pschool_female_cum) + Number(b_schoolage_female_cum) + Number(b_teenage_female_cum) + Number(b_adult_female_cum) + Number(b_senior_female_cum);
													b_female_now 	= Number(b_infant_female_now) + Number(b_toddler_female_now) + Number(b_pschool_female_now) + Number(b_schoolage_female_now) + Number(b_teenage_female_now) + Number(b_adult_female_now) + Number(b_senior_female_now);


													b_pregnant_cum 		= Number(b_pregnant_cum) + Number(rs.sex[uuu].pregnant_cum);
													b_pregnant_now 		= Number(b_pregnant_now) + Number(rs.sex[uuu].pregnant_now);

													b_lactating_cum 	= Number(b_lactating_cum) + Number(rs.sex[uuu].lactating_cum);
													b_lactating_now 	= Number(b_lactating_now) + Number(rs.sex[uuu].lactating_now);

													b_pwd_male_cum 		= Number(b_pwd_male_cum) + Number(rs.sex[uuu].disable_male_cum);
													b_pwd_male_now 		= Number(b_pwd_male_now) + Number(rs.sex[uuu].disable_male_now);
													b_pwd_female_cum 	= Number(b_pwd_female_cum) + Number(rs.sex[uuu].disable_female_cum);
													b_pwd_female_now 	= Number(b_pwd_female_now) + Number(rs.sex[uuu].disable_female_now);

													b_solo_cum 			= Number(b_solo_cum) + Number(rs.sex[uuu].solo_cum);
													b_solo_now 			= Number(b_solo_now) + Number(rs.sex[uuu].solo_now);

													b_ip_cum 			= Number(b_ip_cum) + Number(rs.sex[uuu].ip_cum);
													b_ip_now 			= Number(b_ip_now) + Number(rs.sex[uuu].ip_now);

													b_t_cum 			+= Number(rs.sex[uuu].infant_male_cum) + Number(rs.sex[uuu].infant_female_cum) + Number(rs.sex[uuu].toddler_male_cum) + Number(rs.sex[uuu].toddler_female_cum) + 
													Number(rs.sex[uuu].preschooler_male_cum) + Number(rs.sex[uuu].preschooler_female_cum) + Number(rs.sex[uuu].schoolage_male_cum) + Number(rs.sex[uuu].schoolage_female_cum) + 
													Number(rs.sex[uuu].teenage_male_cum) + Number(rs.sex[uuu].teenage_female_cum) + Number(rs.sex[uuu].adult_male_cum) + Number(rs.sex[uuu].adult_female_cum) +
													Number(rs.sex[uuu].senior_male_cum) + Number(rs.sex[uuu].senior_female_cum) + Number(rs.sex[uuu].pregnant_cum) + Number(rs.sex[uuu].lactating_cum) + 
													Number(rs.sex[uuu].disable_male_cum) + Number(rs.sex[uuu].disable_female_cum) + Number(rs.sex[uuu].solo_cum) + Number(rs.sex[uuu].ip_cum);

													b_t_now 			+= Number(rs.sex[uuu].infant_male_now) + Number(rs.sex[uuu].infant_female_now) + Number(rs.sex[uuu].toddler_male_now) + Number(rs.sex[uuu].toddler_female_now) + 
													Number(rs.sex[uuu].preschooler_male_now) + Number(rs.sex[uuu].preschooler_female_now) + Number(rs.sex[uuu].schoolage_male_now) + Number(rs.sex[uuu].schoolage_female_now) + 
													Number(rs.sex[uuu].teenage_male_now) + Number(rs.sex[uuu].teenage_female_now) + Number(rs.sex[uuu].adult_male_now) + Number(rs.sex[uuu].adult_female_now) +
													Number(rs.sex[uuu].senior_male_now) + Number(rs.sex[uuu].senior_female_now) + Number(rs.sex[uuu].pregnant_now) + Number(rs.sex[uuu].lactating_now) + 
													Number(rs.sex[uuu].disable_male_now) + Number(rs.sex[uuu].disable_female_now) + Number(rs.sex[uuu].solo_now) + Number(rs.sex[uuu].ip_now);

												}

											}

											for(var eeee in rs.facilities){

												if(Number(rs.facilities[eeee].brgy_located_ec) == Number(rs.brgys[k].brgy_located_ec)){

													e_compost 				= Number(e_compost) + Number(rs.facilities[eeee].compost_pit);
													e_sealed 				= Number(e_sealed) + Number(rs.facilities[eeee].sealed);
													e_portalet_male 		= Number(e_portalet_male) + Number(rs.facilities[eeee].portalets_male);
													e_portalet_female 		= Number(e_portalet_female) + Number(rs.facilities[eeee].portalets_female);
													e_portalet_common 		= Number(e_portalet_common) + Number(rs.facilities[eeee].portalets_common);
													e_bathing_male 			= Number(e_bathing_male) + Number(rs.facilities[eeee].bathing_cubicles_male);
													e_bathing_female 		= Number(e_bathing_female) + Number(rs.facilities[eeee].bathing_cubicles_female);
													e_bathing_common 		= Number(e_bathing_common) + Number(rs.facilities[eeee].bathing_cubicles_common);
													e_child 				= Number(e_child) + Number(rs.facilities[eeee].child_space);
													e_women 				= Number(e_women) + Number(rs.facilities[eeee].women_space);
													e_couple 				= Number(e_couple) + Number(rs.facilities[eeee].couple_room);
													e_prayer 				= Number(e_prayer) + Number(rs.facilities[eeee].prayer_room);
													e_community 			= Number(e_community) + Number(rs.facilities[eeee].community_kitchen);
													e_wash 					= Number(e_wash) + Number(rs.facilities[eeee].wash);
													e_ramps 				= Number(e_ramps) + Number(rs.facilities[eeee].ramps);
													e_help 					= Number(e_help) + Number(rs.facilities[eeee].help_desk);
													e_capacity 				= Number(e_capacity) + Number(rs.facilities[eeee].capacity);
													e_rooms 				= Number(e_rooms) + Number(rs.facilities[eeee].no_of_rooms);
												}

											}

											var bpart_damage = 0;
											var btot_damage = 0;
											var bttot_damage = 0;

											for(var ddd in rs.query_damage_per_brgy){

												if(Number(rs.query_damage_per_brgy[ddd].brgy_id) == Number(rs.brgys[k].brgy_located_ec)){

													bpart_damage += Number(rs.query_damage_per_brgy[ddd].partially_damaged);
													btot_damage += Number(rs.query_damage_per_brgy[ddd].totally_damaged);
													bttot_damage += Number(bpart_damage) + Number(btot_damage);

												}

											}

											function toUppercaseEC(item){

												if(item == null || item == ""){
													return '-';
												}else{
													return item.toUpperCase();
												}

											}

											var b_all_brgy_in_ec = 0;

											for(var h in rs.brgy_unique_ec){

												if(rs.brgy_unique_ec[h].brgy_located_ec == rs.brgys[k].brgy_located_ec){
													b_all_brgy_in_ec += 1;
												}

											}

											$("#tbl_masterquery_revss tbody").append(
												"<tr class='contextmenu_brgy contextmenu_brgy."+rs.brgys[k].brgy_located_ec+"' style='cursor: pointer'>"+
													"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>1</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(i4ps)+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_cum+"</td>"+	
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_all_brgy_in_ec+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bttot_damage+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+btot_damage+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bpart_damage+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
												"</tr>"
											)

											$('#tbl_sex_age_distribution_list tbody').append(
												"<tr>"+
													"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
												"</tr>"
											)

											$('#tbl_evauation_facility_list tbody').append(
												"<tr>"+
													"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
													"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
												"</tr>"
											)

											ofam_cum = 0;
											ofam_now = 0;
											oper_cum = 0;
											oper_now = 0;

											ifam_cum = 0;
											ifam_now = 0;
											iper_cum = 0;
											iper_now = 0;

											i4ps = 0;

											b0_3 = 0;

											tfam_cum = 0;
											tper_cum = 0;

											tec_cum = 0;
											tec_now = 0;

											for(var l in rs.rs){

												var bbb0;
												var b0_1 = 0;

												var e_infant_male_cum 		= 0;
												var e_infant_male_now 		= 0;
												var e_infant_female_cum 	= 0;
												var e_infant_female_now 	= 0;

												var e_toddler_male_cum 		= 0;
												var e_toddler_male_now 		= 0;
												var e_toddler_female_cum 	= 0;
												var e_toddler_female_now 	= 0;

												var e_pschool_male_cum 		= 0;
												var e_pschool_male_now 		= 0;
												var e_pschool_female_cum 	= 0;
												var e_pschool_female_now 	= 0;

												var e_schoolage_male_cum 	= 0;
												var e_schoolage_male_now 	= 0;
												var e_schoolage_female_cum 	= 0;
												var e_schoolage_female_now 	= 0;

												var e_teenage_male_cum 		= 0;
												var e_teenage_male_now 		= 0;
												var e_teenage_female_cum 	= 0;
												var e_teenage_female_now 	= 0;

												var e_adult_male_cum 		= 0;
												var e_adult_male_now 		= 0;
												var e_adult_female_cum 		= 0;
												var e_adult_female_now 		= 0;

												var e_senior_male_cum 		= 0;
												var e_senior_male_now 		= 0;
												var e_senior_female_cum 	= 0;
												var e_senior_female_now 	= 0;

												var e_pwd_male_cum 			= 0;
												var e_pwd_male_now 			= 0;
												var e_pwd_female_cum 		= 0;
												var e_pwd_female_now 		= 0;

												var e_pregnant_cum 			= 0;
												var e_pregnant_now 			= 0;

												var e_lactating_cum 			= 0;
												var e_lactating_now 			= 0;

												var e_solo_cum 				= 0;
												var e_solo_now 				= 0

												var e_ip_cum 				= 0;
												var e_ip_now 				= 0;

												var e_male_cum = 0; 
												var e_male_now = 0;
												var e_female_cum = 0;
												var e_female_now = 0; 

												var e_t_cum = 0;
												var e_t_now = 0;
												
												var e_compost = 0;
												var e_sealed = 0;

												var e_portalet_male = 0;
												var e_portalet_female = 0;
												var e_portalet_common = 0;

												var e_bathing_male = 0;
												var e_bathing_female = 0;
												var e_bathing_common = 0;

												var e_child = 0;
												var e_women = 0;
												var e_couple = 0;
												var e_prayer = 0;
												var e_community = 0;
												var e_wash = 0;
												var e_ramps = 0;
												var e_help = 0;
												var e_capacity = 0;
												var e_rooms = 0;


												if(l == 0){

													if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														for(var e in rs.brgy){
															if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
															}
														}

														b0 = rs.rs[l].brgy_located;

														b0 = b0.split(",");

														for(var j in b0){
															if(j == 0){
																for(var e1 in rs.brgy){
																	if(rs.brgy[e1].id == b0[j]){
																		bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																	}
																}
															}else{
																for(var e2 in rs.brgy){
																	if(Number(rs.brgy[e2].id) == Number(b0[j])){
																		bbb0 = bbb0 + ", <br>" + "Brgy. " + rs.brgy[e2].brgy_name;
																	}
																}
															}

														brgy_locx.push(b0[j]);

														}

														for(var jj in b0){

															var k0 = 0;

															for(var w in brgy_locx){

																if(b0[jj] == brgy_locx[w]){
																	k0 += 1;
																}

															}

															if(k0 <= 1){
																b0_1 += 1;
															}

														}

														for(var uuu in rs.sex){

															if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);


																e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																e_solo_now 			= Number(rs.sex[uuu].solo_now);

																e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																e_ip_now 			= Number(rs.sex[uuu].ip_now);

																e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

															}

														}

														for(var eee in rs.facilities){

															if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																e_compost 				= rs.facilities[eee].compost_pit;
																e_sealed 				= rs.facilities[eee].sealed;
																e_portalet_male 		= rs.facilities[eee].portalets_male;
																e_portalet_female 		= rs.facilities[eee].portalets_female;
																e_portalet_common 		= rs.facilities[eee].portalets_common;
																e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																e_child 				= rs.facilities[eee].child_space;
																e_women 				= rs.facilities[eee].women_space;
																e_couple 				= rs.facilities[eee].couple_room;
																e_prayer 				= rs.facilities[eee].prayer_room;
																e_community 			= rs.facilities[eee].community_kitchen;
																e_wash 					= rs.facilities[eee].wash;
																e_ramps 				= rs.facilities[eee].ramps;
																e_help 					= rs.facilities[eee].help_desk;
																e_capacity 				= rs.facilities[eee].capacity;
																e_rooms 				= rs.facilities[eee].no_of_rooms;
															}

														}

														$("#tbl_masterquery_revss tbody").append(
															"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																"<td style='border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
															"</tr>"
														)
														
														$('#tbl_sex_age_distribution_list tbody').append(
															"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
															"</tr>"
														)

														$('#tbl_evauation_facility_list tbody').append(
															"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
															"</tr>"
														)

													}

													b0_1 = 0;
													bbb0 = "";

												}else{

													var bbb0;
													var b0_1 = 0;

													if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														if(rs.rs[l].evacuation_name == rs.rs[l-1].evacuation_name){

															var b0 = rs.rs[l].brgy_located;

															b0 = b0.split(",");

															for(var j in b0){

																if(j == 0){
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = "Brgy." + rs.brgy[e1].brgy_name;
																		}
																	}
																}else{
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = bbb0+ ",<br>" + "Brgy." +rs.brgy[e1].brgy_name;
																		}
																	}
																}

																brgy_locx.push(b0[j]);

															}

															for(var jj in b0){

																var k0 = 0;

																for(var w in brgy_locx){

																	if(b0[jj] == brgy_locx[w]){
																		k0 += 1;
																	}

																}

																if(k0 <= 1){
																	b0_1 += 1;
																}

															}

															$("#tbl_masterquery_revss tbody").append(
																"<tr>"+
																	"<td style='border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"</tr>"
															)

														b0_1 = 0;
														bbb0 = "";

														}else{

															var bbb0;
															var b0_1 = 0;

															var ofam_cum = 0;
															var ofam_now = 0;

															for(var e in rs.brgy){
																if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																	var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
																}
															}

															var b0 = rs.rs[l].brgy_located;

															b0 = b0.split(",");

															for(var j in b0){
																if(j == 0){
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																		}
																	}
																}else{
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = bbb0+",<br>" + "Brgy. " +rs.brgy[e1].brgy_name;
																		}
																	}
																}

																brgy_locx.push(b0[j]);

															}

															for(var jj in b0){

																var k0 = 0;

																for(var w in brgy_locx){

																	if(b0[jj] == brgy_locx[w]){
																		k0 += 1;
																	}

																}

																if(k0 <= 1){
																	b0_1 += 1;
																}

															}

															for(var uuu in rs.sex){

																if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																	e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																	e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																	e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																	e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																	e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																	e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																	e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																	e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																	e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																	e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																	e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																	e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																	e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																	e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																	e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																	e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																	e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																	e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																	e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																	e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																	e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																	e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																	e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																	e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																	e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																	e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																	e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																	e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																	e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																	e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																	e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);

																	e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																	e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																	e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																	e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																	e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																	e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																	e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																	e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																	e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																	e_solo_now 			= Number(rs.sex[uuu].solo_now);

																	e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																	e_ip_now 			= Number(rs.sex[uuu].ip_now);

																	e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																	e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

																}

															}

															for(var eee in rs.facilities){

																if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_compost 				= rs.facilities[eee].compost_pit;
																	e_sealed 				= rs.facilities[eee].sealed;
																	e_portalet_male 		= rs.facilities[eee].portalets_male;
																	e_portalet_female 		= rs.facilities[eee].portalets_female;
																	e_portalet_common 		= rs.facilities[eee].portalets_common;
																	e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																	e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																	e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																	e_child 				= rs.facilities[eee].child_space;
																	e_women 				= rs.facilities[eee].women_space;
																	e_couple 				= rs.facilities[eee].couple_room;
																	e_prayer 				= rs.facilities[eee].prayer_room;
																	e_community 			= rs.facilities[eee].community_kitchen;
																	e_wash 					= rs.facilities[eee].wash;
																	e_ramps 				= rs.facilities[eee].ramps;
																	e_help 					= rs.facilities[eee].help_desk;
																	e_capacity 				= rs.facilities[eee].capacity;
																	e_rooms 				= rs.facilities[eee].no_of_rooms;
																}

															}


															$("#tbl_masterquery_revss tbody").append(
																"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																	"<td style='border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"</tr>"
															)

															$('#tbl_sex_age_distribution_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																"</tr>"
															)

															$('#tbl_evauation_facility_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																"</tr>"
															)

															b0_1 = 0;
															bbb0 = "";
														
														}

													}

												}

											}

										}

									}

								}
								
							}

							}
						}

					}

					chart_affprov 		= [];
					chart_affprovdrill 	= [];
					chart_affmunisall 	= [];
					chart_affprov 		= rs.aff_prov;
					chart_affprovdrill 	= rs.aff_munis_drill;
					chart_affmunisall 	= rs.aff_munis_all;

					

			// END OF MASTER QUERY REVISION =============================================================================================================================================

					var family_a_t 		= 0;
					var person_a_t 		= 0;
					var family_cum_i 	= 0;
					var family_now_i 	= 0;
					var person_cum_i 	= 0;
					var person_now_i 	= 0;
					var family_cum_o 	= 0;
					var family_now_o 	= 0;
					var person_cum_o 	= 0;
					var person_now_o 	= 0;
					var family_cum_s_t 	= 0;
					var family_now_s_t 	= 0;
					var person_cum_s_t 	= 0;
					var person_now_s_t 	= 0;
					var bnum 			= 0;
					var ec_cum_t 		= 0;
					var ec_now_t 		= 0;
					var tot_d			= 0;
					var part_d 			= 0;
					var tott_d 			= 0;
					var tdswd_asst 		= 0;
					var tlgu_asst 		= 0;
					var tngo_asst 		= 0;
					var ttotal_asst 	= 0;

					for(var k in rs.masterquery){
						family_a_t += Number(rs.masterquery[k].family_a_t);
						person_a_t += Number(rs.masterquery[k].person_a_t);
						family_cum_i += Number(rs.masterquery[k].family_cum_i);
						family_now_i += Number(rs.masterquery[k].family_now_i);
						person_cum_i += Number(rs.masterquery[k].person_cum_i);
						person_now_i += Number(rs.masterquery[k].person_now_i);
						family_cum_o += Number(rs.masterquery[k].family_cum_o);
						family_now_o += Number(rs.masterquery[k].family_now_o);
						person_cum_o += Number(rs.masterquery[k].person_cum_o);
						person_now_o += Number(rs.masterquery[k].person_now_o);
						family_cum_s_t += Number(rs.masterquery[k].family_cum_s_t);
						family_now_s_t += Number(rs.masterquery[k].family_now_s_t);
						person_cum_s_t += Number(rs.masterquery[k].person_cum_s_t);
						person_now_s_t += Number(rs.masterquery[k].person_now_s_t);
					}

					for(var f in rs.masterquery2){
						bnum += Number(rs.masterquery2[f].brgynum);
					}

					for(var w in rs.masterquery3){
						ec_cum_t += Number(rs.masterquery3[w].ec_cum);
						ec_now_t += Number(rs.masterquery3[w].ec_now);
					}

					for(var d in rs.query_damage_per_brgy){
						tot_d += Number(rs.query_damage_per_brgy[d].totally_damaged);
						part_d += Number(rs.query_damage_per_brgy[d].partially_damaged);
					}

					tott_d = Number(tot_d) + Number(part_d);

					for(var a in rs.query_asst){
						tdswd_asst += Number(rs.query_asst[a].dswd_asst);
						tlgu_asst += Number(rs.query_asst[a].lgu_asst);
						tngo_asst += Number(rs.query_asst[a].ngo_asst);
					}

					for(var d in rs.query_damage_per_brgy){
						tlgu_asst += Number(rs.query_damage_per_brgy[d].costasst_brgy);
					}

					ttotal_asst = Number(tdswd_asst) + Number(tlgu_asst) + Number(tngo_asst);

					$('#totalbrgy').text(isnull(bnum));
					$('#totalfamily').text(addComma(isnull(family_a_t)));
					$('#totalperson').text(addComma(isnull(person_a_t)));
					$('#totalec_cum').text(isnull(ec_cum_t));
					$('#totalec_now').text(isnull(ec_now_t));
					$('#totalinsideec_fam_cum').text(addComma(isnull(family_cum_i)));
					$('#totalinsideec_fam_now').text(addComma(isnull(family_now_i)));
					$('#totalinsideec_person_cum').text(addComma(isnull(person_cum_i)));
					$('#totalinsideec_person_now').text(addComma(isnull(person_now_i)));
					$('#totaloutisideec_fam_cum').text(addComma(isnull(family_cum_o)));
					$('#totaloutisideec_fam_now').text(addComma(isnull(family_now_o)));
					$('#totaloutsideec_person_cum').text(addComma(isnull(person_cum_o)));
					$('#totaloutsideec_person_now').text(addComma(isnull(person_now_o)));
					$('#totalserved_fam_cum').text(addComma(isnull(family_cum_s_t)));
					$('#totalserved_fam_now').text(addComma(isnull(family_now_s_t)));
					$('#totalserved_person_cum').text(addComma(isnull(person_cum_s_t)));
					$('#totalserved_person_now').text(addComma(isnull(person_now_s_t)));
					$('#tott_damaged').text(addComma(isnull(tott_d)));
					$('#part_damaged').text(addComma(isnull(part_d)));
					$('#tot_damaged').text(addComma(isnull(tot_d)));
					$('#tdswd_asst').text(addCommaMoney(isnull(tdswd_asst)));
					$('#tlgu_asst').text(addCommaMoney(isnull(tlgu_asst)));
					$('#tngo_asst').text(addCommaMoney(isnull(tngo_asst)));
					$('#ttotal_asst').text(addCommaMoney(isnull(ttotal_asst)));


					for(var t in regions){

						var totalcc 		= 0;
						var tot_ccc 		= 0;
						var part_ccc 		= 0;
						var dead_ccc 		= 0;
						var injured_ccc 	= 0;
						var missing_ccc 	= 0;
						var dswd_ccc 		= 0;
						var lgu_ccc 		= 0;
						var ngo_ccc 		= 0;

						for(var q in rs.query_asst){

							if(regions[t].id == rs.query_asst[q].region){

								totalcc += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
								tot_ccc += Number(rs.query_asst[q].totally_damaged);
								part_ccc += Number(rs.query_asst[q].partially_damaged);
								dead_ccc += Number(rs.query_asst[q].dead);
								injured_ccc += Number(rs.query_asst[q].injured);
								missing_ccc += Number(rs.query_asst[q].missing);
								dswd_ccc += Number(rs.query_asst[q].dswd_asst);
								lgu_ccc += Number(rs.query_asst[q].lgu_asst);
								ngo_ccc += Number(rs.query_asst[q].ngo_asst);

								var lgu_cccc 		= lgu_ccc;

							}

						}

						for(var qq in rs.query_damage_per_brgy){
							if(regions[t].id == rs.query_damage_per_brgy[qq].region){
								lgu_cccc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
							}
						}

						for(var qq in rs.query_damage_per_brgy){
							if(regions[t].id == rs.query_damage_per_brgy[qq].region){
								totalcc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
							}
						}

						$('#tbl_casualty_asst tbody').append(
							"<tr>"+
								"<th style='border: 1px solid #000; text-align:left; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+regions[t].name+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addComma(tot_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addComma(part_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addComma(dead_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addComma(injured_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:center; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addComma(missing_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:right; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addCommaMoney(totalcc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:right; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addCommaMoney(dswd_ccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:right; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addCommaMoney(lgu_cccc)+"</th>"+
								"<th style='border: 1px solid #000; text-align:right; background-color: #A6A6A6; color: #000; padding-right: 5px'>"+addCommaMoney(ngo_ccc)+"</th>"+
							"</tr>"
						)

						totalcc 		= 0;
						tot_ccc 		= 0;
						part_ccc 		= 0;
						dead_ccc 		= 0;
						injured_ccc 	= 0;
						missing_ccc 	= 0;
						dswd_ccc 		= 0;
						lgu_ccc 		= 0;
						ngo_ccc 		= 0;

						for(var v in provinces){

							if(provinces[v].regionid == regions[t].id){

								var totalcc 		= 0;
								var tot_ccc 		= 0;
								var part_ccc 		= 0;
								var dead_ccc 		= 0;
								var injured_ccc 	= 0;
								var missing_ccc 	= 0;
								var dswd_ccc 		= 0;
								var lgu_ccc 		= 0;
								var ngo_ccc 		= 0;

								for(var q in rs.query_asst){

									if(provinces[v].id == rs.query_asst[q].provinceid){

										totalcc += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
										tot_ccc += Number(rs.query_asst[q].totally_damaged);
										part_ccc += Number(rs.query_asst[q].partially_damaged);
										dead_ccc += Number(rs.query_asst[q].dead);
										injured_ccc += Number(rs.query_asst[q].injured);
										missing_ccc += Number(rs.query_asst[q].missing);
										dswd_ccc += Number(rs.query_asst[q].dswd_asst);
										lgu_ccc += Number(rs.query_asst[q].lgu_asst);
										ngo_ccc += Number(rs.query_asst[q].ngo_asst);

										var lgu_cccc 		= lgu_ccc;

									}

								}

								for(var qq in rs.query_damage_per_brgy){
									if(provinces[v].id == rs.query_damage_per_brgy[qq].provinceid){
										lgu_cccc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
									}
								}

								for(var qq in rs.query_damage_per_brgy){
									if(provinces[v].id == rs.query_damage_per_brgy[qq].provinceid){
										totalcc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
									}
								}

								$('#tbl_casualty_asst tbody').append(
									"<tr style='background-color:yellow'>"+
										"<th style='border: 1px solid #000; text-align:left; background-color: #808080; color: #000; padding-right: 5px'>"+provinces[v].name+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(tot_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(part_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(dead_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(injured_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(missing_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(totalcc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(dswd_ccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(lgu_cccc)+"</th>"+
										"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(ngo_ccc)+"</th>"+
									"</tr>"
								)

								totalcc 		= 0;
								tot_ccc 		= 0;
								part_ccc 		= 0;
								dead_ccc 		= 0;
								injured_ccc 	= 0;
								missing_ccc 	= 0;
								dswd_ccc 		= 0;
								lgu_ccc 		= 0;
								ngo_ccc 		= 0;
								lgu_cccc 		= 0;

								for(var q in rs.query_asst){
									var total = 0;
									if(provinces[v].id == rs.query_asst[q].provinceid){
										total += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
										$('#tbl_casualty_asst tbody').append(
											"<tr style='color:#000; cursor:pointer; background-color: #DFDFDF' ondblclick='updateDamAss("+rs.query_asst[q].id+")' class='hoveredit'>"+
												"<th style='border: 1px solid #000; text-align:left'>"+rs.query_asst[q].municipality_name+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].totally_damaged)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].partially_damaged)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].dead)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].injured)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].missing)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(total)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].dswd_asst)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].lgu_asst)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].ngo_asst)+"</th>"+
											"</tr>"
										)

										var brgy_ids = "";

										brgy_ids = rs.query_asst[q].brgy_id;
										if(isnull(brgy_ids) != "-"){
											brgy_ids = brgy_ids.split("|");
										
											for(var hq = 0 ; hq < brgy_ids.length ; hq++){

												for(var hh = 0 ; hh < rs.query_damage_per_brgy.length ; hh++){
													if(brgy_ids[hq] == rs.query_damage_per_brgy[hh].brgy_id){
														$('#tbl_casualty_asst tbody').append(
															"<tr style='color:#000; cursor:pointer'>"+
																"<th style='border: 1px solid #000; text-align:left'>Brgy. "+rs.query_damage_per_brgy[hh].brgy_name+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].totally_damaged)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].partially_damaged)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].dead)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].injured)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].missing)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
															"</tr>"
														)

														break;

													}
												}

											}
										}
									}
								}
							}

						}

					}

					var total 		= 0;
					var tot_c 		= 0;
					var part_c 		= 0;
					var dead_c 		= 0;
					var injured_c 	= 0;
					var missing_c 	= 0;
					var dswd_c 		= 0;
					var lgu_c 		= 0;
					var ngo_c 		= 0;

					for(var q in rs.query_asst){
						total += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
						tot_c += Number(rs.query_asst[q].totally_damaged);
						part_c += Number(rs.query_asst[q].partially_damaged);
						dead_c += Number(rs.query_asst[q].dead);
						injured_c += Number(rs.query_asst[q].injured);
						missing_c += Number(rs.query_asst[q].missing);
						dswd_c += Number(rs.query_asst[q].dswd_asst);
						lgu_c += Number(rs.query_asst[q].lgu_asst);
						ngo_c += Number(rs.query_asst[q].ngo_asst);
					}

					$('#caraga_tot_c').text(addComma(tot_c));
					$('#caraga_part_c').text(addComma(part_c));
					$('#caraga_dead_c').text(addComma(dead_c));
					$('#caraga_injured_c').text(addComma(injured_c));
					$('#caraga_missing_c').text(addComma(missing_c));
					$('#caraga_dswd_c').text(addCommaMoney(dswd_c));
					$('#caraga_ngo_c').text(addCommaMoney(ngo_c));

					var lgu_cc 		= lgu_c;

					for(var q in rs.query_damage_per_brgy){
						lgu_cc += Number(rs.query_damage_per_brgy[q].costasst_brgy);
					}

					$('#caraga_lgu_c').text(addCommaMoney(lgu_cc));

					for(var q in rs.query_damage_per_brgy){
						lgu_c = Number(rs.query_damage_per_brgy[q].costasst_brgy);
						total += lgu_c;
					}

					$('#caraga_total_c').text(addCommaMoney(total));
					
					
				});

				$('#lgu_list_assistance tbody').empty();

				var datas = {
					id : URLID()
				}

				$.getJSON(serverip+"get_dswd_assistance",datas,function(a){

					var k = a.length - 1;

					for(var t in regions){

						var total = 0;
						for(var j in a){
							if(a[j].region == regions[t].id){
								total = total + parseFloat(a[j].cost) * parseFloat(a[j].quantity);
							}
						}

						$('#lgu_list_assistance tbody').append(
							"<tr>"+
								"<th style='background-color:#808080; color:#000' colspan='4'>"+regions[t].name+"</th>"+
								"<th style='background-color:#808080; color:#000; text-align:right'>"+addCommaMoney(total)+"</th>"+
								"<th style='background-color:#808080; color:#000'></th>"+
							"</tr>"
						)

						for(var i in provinces){

							if(provinces[i].regionid == regions[t].id){

								var total = 0;
								for(var j in a){
									if(a[j].provinceid == provinces[i].id){
										total = total + parseFloat(a[j].cost) * parseFloat(a[j].quantity);
									}
								}

								$('#lgu_list_assistance tbody').append(
									"<tr>"+
										"<th style='background-color:#169F85; color:#fff' colspan='4'>"+provinces[i].name+"</th>"+
										"<th style='background-color:#169F85; color:#fff; text-align:right'>"+addCommaMoney(total)+"</th>"+
										"<th style='background-color:#169F85; color:#fff'></th>"+
									"</tr>"
								)

								for(var j in a){

									if(a[j].provinceid == provinces[i].id){

										var amt = parseFloat(a[j].cost) * parseFloat(a[j].quantity);

										if(j == 0){
											$('#lgu_list_assistance tbody').append(
												"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
													"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
													"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
													"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
													"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
													"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
													"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
												"</tr>"
											)
										}else{
											if(a[j].municipality_id == a[j-1].municipality_id){

												if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].date_augmented == a[j-1].date_augmented)){

													$('#lgu_list_assistance tbody').append(
														"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
															"<th></th>"+
															"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
															"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
															"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
															"<th style='text-align:right; color:#000'>"+addCommaMoney(amt)  +"</th>"+
															"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
														"</tr>"
													)

												}else{

													$('#lgu_list_assistance tbody').append(
														"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
															"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
															"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
															"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
															"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
															"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
															"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
														"</tr>"
													)

												}

											}else{

												$('#lgu_list_assistance tbody').append(
													"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
														"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
														"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
														"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
														"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
														"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
														"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
													"</tr>"
												)

											}
										}
									}
								}
							}
						}
					}

					var tot_ffp = 0;
					var amt_ffp = 0;
					var amt_nfi = 0;

					for(var j in a){

						if(a[j].fnfi_name.includes("Family Food Pack")){
							tot_ffp += a[j].quantity;
							amt_ffp += (a[j].cost * a[j].quantity);
						}else{
							amt_nfi += (a[j].cost * a[j].quantity);
						}

					}

					$('#totffps').text(addComma(tot_ffp));
					$('#amtffps').text("PhP " + addCommaMoney(amt_ffp));
					$('#amtnfi').text("PhP " + addCommaMoney(amt_nfi));


				})

				$('#tbl_damages_per_brgy tbody').empty();

				$.getJSON(serverip+"get_damage_per_brgy",datas,function(a){

					for(var t in regions){

						var totally_damaged 	= 0;
						var partially_damaged 	= 0;
						var dead 				= 0;
						var injured 			= 0;
						var missing 			= 0;
						var costasst_brgy 		= 0;

						for(var p in a){
							if(regions[t].id == a[p].region){
								totally_damaged 	= totally_damaged + Number(a[p].totally_damaged);
								partially_damaged 	= partially_damaged + Number(a[p].partially_damaged);
								dead 				= dead + Number(a[p].dead);
								injured 			= injured + Number(a[p].injured);
								missing 			= missing + Number(a[p].missing);
								costasst_brgy 		= Number(costasst_brgy) + Number(a[p].costasst_brgy);
							}
						}

						$('#tbl_damages_per_brgy tbody').append(
							"<tr>"+
								"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#808080; color:#000'>"+regions[t].name+"</th>"+
								"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#808080; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
								"<th style='background-color: #808080; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(totally_damaged)+"</th>"+
								"<th style='background-color: #808080; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(partially_damaged)+"</th>"+
								"<th style='background-color: #808080; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(dead)+"</th>"+
								"<th style='background-color: #808080; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(injured)+"</th>"+
								"<th style='background-color: #808080; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(missing)+"</th>"+
							"</tr>"
						)

						for(var i in provinces){	

							if(provinces[i].regionid == regions[t].id){

								var totally_damaged 	= 0;
								var partially_damaged 	= 0;
								var dead 				= 0;
								var injured 			= 0;
								var missing 			= 0;
								var costasst_brgy 		= 0;

								for(var p in a){
									if(provinces[i].id == a[p].provinceid){
										totally_damaged 	= totally_damaged + Number(a[p].totally_damaged);
										partially_damaged 	= partially_damaged + Number(a[p].partially_damaged);
										dead 				= dead + Number(a[p].dead);
										injured 			= injured + Number(a[p].injured);
										missing 			= missing + Number(a[p].missing);
										costasst_brgy 		= Number(costasst_brgy) + Number(a[p].costasst_brgy);
									}
								}

								$('#tbl_damages_per_brgy tbody').append(
									"<tr>"+
										"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#169F85; color:#fff'>"+provinces[i].name+"</th>"+
										"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#169F85; color:#fff; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
										"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(totally_damaged)+"</th>"+
										"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(partially_damaged)+"</th>"+
										"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(dead)+"</th>"+
										"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(injured)+"</th>"+
										"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(missing)+"</th>"+
									"</tr>"
								)

								for(var j in a){

									var totally_damaged 	= 0;
									var partially_damaged 	= 0;
									var dead 				= 0;
									var injured 			= 0;
									var missing 			= 0;
									var costasst_brgy 		= 0;

									if(a[j].provinceid == provinces[i].id){
										if(j == 0){
											for(var k in a){
												if(a[j].municipality_id == a[k].municipality_id){
													totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
													partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
													dead 				= Number(dead) + Number(a[k].dead);
													injured 			= Number(injured) + Number(a[k].injured);
													missing 			= Number(missing) + Number(a[k].missing);
													costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
												}
											}
											$('#tbl_damages_per_brgy tbody').append(
												"<tr>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
												"</tr>"
											)
											$('#tbl_damages_per_brgy tbody').append(
												"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
												"</tr>"
											)
										}else{
											if(a[j].municipality_id == a[j-1].municipality_id){
												$('#tbl_damages_per_brgy tbody').append(
													"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
													"</tr>"
												)
											}else{
												for(var k in a){
													if(a[j].municipality_id == a[k].municipality_id){
														totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
														partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
														dead 				= Number(dead) + Number(a[k].dead);
														injured 			= Number(injured) + Number(a[k].injured);
														missing 			= Number(missing) + Number(a[k].missing);
														costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
													}
												}
												$('#tbl_damages_per_brgy tbody').append(
													"<tr>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
													"</tr>"
												)
												$('#tbl_damages_per_brgy tbody').append(
													"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
													"</tr>"
												)
												if(a[j].municipality_id == a[j-1].municipality_id){
													$('#tbl_damages_per_brgy tbody').append(
														"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
														"</tr>"
													)
												}
											}
										}
									}
								}
							}
						}
					}
				});

				setTimeout(function(){

					$('#loader').hide();
					
			// End Master Query ===================================================================================================================================================
				},2000);



			}


		});

	}else{

		brgy_locx = [];

		var datum = {

			username 	: $('#usernameid').text(),
			id 			: n

		}

		$('#updateassistance_spec').hide();
		$('#saveassistance').show();

		$('#editasstfnfi').hide();
		$('#addasstfnfi').show();

		$('#tbl_sex_age_distribution_list tbody').empty();

		$('#tbl_evauation_facility_list tbody').empty();


		$('#saveasnewrecord').hide();
		$('#addfamiecs').hide();
		$('#adddamass').hide();
		$('#addfamoec').hide();
		$('#addcasualtybtn').hide();
		//$('#exporttoexcel').hide();
		$('#savedata_dam_per_brgy').hide();
		$('#deldata_dam_per_brgy').hide();
		$('#updatedata_dam_per_brgy').hide();
		$('#saveassistance').hide();

		$('#can_edit').text('f');

		get_narrative_report();

		$.getJSON(serverip+"get_can_view",datum,function(a){

			if(a == 0){

				$.confirm({
				    title: '<span class="red">Warning!</span>',
				    content: 'You\'re not allowed to perform this action. Kinly contact the administrator.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-red',
				    		keys: ['enter', 'shift'],
				    		action: function(){

				    			window.location.href = "https://apps2.caraga.dswd.gov.ph/drrrou/dashboard";

				            }
				    	}
				    }
				});

			}else{


				$.getJSON(serverip+"get_can_edit",datum,function(a){

					if(a == 0){

						$('#saveasnewrecord').hide();
						$('#addfamiecs').hide();
						$('#adddamass').hide();
						$('#addfamoec').hide();
						$('#addcasualtybtn').hide();
						//$('#exporttoexcel').hide();
						$('#savedata_dam_per_brgy').hide();
						$('#updatedata_dam_per_brgy').hide();
						$('#saveassistance').hide();

						$('#can_edit').text('f');

					}else{

						$('#saveasnewrecord').show();
						$('#addfamiecs').show();
						$('#adddamass').show();
						$('#addfamoec').show();
						$('#addcasualtybtn').show();
						$('#exporttoexcel').show();
						$('#savedata_dam_per_brgy').show();
						//$('#updatedata_dam_per_brgy').show();
						$('#saveassistance').show();

						$('#can_edit').text('t');

					}

				});

				get_comments();

				

				// $('#loader').show();

				var datas = {
					id : n
				}

				var t = 0;

				$.getJSON(serverip+"get_evac_stats",datas,function(a){

					console.log(a);

					rs = a;	
					// console.log(rs);
					$('#loader').hide();


					$("#evac_stats tbody").empty();

					var nopen = 0;
					var exist = 0;
					var close = 0;
					var reactivated = 0;

					for(var ki in rs.queryecs){
						if(rs.queryecs[ki].ec_status == "Newly-Opened"){
							nopen += 1;
						}
						if(rs.queryecs[ki].ec_status == "Existing"){
							exist += 1;
						}
						if(rs.queryecs[ki].ec_status == "Closed"){
							close += 1;
						}
						if(rs.queryecs[ki].ec_status == "Re-activated"){
							reactivated += 1;
						}
					}

					$('#count_ec').empty();

					$('#count_ec').append("| # of Newly-Opened ECs: " + nopen);
					$('#count_ec').append("<br>| # of Existing ECs: " + exist);
					$('#count_ec').append("<br>| # of ECs closed: " + close);
					$('#count_ec').append("<br>| # of ECs reactivated: " + reactivated);


					if($('#user_level_access_session').text() == 'national'){
						for(var al = 0 ; al < rs.query_all_munis.length ; al++){
							if(rs.query_all_munis[al].iscity == 't'){

								$('#count_allcity').empty().append(isnull(rs.query_all_munis[al].all_munis));

							}else{

								$('#count_allmunis').empty().append(isnull(rs.query_all_munis[al].all_munis));

							}
						}
					}

					if($('#user_level_access_session').text() != 'municipality' && $('#user_level_access_session').text() != 'province'){

						$("#evac_stats tbody").append(
							"<tr style='color:#fff;'>"+
								"<th style='border: 1px solid #000; text-align:left; padding:2px; background-color: #808080; color: #000' border='1'><b>"+$('#region_name_session').text().toUpperCase()+"</b></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_ec_cum'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_ec_now'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' ></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' ></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_fam_cum'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_fam_now'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_per_cum'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000' id='caraga_per_now'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							"</tr>"
						);
					}

					$("#evac_stats_outside tbody").empty();
					$("#tbl_masterquery tbody").empty();
					$('#tbl_casualty_asst tbody').empty();

					if($('#user_level_access_session').text() != 'municipality'  && $('#user_level_access_session').text() != 'province'){

						$("#evac_stats_outside tbody").append(
							"<tr style='background-color:#808080; color:#000'>"+
								"<th style='border: 1px solid #000; text-align:left; padding:2px;'><b>"+$('#region_name_session').text().toUpperCase()+"</b></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_fam_cum_o'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_fam_now_o'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_per_cum_o'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px' id='caraga_per_now_o'></th>"+
								"<th style='border: 1px solid #000; text-align:center; padding:2px'></th>"+
							"</tr>"
						);

						$("#tbl_casualty_asst tbody").append(
							"<tr style='background-color:#AC2925; color:#fff'>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:left; padding:2px'><b>"+$('#region_name_session').text().toUpperCase()+"</b></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_tot_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_part_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_dead_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_injured_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:center; padding:2px' id='caraga_missing_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_total_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_dswd_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_lgu_c'></th>"+
								"<th style='border: 1px solid #000; background-color: #A6A6A6; color: #000; text-align:right; padding-right: 5px' id='caraga_ngo_c'></th>"+
							"</tr>"
						);
					}

					for(var qt in rs.query_title){
						$('#asofdate').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime').text("Time: " + rs.query_title[qt].asoftime);
						$('#asofdate2').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime2').text("Time: " + rs.query_title[qt].asoftime);

						$('#disastertype').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));
						$('#disastertype2').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate2').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_IEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_IEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_IEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_IEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_OEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_OEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_OEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_OEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						$('#asofdate_CEC').text("As of " + todate(rs.query_title[qt].ddate));
						$('#asoftime_CEC').text("Time: " + rs.query_title[qt].asoftime);
						$('#disastertype_CEC').text('Disaster Type: ' + rs.query_title[qt].disaster_name);
						$('#disasterdate_CEC').text('Date of Occurence: ' + todate(rs.query_title[qt].disaster_date));

						asof = todatesave(rs.query_title[qt].ddate,rs.query_title[qt].asoftime);

						$('#spreparedby').text(rs.query_title[qt].preparedby);
						$('#srecommendedby').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby2').text(rs.query_title[qt].preparedby);
						$('#srecommendedby2').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby2').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos2').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos2').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos2').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby3').text(rs.query_title[qt].preparedby);
						$('#srecommendedby3').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby3').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos3').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos3').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos3').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby4').text(rs.query_title[qt].preparedby);
						$('#srecommendedby4').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby4').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos4').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos4').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos4').text(rs.query_title[qt].approvedbypos);

						$('#spreparedby5').text(rs.query_title[qt].preparedby);
						$('#srecommendedby5').text(rs.query_title[qt].recommendedby);
						$('#sapprovedby5').text(rs.query_title[qt].approvedby);
						$('#spreparedbypos5').text(rs.query_title[qt].preparedbypos);
						$('#srecommendedbypos5').text(rs.query_title[qt].recommendedbypos);
						$('#sapprovedbypos5').text(rs.query_title[qt].approvedbypos);

					}

					// if(rs.city.length < 1){

					// 	$('#saveasnewrecord').prop("disabled",1);

					// }

			// Inside Evacuation Areas ============================================================================================================================================

					for(i = 0 ; i < provinces.length ; i++){

						var fam_cum = "";
						var fam_now = "";
						var per_cum = "";
						var per_now = "";
						var fc 		= 0;
						var fn 		= 0;
						var pc 		= 0;
						var pn 		= 0;
						var ec_cum 	= 0;
						var ec_now 	= 0;

						for(var m in rs.rs){
							if(rs.rs[m].provinceid == provinces[i].id){

								fam_cum = isnulls(rs.rs[m].family_cum);
								fam_cum = fam_cum.split("/");

								fam_now = isnulls(rs.rs[m].family_now);
								fam_now = fam_now.split("/");

								per_cum = isnulls(rs.rs[m].person_cum);
								per_cum = per_cum.split("/");

								per_now = isnulls(rs.rs[m].person_now);
								per_now = per_now.split("/");


								for(k = 0 ; k < fam_cum.length ; k++){
									fc += Number(fam_cum[k]);
								}

								for(l = 0 ; l < fam_now.length ; l++){
									fn += Number(fam_now[l]);
								}

								for(p = 0 ; p < per_cum.length ; p++){
									pc += Number(per_cum[p]);
								}

								for(q = 0 ; q < per_now.length ; q++){
									pn += Number(per_now[q]);
								}

							}
						}

						for(var m in rs.queryecs){
							if(provinces[i].id == rs.queryecs[m].province_id){

								ec_cum += Number(rs.queryecs[m].ec_cum);
								ec_now += Number(rs.queryecs[m].ec_now);

							}
						}

						if($('#user_level_access_session').text() != 'municipality'){

							$("#evac_stats tbody").append(
								"<tr style='background-color:yellow; cursor:pointer'>"+
									"<th style='border: 1px solid #000; padding:2px; text-align:left; background-color: #A6A6A6; color: #000'>"+provinces[i].name+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
						  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
						  			"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(fc))+"</th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(fn))+"</th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(pc))+"</th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'>"+addComma(isnull(pn))+"</th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
				  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #A6A6A6; color: #000'></th>"+
								"</tr>"
							)

						}

						for(var n  in rs.city){

							if($('#user_level_access_session').text() == 'municipality'){

								if($('#municipality_id_session').text() == rs.city[n].id){

									if(rs.city[n].provinceid == provinces[i].id){

										var fam_cum = "";
										var fam_now = "";
										var per_cum = "";
										var per_now = "";
										var fc 		= 0;
										var fn 		= 0;
										var pc 		= 0;
										var pn 		= 0;
										var ec_cum 	= 0;
										var ec_now 	= 0;

										var brgy_ec 	= "";

										for(var m in rs.rs){
											if(rs.rs[m].municipality_id == rs.city[n].id){

												fam_cum = isnulls(rs.rs[m].family_cum);
												fam_cum = fam_cum.split("/");

												fam_now = isnulls(rs.rs[m].family_now);
												fam_now = fam_now.split("/");

												per_cum = isnulls(rs.rs[m].person_cum);
												per_cum = per_cum.split("/");

												per_now = isnulls(rs.rs[m].person_now);
												per_now = per_now.split("/");


												for(k = 0 ; k < fam_cum.length ; k++){
													fc += Number(fam_cum[k]);
												}

												for(l = 0 ; l < fam_now.length ; l++){
													fn += Number(fam_now[l]);
												}

												for(p = 0 ; p < per_cum.length ; p++){
													pc += Number(per_cum[p]);
												}

												for(q = 0 ; q < per_now.length ; q++){
													pn += Number(per_now[q]);
												}

											}
										}

										for(var m in rs.queryecs){
											if(rs.city[n].id == rs.queryecs[m].municipality_id){

												ec_cum += Number(rs.queryecs[m].ec_cum);
												ec_now += Number(rs.queryecs[m].ec_now);

											}
										}

										$("#evac_stats tbody").append(
											"<tr style='background-color:#169F85; color:#fff; cursor:pointer'>"+
												"<th style='border: 1px solid #000; padding:2px; font-weight:bold; text-align:left; background-color: #808080; color: #000' border='0.5'>"+rs.city[n].municipality_name+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fc))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fn))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pc))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pn))+"</th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
							  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
											"</tr>"
										)

										for(var m in rs.rs){
											if(rs.city[n].id == rs.rs[m].municipality_id){
												if(m > 0){
													if((rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id)){
														var evac 			= "";
														var pec_cum 		= "";
														var pec_now 		= "";
														var pec_status 		= "";
													}else{
														var evac 			= rs.rs[m].evacuation_names;
														var pec_cum 		= rs.rs[m].ec_cum;
														var pec_now 		= rs.rs[m].ec_now;
														var pec_status 		= rs.rs[m].ec_status
													}
												}else{
													var evac 				= rs.rs[m].evacuation_names;
													var pec_cum 			= rs.rs[m].ec_cum;
													var pec_now 			= rs.rs[m].ec_now;
													var pec_status 			= rs.rs[m].ec_status
												}

												if(m > 0){
													if((rs.rs[m].brgy_located_ec== rs.rs[m-1].brgy_located_ec) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id) && (rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name)){
														var brgy_ec = "";
													}else{
														for(var b = 0 ; b < rs.brgy.length ; b++){
															if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
																brgy_ec 	= rs.brgy[b].brgy_name;
																break;
															}
														}
													}
												}else{
													for(var b = 0 ; b < rs.brgy.length ; b++){
														if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
															brgy_ec 	= rs.brgy[b].brgy_name;
															break;
														}
													}
												}

												var brgy_evac = "";
												var blocated = "";

												if(rs.rs[m].brgy_located != null){

													var blocated = rs.rs[m].brgy_located.toString();
													blocated = blocated.split(",");

												}

												for(var bb = 0 ; bb < blocated.length ; bb++){

													for(var b = 0 ; b < rs.brgy.length ; b++){
													
														if(bb == 0){
															if(rs.brgy[b].id == blocated[bb]){

																if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																	brgy_evac 	= rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
																}else{
																	brgy_evac = rs.brgy[b].brgy_name;
																}

															}
														}else{

															if(rs.brgy[b].id == blocated[bb]){

																if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																	brgy_evac 	= brgy_evac + "<br>" + rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
																}else{
																	brgy_evac = brgy_evac + "<br>" + rs.brgy[b].brgy_name;
																}

															}
														}

													}


												}


												if(rs.rs[m].ec_status == "Closed"){
													var style = "background-color: #ADD8E6";
												}else if(rs.rs[m].ec_status == "Existing"){
													var style = "background-color: #F08080";
												}else if(rs.rs[m].ec_status == "Newly-Opened"){
													var style = "background-color: #F0E68C";
												}else{
													var style = "background-color: #FFF";
												}

												$("#evac_stats tbody").append(
													//ondblclick='updateEC("+rs.rs[m].id+")'
													"<tr style='cursor:pointer' id='evacstat"+rs.rs[m].id+"' class='evacstat evacstat."+rs.rs[m].id+" hoveredit'>"+
														"<td style='border: 1px solid #000; color: #000; padding:2px; "+style+"'></td>"+
														"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_ec)+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnulldo(evac.toUpperCase())+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_cum))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_now))+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_evac)+"</td>"+
									  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(pec_status)+"</td>"+
													"</tr>"
												)
											}

											brgy_ec = "";
										}

									}

								}

							}else{

								if(rs.city[n].provinceid == provinces[i].id){

									var fam_cum = "";
									var fam_now = "";
									var per_cum = "";
									var per_now = "";
									var fc 		= 0;
									var fn 		= 0;
									var pc 		= 0;
									var pn 		= 0;
									var ec_cum 	= 0;
									var ec_now 	= 0;

									var brgy_ec 	= "";

									for(var m in rs.rs){
										if(rs.rs[m].municipality_id == rs.city[n].id){

											fam_cum = isnulls(rs.rs[m].family_cum);
											fam_cum = fam_cum.split("/");

											fam_now = isnulls(rs.rs[m].family_now);
											fam_now = fam_now.split("/");

											per_cum = isnulls(rs.rs[m].person_cum);
											per_cum = per_cum.split("/");

											per_now = isnulls(rs.rs[m].person_now);
											per_now = per_now.split("/");


											for(k = 0 ; k < fam_cum.length ; k++){
												fc += Number(fam_cum[k]);
											}

											for(l = 0 ; l < fam_now.length ; l++){
												fn += Number(fam_now[l]);
											}

											for(p = 0 ; p < per_cum.length ; p++){
												pc += Number(per_cum[p]);
											}

											for(q = 0 ; q < per_now.length ; q++){
												pn += Number(per_now[q]);
											}

										}
									}

									for(var m in rs.queryecs){
										if(rs.city[n].id == rs.queryecs[m].municipality_id){

											ec_cum += Number(rs.queryecs[m].ec_cum);
											ec_now += Number(rs.queryecs[m].ec_now);

										}
									}

									$("#evac_stats tbody").append(
										"<tr style='background-color:#169F85; color:#fff; cursor:pointer'>"+
											"<th style='border: 1px solid #000; padding:2px; font-weight:bold; text-align:left; background-color: #808080; color: #000' border='0.5'>"+rs.city[n].municipality_name+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_cum))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(ec_now))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fc))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(fn))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pc))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'>"+addComma(isnull(pn))+"</th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
						  					"<th style='border: 1px solid #000; text-align:center; padding:2px; background-color: #808080; color: #000'></th>"+
										"</tr>"
									)

									for(var m in rs.rs){
										if(rs.city[n].id == rs.rs[m].municipality_id){
											if(m > 0){
												if((rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id)){
													var evac 			= "";
													var pec_cum 		= "";
													var pec_now 		= "";
													var pec_status 		= "";
												}else{
													var evac 			= rs.rs[m].evacuation_names;
													var pec_cum 		= rs.rs[m].ec_cum;
													var pec_now 		= rs.rs[m].ec_now;
													var pec_status 		= rs.rs[m].ec_status
												}
											}else{
												var evac 				= rs.rs[m].evacuation_names;
												var pec_cum 			= rs.rs[m].ec_cum;
												var pec_now 			= rs.rs[m].ec_now;
												var pec_status 			= rs.rs[m].ec_status
											}

											if(m > 0){
												if((rs.rs[m].brgy_located_ec== rs.rs[m-1].brgy_located_ec) && (rs.rs[m].municipality_id == rs.rs[m-1].municipality_id) && (rs.rs[m].evacuation_name == rs.rs[m-1].evacuation_name)){
													var brgy_ec = "";
												}else{
													for(var b = 0 ; b < rs.brgy.length ; b++){
														if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
															brgy_ec 	= rs.brgy[b].brgy_name;
															break;
														}
													}
												}
											}else{
												for(var b = 0 ; b < rs.brgy.length ; b++){
													if(rs.brgy[b].id == rs.rs[m].brgy_located_ec){
														brgy_ec 	= rs.brgy[b].brgy_name;
														break;
													}
												}
											}

											var brgy_evac = "";
											var blocated = "";

											if(rs.rs[m].brgy_located != null){

												var blocated = rs.rs[m].brgy_located.toString();
												blocated = blocated.split(",");

											}

											for(var bb = 0 ; bb < blocated.length ; bb++){

												for(var b = 0 ; b < rs.brgy.length ; b++){
												
													if(bb == 0){
														if(rs.brgy[b].id == blocated[bb]){

															if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																brgy_evac 	= rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
															}else{
																brgy_evac = rs.brgy[b].brgy_name;
															}

														}
													}else{

														if(rs.brgy[b].id == blocated[bb]){

															if(rs.brgy[b].municipality_id != rs.rs[m].municipality_id){
																brgy_evac 	= brgy_evac + "<br>" + rs.brgy[b].brgy_name + ", " + rs.brgy[b].municipality_name + ", " + rs.brgy[b].province_name;
															}else{
																brgy_evac = brgy_evac + "<br>" + rs.brgy[b].brgy_name;
															}

														}
													}

												}


											}


											if(rs.rs[m].ec_status == "Closed"){
												var style = "background-color: #ADD8E6";
											}else if(rs.rs[m].ec_status == "Existing"){
												var style = "background-color: #F08080";
											}else if(rs.rs[m].ec_status == "Newly-Opened"){
												var style = "background-color: #F0E68C";
											}else{
												var style = "background-color: #FFF";
											}

											$("#evac_stats tbody").append(
												//ondblclick='updateEC("+rs.rs[m].id+")'
												"<tr style='cursor:pointer' id='evacstat"+rs.rs[m].id+"' class='evacstat evacstat."+rs.rs[m].id+" hoveredit'>"+
													"<td style='border: 1px solid #000; color: #000; padding:2px; "+style+"'></td>"+
													"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_cum))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(pec_now))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_ec)+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnulldo(evac.toUpperCase())+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_cum))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].family_now))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_cum))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:center; padding:2px; "+style+"'>"+addComma(isnull(rs.rs[m].person_now))+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(brgy_evac)+"</td>"+
								  					"<td style='border: 1px solid #000; color: #000; text-align:left; padding:2px; "+style+"'>"+isnull(pec_status)+"</td>"+
												"</tr>"
											)
										}

										brgy_ec = "";
									}

								}

							}
						}

					}


					var fam_cum = "";
					var fam_now = "";
					var per_cum = "";
					var per_now = "";
					var fc = 0;
					var fn = 0;
					var pc = 0;
					var pn = 0;
					var ec_cum = 0;
					var ec_now = 0;

					for(var m in rs.rs){

							fam_cum = isnulls(rs.rs[m].family_cum);
							fam_cum = fam_cum.split("/");

							fam_now = isnulls(rs.rs[m].family_now);
							fam_now = fam_now.split("/");

							per_cum = isnulls(rs.rs[m].person_cum);
							per_cum = per_cum.split("/");

							per_now = isnulls(rs.rs[m].person_now);
							per_now = per_now.split("/");

							for(k = 0 ; k < fam_cum.length ; k++){
								fc += Number(fam_cum[k]);
							}

							for(l = 0 ; l < fam_now.length ; l++){
								fn += Number(fam_now[l]);
							}

							for(p = 0 ; p < per_cum.length ; p++){
								pc += Number(per_cum[p]);
							}

							for(q = 0 ; q < per_now.length ; q++){
								pn += Number(per_now[q]);
							}
					}

					for(var m in rs.queryecs){
						ec_cum += Number(rs.queryecs[m].ec_cum);
						ec_now += Number(rs.queryecs[m].ec_now);

					}

					$('#caraga_ec_cum').text(addComma(ec_cum));
					$('#caraga_ec_now').text(addComma(ec_now));
					$('#caraga_fam_cum').text(addComma(fc));
					$('#caraga_fam_now').text(addComma(fn));
					$('#caraga_per_cum').text(addComma(pc));
					$('#caraga_per_now').text(addComma(pn));

			// ======== End Inside Evacuation Area ================================================================================================================================

					for(var i in provinces){

						var fam_cum_o_p = 0;
						var fam_now_o_p = 0;
						var per_cum_o_p = 0;
						var per_now_o_p = 0;

						for(var e in rs.rsoutside){
							if(rs.rsoutside[e].provinceid == provinces[i].id){

								fam_cum_o_p += Number(rs.rsoutside[e].family_cum);
								fam_now_o_p += Number(rs.rsoutside[e].family_now);
								per_cum_o_p += Number(rs.rsoutside[e].person_cum);
								per_now_o_p += Number(rs.rsoutside[e].person_now);

							}
						}

						if($('#user_level_access_session').text() != 'municipality'){

							$("#evac_stats_outside tbody").append(
								"<tr>"+
									"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+provinces[i].name+"</th>"+
									"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
				  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o_p))+"</th>"+
				  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o_p))+"</th>"+
				  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o_p))+"</th>"+
				  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o_p))+"</th>"+
				  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
								"</tr>"
							)
						}

						for(var r in rs.rsoutside){

							if($('#user_level_access_session').text() == 'municipality'){

								if($('#municipality_id_session').text() == rs.rsoutside[r].municipality_origin){

									var fam_cum_o = 0;
									var fam_now_o = 0;
									var per_cum_o = 0;
									var per_now_o = 0;

									if(provinces[i].id == rs.rsoutside[r].provinceid){

										if(r == 0){

											for(var e in rs.rsoutside){
												if(rs.rsoutside[0].municipality_id == rs.rsoutside[e].municipality_id){

													fam_cum_o += Number(rs.rsoutside[e].family_cum);
													fam_now_o += Number(rs.rsoutside[e].family_now);
													per_cum_o += Number(rs.rsoutside[e].person_cum);
													per_now_o += Number(rs.rsoutside[e].person_now);

												}
											}

											$("#evac_stats_outside tbody").append(
												"<tr>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
												"</tr>"
											)

											bname_origin = rs.rsoutside[r].brgy_origin;

											for(var b in rs.brgy){
												if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
													bname_origin = rs.brgy[b].brgy_name;
													break;
												}
											}

											$("#evac_stats_outside tbody").append(
												"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
													"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
													"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px; text-align: left'>"+rs.rsoutside[r].brgy_name+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
												"</tr>"
											)

											fam_cum_o = 0;
											fam_now_o = 0;
											per_cum_o = 0;
											per_now_o = 0;

										}else{

											if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){

												if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}

													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}else{

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}


													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}
											}else{

												for(var e in rs.rsoutside){
													if(rs.rsoutside[r].municipality_id == rs.rsoutside[e].municipality_id){

														fam_cum_o += Number(rs.rsoutside[e].family_cum);
														fam_now_o += Number(rs.rsoutside[e].family_now);
														per_cum_o += Number(rs.rsoutside[e].person_cum);
														per_now_o += Number(rs.rsoutside[e].person_now);

													}
												}

												$("#evac_stats_outside tbody").append(
													"<tr>"+
														"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
														"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
									  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
													"</tr>"
												)

												bname_origin = rs.rsoutside[r].brgy_origin;

												for(var b in rs.brgy){
													if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
														bname_origin = rs.brgy[b].brgy_name;
														break;
													}
												}


												$("#evac_stats_outside tbody").append(
													"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
														"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
														"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
													"</tr>"
												)

												if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){
													if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

														bname_origin = rs.rsoutside[r].brgy_origin;

														for(var b in rs.brgy){
															if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
																bname_origin = rs.brgy[b].brgy_name;
																break;
															}
														}

														$("#evac_stats_outside tbody").append(
															"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
																"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
																"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
															"</tr>"
														)
													}else{

														bname_origin = rs.rsoutside[r].brgy_origin;

														for(var b in rs.brgy){
															if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
																bname_origin = rs.brgy[b].brgy_name;
																break;
															}
														}

														$("#evac_stats_outside tbody").append(
															"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
																"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
																"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
											  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
															"</tr>"
														)
													}

													fam_cum_o = 0;
													fam_now_o = 0;
													per_cum_o = 0;
													per_now_o = 0;
												}

											}
										}
									}
								}
							}else{

								var fam_cum_o = 0;
								var fam_now_o = 0;
								var per_cum_o = 0;
								var per_now_o = 0;

								if(provinces[i].id == rs.rsoutside[r].provinceid){

									if(r == 0){

										for(var e in rs.rsoutside){
											if(rs.rsoutside[0].municipality_id == rs.rsoutside[e].municipality_id){

												fam_cum_o += Number(rs.rsoutside[e].family_cum);
												fam_now_o += Number(rs.rsoutside[e].family_now);
												per_cum_o += Number(rs.rsoutside[e].person_cum);
												per_now_o += Number(rs.rsoutside[e].person_now);

											}
										}

										$("#evac_stats_outside tbody").append(
											"<tr>"+
												"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
												"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
							  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
							  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
							  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
							  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
							  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
											"</tr>"
										)

										bname_origin = rs.rsoutside[r].brgy_origin;

										for(var b in rs.brgy){
											if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
												bname_origin = rs.brgy[b].brgy_name;
												break;
											}
										}

										$("#evac_stats_outside tbody").append(
											"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
												"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
												"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px; text-align: left'>"+rs.rsoutside[r].brgy_name+"</th>"+
							  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
							  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
							  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
							  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
							  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
											"</tr>"
										)

										fam_cum_o = 0;
										fam_now_o = 0;
										per_cum_o = 0;
										per_now_o = 0;

									}else{

										if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){

											if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

												bname_origin = rs.rsoutside[r].brgy_origin;

												for(var b in rs.brgy){
													if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
														bname_origin = rs.brgy[b].brgy_name;
														break;
													}
												}

												$("#evac_stats_outside tbody").append(
													"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
														"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
														"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
													"</tr>"
												)
											}else{

												bname_origin = rs.rsoutside[r].brgy_origin;

												for(var b in rs.brgy){
													if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
														bname_origin = rs.brgy[b].brgy_name;
														break;
													}
												}


												$("#evac_stats_outside tbody").append(
													"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
														"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
														"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
									  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
													"</tr>"
												)
											}
										}else{

											for(var e in rs.rsoutside){
												if(rs.rsoutside[r].municipality_id == rs.rsoutside[e].municipality_id){

													fam_cum_o += Number(rs.rsoutside[e].family_cum);
													fam_now_o += Number(rs.rsoutside[e].family_now);
													per_cum_o += Number(rs.rsoutside[e].person_cum);
													per_now_o += Number(rs.rsoutside[e].person_now);

												}
											}

											$("#evac_stats_outside tbody").append(
												"<tr>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; padding:2px; text-align: left'>"+rs.rsoutside[r].municipality_name+"</th>"+
													"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(fam_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_cum_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(per_now_o))+"</th>"+
								  					"<th style='background-color: #A6A6A6; color: #000; border: 1px solid #000; text-align:center; padding:2px'></th>"+
												"</tr>"
											)

											bname_origin = rs.rsoutside[r].brgy_origin;

											for(var b in rs.brgy){
												if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
													bname_origin = rs.brgy[b].brgy_name;
													break;
												}
											}


											$("#evac_stats_outside tbody").append(
												"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
													"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
													"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
								  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
												"</tr>"
											)

											if(rs.rsoutside[r].municipality_id == rs.rsoutside[r-1].municipality_id){
												if(rs.rsoutside[r].brgy_host == rs.rsoutside[r-1].brgy_host){

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}

													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>-do-</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}else{

													bname_origin = rs.rsoutside[r].brgy_origin;

													for(var b in rs.brgy){
														if((rs.brgy[b].id == rs.rsoutside[r].brgy_origin)){
															bname_origin = rs.brgy[b].brgy_name;
															break;
														}
													}

													$("#evac_stats_outside tbody").append(
														"<tr class='hoveredit' ondblclick='updateOutsideEvacuation("+rs.rsoutside[r].id+")'>"+
															"<th style='color: #000; border: 1px solid #000; padding:2px;'></th>"+
															"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+rs.rsoutside[r].brgy_name+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].family_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_cum))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:center; padding:2px'>"+addComma(isnull(rs.rsoutside[r].person_now))+"</th>"+
										  					"<th style='color: #000; border: 1px solid #000; text-align:left; padding:2px'>"+isnull(bname_origin)+"</th>"+
														"</tr>"
													)
												}

												fam_cum_o = 0;
												fam_now_o = 0;
												per_cum_o = 0;
												per_now_o = 0;
											}

										}
									}
								}

							}
						}

					}

					var brgy_num = 0;
					var fam_cum_o = 0;
					var fam_now_o = 0;
					var per_cum_o = 0;
					var per_now_o = 0;
					var brgy_num = 0;

					for(var g in rs.rsoutside){
						fam_cum_o += Number(rs.rsoutside[g].family_cum);
						fam_now_o += Number(rs.rsoutside[g].family_now);
						per_cum_o += Number(rs.rsoutside[g].person_cum);
						per_now_o += Number(rs.rsoutside[g].person_now);
						brgy_num += Number(rs.rsoutside[g].affbrgy);
					}

					$('#caraga_brgy_num_o').text(addComma(brgy_num));
					$('#caraga_fam_cum_o').text(addComma(fam_cum_o));
					$('#caraga_fam_now_o').text(addComma(fam_now_o));
					$('#caraga_per_cum_o').text(addComma(per_cum_o));
					$('#caraga_per_now_o').text(addComma(per_now_o));

			// ======== End Outside Evacuation Area ===============================================================================================================================

			// ======== Casualties ================================================================================================================================================
					$('#tbl_casualties tbody').empty();
					for(var w in rs.query_casualties){
						var itemno = Number(w) + 1;
						$('#tbl_casualties tbody').append(
							"<tr style='border: 1px solid #000; cursor:pointer; color: #000' ondblclick='getCasualty("+rs.query_casualties[w].id+")' class='hoveredit'>"+
								"<td style='border: 1px solid #000; text-align:center'>"+itemno+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].lastname+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].firstname+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnull(rs.query_casualties[w].middle_i)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnull(rs.query_casualties[w].age)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].gender+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].province_name+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].municipality_name+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+rs.query_casualties[w].brgyname+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].isdead)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].ismissing)+"</td>"+
								"<td style='border: 1px solid #000; text-align:center'>"+isnulld(rs.query_casualties[w].isinjured)+"</td>"+
								"<td style='border: 1px solid #000; text-align:left'>"+rs.query_casualties[w].remarks+"</td>"+
							"</tr>"
						)

					}
			// ======== End Casualties ============================================================================================================================================


			// MASTER QUERY REVISION =================================================================================================================================================
					$("#tbl_masterquery_revss tbody").empty();

					var gtfam_cum 		= 0;
					var gtper_cum 		= 0;
					var gt4ps 			= 0;
					var gtec_cum 		= 0;
					var gtec_now 		= 0;

					var gtifam_cum 		= 0;
					var gtifam_now 		= 0;
					var gtiper_cum 		= 0;
					var gtiper_now 		= 0;

					var gtofam_cum 		= 0;
					var gtofam_now 		= 0;
					var gtoper_cum 		= 0;
					var gtoper_now 		= 0;

					var gb_cum 			= 0;

					var gbb0_2 = [];
					var gbb0_3 = 0;

					var tgtfam_cum = 0;
					var tgtfam_now = 0;
					var tgtper_cum = 0;
					var tgtper_now = 0;

					var tgttotdamage = 0;
					var tgtpartdamage = 0;
					var tgtttotdamage = 0;

					var tgttotdamage = 0;
					var tgtpartdamage = 0;
					var tgtttotdamage = 0;
					var gtasstlgu = 0;
					var gtasstngo = 0;
					var gtasstogo = 0;
					var gtdswdasst = 0;
					var gttasst = 0;

					var gtffp_q = 0;
					var gtffp_cost = 0;

					var gtheb_q = 0;
					var gtheb_cost = 0;

					var gtrtef_q = 0;
					var gtrtef_cost = 0;

					var gtshelter_q = 0;
					var gtshelter_cost = 0;

					var gthygiene_q = 0;
					var gthygiene_cost = 0;

					var gthygiene_q = 0;
					var gthygiene_cost = 0;

					var gtsleeping_q = 0;
					var gtsleeping_cost = 0;

					var gtkitchen_q = 0;
					var gtkitchen_cost = 0;

					var gtfamily_q = 0;
					var gtfamily_cost = 0;

					var gtpotable_q = 0;
					var gtpotable_cost = 0;

					var gtother_cost = 0;

					for(var ttttt in rs.rs){

						//gtfam_cum += Number(rs.rs[ttttt].family_cum);
						//gtper_cum += Number(rs.rs[ttttt].person_cum);

						gt4ps += Number(rs.rs[ttttt].fourps);

						gtifam_cum += Number(rs.rs[ttttt].family_cum);
						gtifam_now += Number(rs.rs[ttttt].family_now);
						gtiper_cum += Number(rs.rs[ttttt].person_cum);
						gtiper_now += Number(rs.rs[ttttt].person_now);

						tgtfam_cum += Number(rs.rs[ttttt].family_cum);
						tgtfam_now += Number(rs.rs[ttttt].family_now);
						tgtper_cum += Number(rs.rs[ttttt].person_cum);
						tgtper_now += Number(rs.rs[ttttt].person_now);


						gbb0_2.push(rs.rs[ttttt].brgy_located);

					}

					for(var jh in gbb0_2){
						gbb0_3 += 1;
					}

					for(var ggggg in rs.query_outec){

						//gtfam_cum += Number(rs.query_outec[ggggg].family_cum);
						//gtper_cum += Number(rs.rs[ggggg].person_cum);

						gtofam_cum += Number(rs.query_outec[ggggg].family_cum);
						gtofam_now += Number(rs.query_outec[ggggg].family_now);
						gtoper_cum += Number(rs.query_outec[ggggg].person_cum);
						gtoper_now += Number(rs.query_outec[ggggg].person_now);

						tgtfam_cum += Number(rs.query_outec[ggggg].family_cum);
						tgtfam_now += Number(rs.query_outec[ggggg].family_now);
						tgtper_cum += Number(rs.query_outec[ggggg].person_cum);
						tgtper_now += Number(rs.query_outec[ggggg].person_now);

					}

					for(var wwwww in rs.queryecs){

						gtec_cum += Number(rs.queryecs[wwwww].ec_cum);
						gtec_now += Number(rs.queryecs[wwwww].ec_now);

					}

					for(var ggx in rs.city){

						var gtf = 0;
						var gtp = 0;
						var gpb = 0;

						var gitf = 0;
						var gitp = 0;
						var gitb = 0;
						

						for(var gtx in rs.rs){
							if(rs.rs[gtx].municipality_id == rs.city[ggx].id){
								gtf += Number(rs.rs[gtx].family_cum);
								gtp += Number(rs.rs[gtx].person_cum);
							}
						}

						for(var ggs in rs.query_outec){
							if(rs.query_outec[ggs].municipality_id == rs.city[ggx].id){
								gtf += Number(rs.query_outec[ggs].family_cum);
								gtp += Number(rs.query_outec[ggs].person_cum);
							}
						}

						for(var gyx in rs.all_affected){
							if(rs.all_affected[gyx].municipality_id == rs.city[ggx].id){
								gitf = rs.all_affected[gyx].fam_no;
								gitp = rs.all_affected[gyx].person_no;
								gitb = rs.all_affected[gyx].brgy_affected;
							}
						}

						gtfam_cum += (Number(gtf) > Number(gitf) ? gtf : gitf);
						gtper_cum += (Number(gtp) > Number(gitp) ? gtp : gitp);


						for(var gqqqq in rs.brgys){
							if(rs.brgys[gqqqq].municipality_id == rs.city[ggx].id){
								gpb += 1;
							}
						}

						gb_cum += (Number(gpb) > Number(gitb) ? gpb : gitb);

					}


					// for(var qqqqq in rs.brgys){

					// 	gb_cum += 1;

					// }

					for(var ooooo in rs.query_asst){

						tgttotdamage += Number(rs.query_asst[ooooo].totally_damaged);
						tgtpartdamage += Number(rs.query_asst[ooooo].partially_damaged);
						tgtttotdamage += Number(rs.query_asst[ooooo].totally_damaged) + Number(rs.query_asst[ooooo].partially_damaged);

						gtasstlgu += Number(rs.query_asst[ooooo].lgu_asst);
						gtasstngo += Number(rs.query_asst[ooooo].ngo_asst);
						gtasstogo += Number(rs.query_asst[ooooo].ogo_asst);
						gtdswdasst += Number(rs.query_asst[ooooo].dswd_asst);

						gttasst += Number(rs.query_asst[ooooo].lgu_asst) + Number(rs.query_asst[ooooo].ngo_asst) + Number(rs.query_asst[ooooo].ogo_asst) + Number(rs.query_asst[ooooo].dswd_asst);

					}


					for(var ppppp in rs.query_fnfis){

						if(rs.query_fnfis[ppppp].fnfitype == 'ffp'){

							gtffp_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtffp_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'heb'){

							gtheb_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtheb_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'rtef'){

							gtrtef_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtrtef_cost 		+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'shelter'){

							gtshelter_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtshelter_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'hygiene'){

							gthygiene_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gthygiene_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'sleeping'){

							gtsleeping_q 	+= Number(rs.query_fnfis[ppppp].quantity);
							gtsleeping_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'kitchen'){

							gtkitchen_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtkitchen_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'family'){

							gtfamily_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtfamily_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'potable'){

							gtpotable_q 		+= Number(rs.query_fnfis[ppppp].quantity);
							gtpotable_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

						if(rs.query_fnfis[ppppp].fnfitype == 'other'){

							gtother_cost 	+= Number(rs.query_fnfis[ppppp].quantity) * Number(rs.query_fnfis[ppppp].cost); 

						}

					}

					var gt_infant_male_cum 		= 0;
					var gt_infant_male_now 		= 0;
					var gt_infant_female_cum 	= 0;
					var gt_infant_female_now 	= 0;

					var gt_toddler_male_cum 	= 0;
					var gt_toddler_male_now 	= 0;
					var gt_toddler_female_cum 	= 0;
					var gt_toddler_female_now 	= 0;

					var gt_pschool_male_cum 	= 0;
					var gt_pschool_male_now 	= 0;
					var gt_pschool_female_cum 	= 0;
					var gt_pschool_female_now 	= 0;

					var gt_schoolage_male_cum 	= 0;
					var gt_schoolage_male_now 	= 0;
					var gt_schoolage_female_cum = 0;
					var gt_schoolage_female_now = 0;

					var gt_teenage_male_cum 	= 0;
					var gt_teenage_male_now 	= 0;
					var gt_teenage_female_cum 	= 0;
					var gt_teenage_female_now 	= 0;

					var gt_adult_male_cum 		= 0;
					var gt_adult_male_now 		= 0;
					var gt_adult_female_cum 	= 0;
					var gt_adult_female_now 	= 0;

					var gt_senior_male_cum 		= 0;
					var gt_senior_male_now 		= 0;
					var gt_senior_female_cum 	= 0;
					var gt_senior_female_now 	= 0;

					var gt_pwd_male_cum 		= 0;
					var gt_pwd_male_now 		= 0;
					var gt_pwd_female_cum 		= 0;
					var gt_pwd_female_now 		= 0;

					var gt_pregnant_cum 		= 0;
					var gt_pregnant_now 		= 0;

					var gt_lactating_cum 		= 0;
					var gt_lactating_now 		= 0;

					var gt_solo_cum 			= 0;
					var gt_solo_now 			= 0

					var gt_ip_cum 				= 0;
					var gt_ip_now 				= 0;

					var gt_male_cum 			= 0; 
					var gt_male_now 			= 0;
					var gt_female_cum 			= 0;
					var gt_female_now 			= 0; 

					var gt_t_cum 				= 0;
					var gt_t_now 				= 0;

					var gt_compost 				= 0;
					var gt_sealed 				= 0;

					var gt_portalet_male 		= 0;
					var gt_portalet_female 		= 0;
					var gt_portalet_common 		= 0;

					var gt_bathing_male 		= 0;
					var gt_bathing_female 		= 0;
					var gt_bathing_common 		= 0;

					var gt_child 				= 0;
					var gt_women 				= 0;
					var gt_couple 				= 0;
					var gt_prayer 				= 0;
					var gt_community 			= 0;
					var gt_wash 				= 0;
					var gt_ramps 				= 0;
					var gt_help 				= 0;
					var gt_capacity 			= 0;
					var gt_rooms 				= 0;

					for(var uu_1 in rs.sex){

							gt_infant_male_cum 		= Number(gt_infant_male_cum) + Number(rs.sex[uu_1].infant_male_cum); 
							gt_infant_male_now 		= Number(gt_infant_male_now) + Number(rs.sex[uu_1].infant_male_now); 
							gt_infant_female_cum 	= Number(gt_infant_female_cum) + Number(rs.sex[uu_1].infant_female_cum); 
							gt_infant_female_now 	= Number(gt_infant_female_now) + Number(rs.sex[uu_1].infant_female_now);

							gt_toddler_male_cum 		= Number(gt_toddler_male_cum) + Number(rs.sex[uu_1].toddler_male_cum);
							gt_toddler_male_now 		= Number(gt_toddler_male_now) + Number(rs.sex[uu_1].toddler_male_now);
							gt_toddler_female_cum 	= Number(gt_toddler_female_cum) + Number(rs.sex[uu_1].toddler_female_cum);
							gt_toddler_female_now 	= Number(gt_toddler_female_now) + Number(rs.sex[uu_1].toddler_female_now);

							gt_pschool_male_cum 		= Number(gt_pschool_male_cum) + Number(rs.sex[uu_1].preschooler_male_cum);
							gt_pschool_male_now 		= Number(gt_pschool_male_now) + Number(rs.sex[uu_1].preschooler_male_now);
							gt_pschool_female_cum 	= Number(gt_pschool_female_cum) + Number(rs.sex[uu_1].preschooler_female_cum);
							gt_pschool_female_now 	= Number(gt_pschool_female_now) + Number(rs.sex[uu_1].preschooler_female_now);

							gt_schoolage_male_cum 	= Number(gt_schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_male_cum);
							gt_schoolage_male_now 	= Number(gt_schoolage_male_now) + Number(rs.sex[uu_1].schoolage_male_now);
							gt_schoolage_female_cum 	= Number(gt_schoolage_female_cum) + Number(rs.sex[uu_1].schoolage_female_cum);
							gt_schoolage_female_now 	= Number(gt_schoolage_female_now) + Number(rs.sex[uu_1].schoolage_female_now);

							gt_teenage_male_cum 		= Number(gt_teenage_male_cum) + Number(rs.sex[uu_1].teenage_male_cum);
							gt_teenage_male_now 		= Number(gt_teenage_male_now) + Number(rs.sex[uu_1].teenage_male_now);
							gt_teenage_female_cum 	= Number(gt_teenage_female_cum) + Number(rs.sex[uu_1].teenage_female_cum);
							gt_teenage_female_now 	= Number(gt_teenage_female_now) + Number(rs.sex[uu_1].teenage_female_now);

							gt_adult_male_cum 		= Number(gt_adult_male_cum) + Number(rs.sex[uu_1].adult_male_cum);
							gt_adult_male_now 		= Number(gt_adult_male_now) + Number(rs.sex[uu_1].adult_male_now);
							gt_adult_female_cum 		= Number(gt_adult_female_cum) + Number(rs.sex[uu_1].adult_female_cum);
							gt_adult_female_now 		= Number(gt_adult_female_now) + Number(rs.sex[uu_1].adult_female_now);

							gt_senior_male_cum 		= Number(gt_senior_male_cum) + Number(rs.sex[uu_1].senior_male_cum);
							gt_senior_male_now 		= Number(gt_senior_male_now) + Number(rs.sex[uu_1].senior_male_now);
							gt_senior_female_cum 	= Number(gt_senior_female_cum) + Number(rs.sex[uu_1].senior_female_cum);
							gt_senior_female_now 	= Number(gt_senior_female_now) + Number(rs.sex[uu_1].senior_female_now);

							gt_male_cum 		= Number(gt_infant_male_cum) + Number(gt_toddler_male_cum) + Number(gt_pschool_male_cum) + Number(gt_schoolage_male_cum) + Number(gt_teenage_male_cum) + Number(gt_adult_male_cum) + Number(gt_senior_male_cum);
							gt_male_now 		= Number(gt_infant_male_now) + Number(gt_toddler_male_now) + Number(gt_pschool_male_now) + Number(gt_schoolage_male_now) + Number(gt_teenage_male_now) + Number(gt_adult_male_now) + Number(gt_senior_male_now);
							gt_female_cum 	= Number(gt_infant_female_cum) + Number(gt_toddler_female_cum) + Number(gt_pschool_female_cum) + Number(gt_schoolage_female_cum) + Number(gt_teenage_female_cum) + Number(gt_adult_female_cum) + Number(gt_senior_female_cum);
							gt_female_now 	= Number(gt_infant_female_now) + Number(gt_toddler_female_now) + Number(gt_pschool_female_now) + Number(gt_schoolage_female_now) + Number(gt_teenage_female_now) + Number(gt_adult_female_now) + Number(gt_senior_female_now);


							gt_pregnant_cum 		= Number(gt_pregnant_cum) + Number(rs.sex[uu_1].pregnant_cum);
							gt_pregnant_now 		= Number(gt_pregnant_now) + Number(rs.sex[uu_1].pregnant_now);

							gt_lactating_cum 	= Number(gt_lactating_cum) + Number(rs.sex[uu_1].lactating_cum);
							gt_lactating_now 	= Number(gt_lactating_now) + Number(rs.sex[uu_1].lactating_now);

							gt_pwd_male_cum 		= Number(gt_pwd_male_cum) + Number(rs.sex[uu_1].disable_male_cum);
							gt_pwd_male_now 		= Number(gt_pwd_male_now) + Number(rs.sex[uu_1].disable_male_now);
							gt_pwd_female_cum 	= Number(gt_pwd_female_cum) + Number(rs.sex[uu_1].disable_female_cum);
							gt_pwd_female_now 	= Number(gt_pwd_female_now) + Number(rs.sex[uu_1].disable_female_now);

							gt_solo_cum 			= Number(gt_solo_cum) + Number(rs.sex[uu_1].solo_cum);
							gt_solo_now 			= Number(gt_solo_now) + Number(rs.sex[uu_1].solo_now);

							gt_ip_cum 			= Number(gt_ip_cum) + Number(rs.sex[uu_1].ip_cum);
							gt_ip_now 			= Number(gt_ip_now) + Number(rs.sex[uu_1].ip_now);

							gt_t_cum 			+= Number(rs.sex[uu_1].infant_male_cum) + Number(rs.sex[uu_1].infant_female_cum) + Number(rs.sex[uu_1].toddler_male_cum) + Number(rs.sex[uu_1].toddler_female_cum) + 
							Number(rs.sex[uu_1].preschooler_male_cum) + Number(rs.sex[uu_1].preschooler_female_cum) + Number(rs.sex[uu_1].schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_female_cum) + 
							Number(rs.sex[uu_1].teenage_male_cum) + Number(rs.sex[uu_1].teenage_female_cum) + Number(rs.sex[uu_1].adult_male_cum) + Number(rs.sex[uu_1].adult_female_cum) +
							Number(rs.sex[uu_1].senior_male_cum) + Number(rs.sex[uu_1].senior_female_cum) + Number(rs.sex[uu_1].pregnant_cum) + Number(rs.sex[uu_1].lactating_cum) + 
							Number(rs.sex[uu_1].disable_male_cum) + Number(rs.sex[uu_1].disable_female_cum) + Number(rs.sex[uu_1].solo_cum) + Number(rs.sex[uu_1].ip_cum);

							gt_t_now 			+= Number(rs.sex[uu_1].infant_male_now) + Number(rs.sex[uu_1].infant_female_now) + Number(rs.sex[uu_1].toddler_male_now) + Number(rs.sex[uu_1].toddler_female_now) + 
							Number(rs.sex[uu_1].preschooler_male_now) + Number(rs.sex[uu_1].preschooler_female_now) + Number(rs.sex[uu_1].schoolage_male_now) + Number(rs.sex[uu_1].schoolage_female_now) + 
							Number(rs.sex[uu_1].teenage_male_now) + Number(rs.sex[uu_1].teenage_female_now) + Number(rs.sex[uu_1].adult_male_now) + Number(rs.sex[uu_1].adult_female_now) +
							Number(rs.sex[uu_1].senior_male_now) + Number(rs.sex[uu_1].senior_female_now) + Number(rs.sex[uu_1].pregnant_now) + Number(rs.sex[uu_1].lactating_now) + 
							Number(rs.sex[uu_1].disable_male_now) + Number(rs.sex[uu_1].disable_female_now) + Number(rs.sex[uu_1].solo_now) + Number(rs.sex[uu_1].ip_now);

					}

					for(var eeeeeee in rs.facilities){

						gt_compost 				= Number(gt_compost) + Number(rs.facilities[eeeeeee].compost_pit);
						gt_sealed 				= Number(gt_sealed) + Number(rs.facilities[eeeeeee].sealed);
						gt_portalet_male 		= Number(gt_portalet_male) + Number(rs.facilities[eeeeeee].portalets_male);
						gt_portalet_female 		= Number(gt_portalet_female) + Number(rs.facilities[eeeeeee].portalets_female);
						gt_portalet_common 		= Number(gt_portalet_common) + Number(rs.facilities[eeeeeee].portalets_common);
						gt_bathing_male 		= Number(gt_bathing_male) + Number(rs.facilities[eeeeeee].bathing_cubicles_male);
						gt_bathing_female 		= Number(gt_bathing_female) + Number(rs.facilities[eeeeeee].bathing_cubicles_female);
						gt_bathing_common 		= Number(gt_bathing_common) + Number(rs.facilities[eeeeeee].bathing_cubicles_common);
						gt_child 				= Number(gt_child) + Number(rs.facilities[eeeeeee].child_space);
						gt_women 				= Number(gt_women) + Number(rs.facilities[eeeeeee].women_space);
						gt_couple 				= Number(gt_couple) + Number(rs.facilities[eeeeeee].couple_room);
						gt_prayer 				= Number(gt_prayer) + Number(rs.facilities[eeeeeee].prayer_room);
						gt_community 			= Number(gt_community) + Number(rs.facilities[eeeeeee].community_kitchen);
						gt_wash 				= Number(gt_wash) + Number(rs.facilities[eeeeeee].wash);
						gt_ramps 				= Number(gt_ramps) + Number(rs.facilities[eeeeeee].ramps);
						gt_help 				= Number(gt_help) + Number(rs.facilities[eeeeeee].help_desk);
						gt_capacity 			= Number(gt_capacity) + Number(rs.facilities[eeeeeee].capacity);
						gt_rooms 				= Number(gt_rooms) + Number(rs.facilities[eeeeeee].no_of_rooms);

					}

					var all_brgy_in_ec = 0;

					var region_psgc = $('#region_id_session').text();

					for(var h in rs.brgy_unique_ec){
						if(Number(region_psgc) == Number(rs.brgy_unique_ec[h].region_psgc)){
							all_brgy_in_ec += 1;
						}

					}


					if($('#user_level_access_session').text() != 'municipality'  && $('#user_level_access_session').text() != 'province'){

						$("#tbl_masterquery_revss tbody").append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+$('#region_name_session').text().toUpperCase()+"</b></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gb_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt4ps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtec_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtec_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+all_brgy_in_ec+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtifam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtifam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_t_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_t_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtiper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtiper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtofam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtofam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtoper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gtoper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtfam_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtper_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_compost+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_sealed+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_child+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_women+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_couple+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_prayer+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_community+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_wash+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ramps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_help+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_capacity+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_rooms+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtttotdamage+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgttotdamage+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+tgtpartdamage+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtffp_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtffp_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtheb_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtheb_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtrtef_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtrtef_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtshelter_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtshelter_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gthygiene_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gthygiene_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtsleeping_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtsleeping_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtkitchen_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtkitchen_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtfamily_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtfamily_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtpotable_q.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtpotable_cost.toLocaleString()+"</td>"+
								"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+gtother_cost.toLocaleString()+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstlgu)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstngo)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gtasstogo)+"</td>"+
								"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(gttasst)+"</td>"+

							"</tr>"
						)


						$('#tbl_sex_age_distribution_list tbody').append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+$('#region_name_session').text().toUpperCase()+"</b></td>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_infant_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_toddler_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pschool_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_schoolage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_teenage_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_adult_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_senior_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pregnant_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_lactating_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_male_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_pwd_female_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_solo_now+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_cum+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ip_now+"</td>"+
							"</tr>"
						)

						$('#tbl_evauation_facility_list tbody').append(
							"<tr>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+$('#region_name_session').text().toUpperCase()+"</b></td>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_compost+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_sealed+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_portalet_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_male+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_female+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_bathing_common+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_child+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_women+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_couple+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_prayer+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_community+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_wash+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_ramps+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_help+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_capacity+"</td>"+
								"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+gt_rooms+"</td>"+
							"</tr>"
						)

					}

					for(var p in provinces){

						var ptfam_cum 		= 0;
						var ptper_cum 		= 0;
						var pt4ps 			= 0;	 		
						var ptec_cum 		= 0;
						var ptec_now 		= 0;

						var ptifam_cum 		= 0;
						var ptifam_now 		= 0;
						var ptiper_cum 		= 0;
						var ptiper_now 		= 0;

						var ptofam_cum 		= 0;
						var ptofam_now 		= 0;
						var ptoper_cum 		= 0;
						var ptoper_now 		= 0;

						var pb_cum 			= 0;

						var pbb0_2;
						var pbb0_3 = 0;

						var ttpfam_cum = 0;
						var ttpfam_now = 0;
						var ttpper_cum = 0;
						var ttpper_now = 0;

						var ttptotdamage = 0;
						var ttppartdamage = 0;
						var ttpttotdamage = 0;

						var ttptotdamage = 0;
						var ttppartdamage = 0;
						var ttpttotdamage = 0;
						var passtlgu = 0;
						var passtngo = 0;
						var passtogo = 0;
						var pdswdasst = 0;
						var ptasst = 0;

						var pffp_q = 0;
						var pffp_cost = 0;

						var pheb_q = 0;
						var pheb_cost = 0;

						var prtef_q = 0;
						var prtef_cost = 0;

						var pshelter_q = 0;
						var pshelter_cost = 0;

						var phygiene_q = 0;
						var phygiene_cost = 0;

						var phygiene_q = 0;
						var phygiene_cost = 0;

						var psleeping_q = 0;
						var psleeping_cost = 0;

						var pkitchen_q = 0;
						var pkitchen_cost = 0;

						var pfamily_q = 0;
						var pfamily_cost = 0;

						var ppotable_q = 0;
						var ppotable_cost = 0;

						var pother_cost = 0;

						var fcum = 0;

						var all_affected_f = 0;

						for(var tttt in rs.rs){
							if(rs.rs[tttt].provinceid == provinces[p].id){

								//ptfam_cum += Number(rs.rs[tttt].family_cum);

								//ptper_cum += Number(rs.rs[tttt].person_cum);

								pt4ps += Number(rs.rs[tttt].fourps);

								ptifam_cum += Number(rs.rs[tttt].family_cum);
								ptifam_now += Number(rs.rs[tttt].family_now);
								ptiper_cum += Number(rs.rs[tttt].person_cum);
								ptiper_now += Number(rs.rs[tttt].person_now);

								ttpfam_cum += Number(rs.rs[tttt].family_cum);
								ttpfam_now += Number(rs.rs[tttt].family_now);
								ttpper_cum += Number(rs.rs[tttt].person_cum);
								ttpper_now += Number(rs.rs[tttt].person_now);


								pbb0_2 = rs.rs[tttt].brgy_located;

								pbb0_2 = pbb0_2.split(",");

								for(var jh in pbb0_2){
									pbb0_3 += 1;
								}

							}

						}

						for(var gggg in rs.query_outec){

							if(rs.query_outec[gggg].provinceid == provinces[p].id){

								//ptfam_cum += Number(rs.query_outec[gggg].family_cum);
								//ptper_cum += Number(rs.rs[gggg].person_cum);

								ptofam_cum += Number(rs.query_outec[gggg].family_cum);
								ptofam_now += Number(rs.query_outec[gggg].family_now);
								ptoper_cum += Number(rs.query_outec[gggg].person_cum);
								ptoper_now += Number(rs.query_outec[gggg].person_now);

								ttpfam_cum += Number(rs.query_outec[gggg].family_cum);
								ttpfam_now += Number(rs.query_outec[gggg].family_now);
								ttpper_cum += Number(rs.query_outec[gggg].person_cum);
								ttpper_now += Number(rs.query_outec[gggg].person_now);

							}

						}

						for(var gx in rs.city){

							var tf = 0;
							var tp = 0;
							var pb = 0;

							var itf = 0;
							var itp = 0;
							var itb = 0;
							

							if(rs.city[gx].provinceid == provinces[p].id){

								for(var tx in rs.rs){
									if(rs.rs[tx].municipality_id == rs.city[gx].id){
										tf += Number(rs.rs[tx].family_cum);
										tp += Number(rs.rs[tx].person_cum);
									}
								}

								for(var gs in rs.query_outec){
									if(rs.query_outec[gs].municipality_id == rs.city[gx].id){
										tf += Number(rs.query_outec[gs].family_cum);
										tp += Number(rs.query_outec[gs].person_cum);
									}
								}

								for(var yx in rs.all_affected){
									if(rs.all_affected[yx].municipality_id == rs.city[gx].id){
										itf = rs.all_affected[yx].fam_no;
										itp = rs.all_affected[yx].person_no;
										itb = rs.all_affected[yx].brgy_affected;
									}
								}

								ptfam_cum += (Number(tf) > Number(itf) ? tf : itf);
								ptper_cum += (Number(tp) > Number(itp) ? tp : itp);


								for(var qqqq in rs.brgys){
									if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
										pb += 1;
									}
								}

								pb_cum += (Number(pb) > Number(itb) ? pb : itb);

							}

						}

						for(var wwww in rs.queryecs){

							if(rs.queryecs[wwww].province_id == provinces[p].id){
								ptec_cum += Number(rs.queryecs[wwww].ec_cum);
								ptec_now += Number(rs.queryecs[wwww].ec_now);
							}

						}

						for(var oooo in rs.query_asst){

							if(rs.query_asst[oooo].provinceid == provinces[p].id){

								ttptotdamage += Number(rs.query_asst[oooo].totally_damaged);
								ttppartdamage += Number(rs.query_asst[oooo].partially_damaged);
								ttpttotdamage += Number(rs.query_asst[oooo].totally_damaged) + Number(rs.query_asst[oooo].partially_damaged);

								passtlgu += Number(rs.query_asst[oooo].lgu_asst);
								passtngo += Number(rs.query_asst[oooo].ngo_asst);
								passtogo += Number(rs.query_asst[oooo].ogo_asst);
								pdswdasst += Number(rs.query_asst[oooo].dswd_asst);

								ptasst += Number(rs.query_asst[oooo].lgu_asst) + Number(rs.query_asst[oooo].ngo_asst) + Number(rs.query_asst[oooo].ogo_asst) + Number(rs.query_asst[oooo].dswd_asst);

							}

						}


						for(var pppp in rs.query_fnfis){

							if(rs.query_fnfis[pppp].provinceid == provinces[p].id){

								if(rs.query_fnfis[pppp].fnfitype == 'ffp'){

									pffp_q 		+= Number(rs.query_fnfis[pppp].quantity);
									pffp_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'heb'){

									pheb_q 		+= Number(rs.query_fnfis[pppp].quantity);
									pheb_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'rtef'){

									prtef_q 		+= Number(rs.query_fnfis[pppp].quantity);
									prtef_cost 		+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'shelter'){

									pshelter_q 		+= Number(rs.query_fnfis[pppp].quantity);
									pshelter_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'hygiene'){

									phygiene_q 		+= Number(rs.query_fnfis[pppp].quantity);
									phygiene_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'sleeping'){

									psleeping_q 	+= Number(rs.query_fnfis[pppp].quantity);
									psleeping_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'kitchen'){

									pkitchen_q 		+= Number(rs.query_fnfis[pppp].quantity);
									pkitchen_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'family'){

									pfamily_q 		+= Number(rs.query_fnfis[pppp].quantity);
									pfamily_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'potable'){

									ppotable_q 		+= Number(rs.query_fnfis[pppp].quantity);
									ppotable_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

								if(rs.query_fnfis[pppp].fnfitype == 'other'){

									pother_cost 	+= Number(rs.query_fnfis[pppp].quantity) * Number(rs.query_fnfis[pppp].cost); 

								}

							}

						}

						var p_infant_male_cum 		= 0;
						var p_infant_male_now 		= 0;
						var p_infant_female_cum 	= 0;
						var p_infant_female_now 	= 0;

						var p_toddler_male_cum 		= 0;
						var p_toddler_male_now 		= 0;
						var p_toddler_female_cum 	= 0;
						var p_toddler_female_now 	= 0;

						var p_pschool_male_cum 		= 0;
						var p_pschool_male_now 		= 0;
						var p_pschool_female_cum 	= 0;
						var p_pschool_female_now 	= 0;

						var p_schoolage_male_cum 	= 0;
						var p_schoolage_male_now 	= 0;
						var p_schoolage_female_cum 	= 0;
						var p_schoolage_female_now 	= 0;

						var p_teenage_male_cum 		= 0;
						var p_teenage_male_now 		= 0;
						var p_teenage_female_cum 	= 0;
						var p_teenage_female_now 	= 0;

						var p_adult_male_cum 		= 0;
						var p_adult_male_now 		= 0;
						var p_adult_female_cum 		= 0;
						var p_adult_female_now 		= 0;

						var p_senior_male_cum 		= 0;
						var p_senior_male_now 		= 0;
						var p_senior_female_cum 	= 0;
						var p_senior_female_now 	= 0;

						var p_pwd_male_cum 			= 0;
						var p_pwd_male_now 			= 0;
						var p_pwd_female_cum 		= 0;
						var p_pwd_female_now 		= 0;

						var p_pregnant_cum 			= 0;
						var p_pregnant_now 			= 0;

						var p_lactating_cum 		= 0;
						var p_lactating_now 		= 0;

						var p_solo_cum 				= 0;
						var p_solo_now 				= 0

						var p_ip_cum 				= 0;
						var p_ip_now 				= 0;

						var p_male_cum 				= 0; 
						var p_male_now 				= 0;
						var p_female_cum 			= 0;
						var p_female_now 			= 0; 

						var p_t_cum 				= 0;
						var p_t_now 				= 0;

						var p_compost 				= 0;
						var p_sealed 				= 0;

						var p_portalet_male 		= 0;
						var p_portalet_female 		= 0;
						var p_portalet_common 		= 0;

						var p_bathing_male 			= 0;
						var p_bathing_female 		= 0;
						var p_bathing_common 		= 0;

						var p_child 				= 0;
						var p_women 				= 0;
						var p_couple 				= 0;
						var p_prayer 				= 0;
						var p_community 			= 0;
						var p_wash 					= 0;
						var p_ramps 				= 0;
						var p_help 					= 0;
						var p_capacity 				= 0;
						var p_rooms 				= 0;

						for(var uu_1 in rs.sex){

							if(rs.sex[uu_1].province_id == provinces[p].id){

								p_infant_male_cum 		= Number(p_infant_male_cum) + Number(rs.sex[uu_1].infant_male_cum); 
								p_infant_male_now 		= Number(p_infant_male_now) + Number(rs.sex[uu_1].infant_male_now); 
								p_infant_female_cum 	= Number(p_infant_female_cum) + Number(rs.sex[uu_1].infant_female_cum); 
								p_infant_female_now 	= Number(p_infant_female_now) + Number(rs.sex[uu_1].infant_female_now);

								p_toddler_male_cum 		= Number(p_toddler_male_cum) + Number(rs.sex[uu_1].toddler_male_cum);
								p_toddler_male_now 		= Number(p_toddler_male_now) + Number(rs.sex[uu_1].toddler_male_now);
								p_toddler_female_cum 	= Number(p_toddler_female_cum) + Number(rs.sex[uu_1].toddler_female_cum);
								p_toddler_female_now 	= Number(p_toddler_female_now) + Number(rs.sex[uu_1].toddler_female_now);

								p_pschool_male_cum 		= Number(p_pschool_male_cum) + Number(rs.sex[uu_1].preschooler_male_cum);
								p_pschool_male_now 		= Number(p_pschool_male_now) + Number(rs.sex[uu_1].preschooler_male_now);
								p_pschool_female_cum 	= Number(p_pschool_female_cum) + Number(rs.sex[uu_1].preschooler_female_cum);
								p_pschool_female_now 	= Number(p_pschool_female_now) + Number(rs.sex[uu_1].preschooler_female_now);

								p_schoolage_male_cum 	= Number(p_schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_male_cum);
								p_schoolage_male_now 	= Number(p_schoolage_male_now) + Number(rs.sex[uu_1].schoolage_male_now);
								p_schoolage_female_cum 	= Number(p_schoolage_female_cum) + Number(rs.sex[uu_1].schoolage_female_cum);
								p_schoolage_female_now 	= Number(p_schoolage_female_now) + Number(rs.sex[uu_1].schoolage_female_now);

								p_teenage_male_cum 		= Number(p_teenage_male_cum) + Number(rs.sex[uu_1].teenage_male_cum);
								p_teenage_male_now 		= Number(p_teenage_male_now) + Number(rs.sex[uu_1].teenage_male_now);
								p_teenage_female_cum 	= Number(p_teenage_female_cum) + Number(rs.sex[uu_1].teenage_female_cum);
								p_teenage_female_now 	= Number(p_teenage_female_now) + Number(rs.sex[uu_1].teenage_female_now);

								p_adult_male_cum 		= Number(p_adult_male_cum) + Number(rs.sex[uu_1].adult_male_cum);
								p_adult_male_now 		= Number(p_adult_male_now) + Number(rs.sex[uu_1].adult_male_now);
								p_adult_female_cum 		= Number(p_adult_female_cum) + Number(rs.sex[uu_1].adult_female_cum);
								p_adult_female_now 		= Number(p_adult_female_now) + Number(rs.sex[uu_1].adult_female_now);

								p_senior_male_cum 		= Number(p_senior_male_cum) + Number(rs.sex[uu_1].senior_male_cum);
								p_senior_male_now 		= Number(p_senior_male_now) + Number(rs.sex[uu_1].senior_male_now);
								p_senior_female_cum 	= Number(p_senior_female_cum) + Number(rs.sex[uu_1].senior_female_cum);
								p_senior_female_now 	= Number(p_senior_female_now) + Number(rs.sex[uu_1].senior_female_now);

								p_male_cum 		= Number(p_infant_male_cum) + Number(p_toddler_male_cum) + Number(p_pschool_male_cum) + Number(p_schoolage_male_cum) + Number(p_teenage_male_cum) + Number(p_adult_male_cum) + Number(p_senior_male_cum);
								p_male_now 		= Number(p_infant_male_now) + Number(p_toddler_male_now) + Number(p_pschool_male_now) + Number(p_schoolage_male_now) + Number(p_teenage_male_now) + Number(p_adult_male_now) + Number(p_senior_male_now);
								p_female_cum 	= Number(p_infant_female_cum) + Number(p_toddler_female_cum) + Number(p_pschool_female_cum) + Number(p_schoolage_female_cum) + Number(p_teenage_female_cum) + Number(p_adult_female_cum) + Number(p_senior_female_cum);
								p_female_now 	= Number(p_infant_female_now) + Number(p_toddler_female_now) + Number(p_pschool_female_now) + Number(p_schoolage_female_now) + Number(p_teenage_female_now) + Number(p_adult_female_now) + Number(p_senior_female_now);


								p_pregnant_cum 		= Number(p_pregnant_cum) + Number(rs.sex[uu_1].pregnant_cum);
								p_pregnant_now 		= Number(p_pregnant_now) + Number(rs.sex[uu_1].pregnant_now);

								p_lactating_cum 	= Number(p_lactating_cum) + Number(rs.sex[uu_1].lactating_cum);
								p_lactating_now 	= Number(p_lactating_now) + Number(rs.sex[uu_1].lactating_now);

								p_pwd_male_cum 		= Number(p_pwd_male_cum) + Number(rs.sex[uu_1].disable_male_cum);
								p_pwd_male_now 		= Number(p_pwd_male_now) + Number(rs.sex[uu_1].disable_male_now);
								p_pwd_female_cum 	= Number(p_pwd_female_cum) + Number(rs.sex[uu_1].disable_female_cum);
								p_pwd_female_now 	= Number(p_pwd_female_now) + Number(rs.sex[uu_1].disable_female_now);

								p_solo_cum 			= Number(p_solo_cum) + Number(rs.sex[uu_1].solo_cum);
								p_solo_now 			= Number(p_solo_now) + Number(rs.sex[uu_1].solo_now);

								p_ip_cum 			= Number(p_ip_cum) + Number(rs.sex[uu_1].ip_cum);
								p_ip_now 			= Number(p_ip_now) + Number(rs.sex[uu_1].ip_now);

								p_t_cum 			+= Number(rs.sex[uu_1].infant_male_cum) + Number(rs.sex[uu_1].infant_female_cum) + Number(rs.sex[uu_1].toddler_male_cum) + Number(rs.sex[uu_1].toddler_female_cum) + 
								Number(rs.sex[uu_1].preschooler_male_cum) + Number(rs.sex[uu_1].preschooler_female_cum) + Number(rs.sex[uu_1].schoolage_male_cum) + Number(rs.sex[uu_1].schoolage_female_cum) + 
								Number(rs.sex[uu_1].teenage_male_cum) + Number(rs.sex[uu_1].teenage_female_cum) + Number(rs.sex[uu_1].adult_male_cum) + Number(rs.sex[uu_1].adult_female_cum) +
								Number(rs.sex[uu_1].senior_male_cum) + Number(rs.sex[uu_1].senior_female_cum) + Number(rs.sex[uu_1].pregnant_cum) + Number(rs.sex[uu_1].lactating_cum) + 
								Number(rs.sex[uu_1].disable_male_cum) + Number(rs.sex[uu_1].disable_female_cum) + Number(rs.sex[uu_1].solo_cum) + Number(rs.sex[uu_1].ip_cum);

								p_t_now 			+= Number(rs.sex[uu_1].infant_male_now) + Number(rs.sex[uu_1].infant_female_now) + Number(rs.sex[uu_1].toddler_male_now) + Number(rs.sex[uu_1].toddler_female_now) + 
								Number(rs.sex[uu_1].preschooler_male_now) + Number(rs.sex[uu_1].preschooler_female_now) + Number(rs.sex[uu_1].schoolage_male_now) + Number(rs.sex[uu_1].schoolage_female_now) + 
								Number(rs.sex[uu_1].teenage_male_now) + Number(rs.sex[uu_1].teenage_female_now) + Number(rs.sex[uu_1].adult_male_now) + Number(rs.sex[uu_1].adult_female_now) +
								Number(rs.sex[uu_1].senior_male_now) + Number(rs.sex[uu_1].senior_female_now) + Number(rs.sex[uu_1].pregnant_now) + Number(rs.sex[uu_1].lactating_now) + 
								Number(rs.sex[uu_1].disable_male_now) + Number(rs.sex[uu_1].disable_female_now) + Number(rs.sex[uu_1].solo_now) + Number(rs.sex[uu_1].ip_now);

							}

						}

						for(var eeeeee in rs.facilities){

							if(rs.facilities[eeeeee].province_id == provinces[p].id){

								p_compost 				= Number(p_compost) + Number(rs.facilities[eeeeee].compost_pit);
								p_sealed 				= Number(p_sealed) + Number(rs.facilities[eeeeee].sealed);
								p_portalet_male 		= Number(p_portalet_male) + Number(rs.facilities[eeeeee].portalets_male);
								p_portalet_female 		= Number(p_portalet_female) + Number(rs.facilities[eeeeee].portalets_female);
								p_portalet_common 		= Number(p_portalet_common) + Number(rs.facilities[eeeeee].portalets_common);
								p_bathing_male 			= Number(p_bathing_male) + Number(rs.facilities[eeeeee].bathing_cubicles_male);
								p_bathing_female 		= Number(p_bathing_female) + Number(rs.facilities[eeeeee].bathing_cubicles_female);
								p_bathing_common 		= Number(p_bathing_common) + Number(rs.facilities[eeeeee].bathing_cubicles_common);
								p_child 				= Number(p_child) + Number(rs.facilities[eeeeee].child_space);
								p_women 				= Number(p_women) + Number(rs.facilities[eeeeee].women_space);
								p_couple 				= Number(p_couple) + Number(rs.facilities[eeeeee].couple_room);
								p_prayer 				= Number(p_prayer) + Number(rs.facilities[eeeeee].prayer_room);
								p_community 			= Number(p_community) + Number(rs.facilities[eeeeee].community_kitchen);
								p_wash 					= Number(p_wash) + Number(rs.facilities[eeeeee].wash);
								p_ramps 				= Number(p_ramps) + Number(rs.facilities[eeeeee].ramps);
								p_help 					= Number(p_help) + Number(rs.facilities[eeeeee].help_desk);
								p_capacity 				= Number(p_capacity) + Number(rs.facilities[eeeeee].capacity);
								p_rooms 				= Number(p_rooms) + Number(rs.facilities[eeeeee].no_of_rooms);
							}

						}

						var p_all_brgy_in_ec = 0;

						for(var h in rs.brgy_unique_ec){

							if(rs.brgy_unique_ec[h].province_id == provinces[p].id){
								p_all_brgy_in_ec += 1;
							}

						}

						if($('#user_level_access_session').text() != 'municipality'){

							$("#tbl_masterquery_revss tbody").append(
								"<tr>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</b></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+pb_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptfam_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptper_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+pt4ps+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptec_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptec_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_all_brgy_in_ec+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptifam_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptifam_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_t_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_t_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptiper_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptiper_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptofam_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptofam_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptoper_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ptoper_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>0</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpfam_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpper_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_compost+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_sealed+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_male+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_female+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_common+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_male+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_female+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_common+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_child+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_women+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_couple+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_prayer+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_community+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_wash+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ramps+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_help+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_capacity+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_rooms+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttpttotdamage+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttptotdamage+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+ttppartdamage+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pffp_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pffp_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pheb_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pheb_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+prtef_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+prtef_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pshelter_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pshelter_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+phygiene_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+phygiene_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+psleeping_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+psleeping_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pkitchen_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pkitchen_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pfamily_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pfamily_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+ppotable_q.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+ppotable_cost.toLocaleString()+"</td>"+
									"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #808080'>"+pother_cost.toLocaleString()+"</td>"+
									"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtlgu)+"</td>"+
									"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtngo)+"</td>"+
									"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(passtogo)+"</td>"+
									"<td style='text-align:right; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+addCommaMoney(ptasst)+"</td>"+

								"</tr>"
							)

							$('#tbl_sex_age_distribution_list tbody').append(
								"<tr>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</td>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_infant_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_toddler_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pschool_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_schoolage_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_teenage_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_adult_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_senior_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pregnant_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_lactating_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_male_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_pwd_female_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_solo_now+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_cum+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ip_now+"</td>"+
								"</tr>"
							)

							$('#tbl_evauation_facility_list tbody').append(
								"<tr>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'><b>"+provinces[p].name+"</td>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='border:1px solid #000; background-color:#808080; color: #000;'></td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_compost+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_sealed+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_male+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_female+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_portalet_common+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_male+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_female+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_bathing_common+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_child+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_women+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_couple+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_prayer+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_community+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_wash+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_ramps+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_help+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_capacity+"</td>"+
									"<td style='text-align:center; font-weight:bold; border:1px solid #000; background-color:#808080; color: #000;'>"+p_rooms+"</td>"+
								"</tr>"
							)
						}

						for(var mm in rs.city){
							if($('#user_level_access_session').text() == 'municipality'){
								if($('#municipality_id_session').text() == rs.city[mm].id){
								//==========================
									var mtfam_cum 		= 0;
									var mtper_cum 		= 0;
									var mt4ps 			= 0;
									var mtec_cum 		= 0;
									var mtec_now 		= 0;

									var mtifam_cum 		= 0;
									var mtifam_now 		= 0;
									var mtiper_cum 		= 0;
									var mtiper_now 		= 0;

									var mtofam_cum 		= 0;
									var mtofam_now 		= 0;
									var mtoper_cum 		= 0;
									var mtoper_now 		= 0;

									var mb_cum 			= 0;

									var bb0_2;
									var bb0_3 = 0;

									var ttcfam_cum = 0;
									var ttcfam_now = 0;
									var ttcper_cum = 0;
									var ttcper_now = 0;

									var ttctotdamage = 0;
									var ttcpartdamage = 0;
									var ttcttotdamage = 0;

									var casstlgu = 0;
									var casstngo = 0;
									var casstogo = 0;
									var cdswdasst = 0;

									var ctasst = 0;

									var cffp_q = 0;
									var cffp_cost = 0;
									var cheb_q = 0;
									var cheb_cost = 0;
									var crtef_q = 0;
									var crtef_cost = 0;
									var cshelter_q = 0;
									var cshelter_cost = 0;
									var chygiene_q = 0;
									var chygiene_cost = 0;
									var chygiene_q = 0;
									var chygiene_cost = 0;
									var csleeping_q = 0;
									var csleeping_cost = 0;
									var ckitchen_q = 0;
									var ckitchen_cost = 0;
									var cfamily_q = 0;
									var cfamily_cost = 0;
									var cpotable_q = 0;
									var cpotable_cost = 0;
									var cother_cost = 0;

									var c_infant_male_cum 		= 0;
									var c_infant_male_now 		= 0;
									var c_infant_female_cum 	= 0;
									var c_infant_female_now 	= 0;

									var c_toddler_male_cum 		= 0;
									var c_toddler_male_now 		= 0;
									var c_toddler_female_cum 	= 0;
									var c_toddler_female_now 	= 0;

									var c_pschool_male_cum 		= 0;
									var c_pschool_male_now 		= 0;
									var c_pschool_female_cum 	= 0;
									var c_pschool_female_now 	= 0;

									var c_schoolage_male_cum 	= 0;
									var c_schoolage_male_now 	= 0;
									var c_schoolage_female_cum 	= 0;
									var c_schoolage_female_now 	= 0;

									var c_teenage_male_cum 		= 0;
									var c_teenage_male_now 		= 0;
									var c_teenage_female_cum 	= 0;
									var c_teenage_female_now 	= 0;

									var c_adult_male_cum 		= 0;
									var c_adult_male_now 		= 0;
									var c_adult_female_cum 		= 0;
									var c_adult_female_now 		= 0;

									var c_senior_male_cum 		= 0;
									var c_senior_male_now 		= 0;
									var c_senior_female_cum 	= 0;
									var c_senior_female_now 	= 0;

									var c_pwd_male_cum 			= 0;
									var c_pwd_male_now 			= 0;
									var c_pwd_female_cum 		= 0;
									var c_pwd_female_now 		= 0;

									var c_pregnant_cum 			= 0;
									var c_pregnant_now 			= 0;

									var c_latating_cum 			= 0;
									var c_latating_now 			= 0;

									var c_solo_cum 				= 0;
									var c_solo_now 				= 0

									var c_ips_cum 				= 0;
									var c_ips_now 				= 0;

									var citf 					= 0;
									var citp 					= 0;
									var citb 					= 0;

									var ctf 					= 0;
									var ctp 					= 0;
									var cpb  					= 0;

									if(rs.city[mm].provinceid == provinces[p].id){

										for(var ttt in rs.rs){

											if(Number(rs.rs[ttt].municipality_id) == Number(rs.city[mm].id)){

												ctf += Number(rs.rs[ttt].family_cum);
												ctp += Number(rs.rs[ttt].person_cum);

												mt4ps += Number(rs.rs[ttt].fourps);

												mtifam_cum += Number(rs.rs[ttt].family_cum);
												mtifam_now += Number(rs.rs[ttt].family_now);
												mtiper_cum += Number(rs.rs[ttt].person_cum);
												mtiper_now += Number(rs.rs[ttt].person_now);

												ttcfam_cum += Number(rs.rs[ttt].family_cum);
												ttcfam_now += Number(rs.rs[ttt].family_now);
												ttcper_cum += Number(rs.rs[ttt].person_cum);
												ttcper_now += Number(rs.rs[ttt].person_now);


												bb0_2 = rs.rs[ttt].brgy_located;

												bb0_2 = bb0_2.split(",");

												for(var j in bb0_2){
													bb0_3 += 1;
												}
											}

										}

										for(var ggg in rs.query_outec){

											if(rs.query_outec[ggg].municipality_id == rs.city[mm].id){

												ctf += Number(rs.query_outec[ggg].family_cum);
												ctp += Number(rs.rs[ttt].person_cum);

												mtofam_cum += Number(rs.query_outec[ggg].family_cum);
												mtofam_now += Number(rs.query_outec[ggg].family_now);
												mtoper_cum += Number(rs.query_outec[ggg].person_cum);
												mtoper_now += Number(rs.query_outec[ggg].person_now);

												ttcfam_cum += Number(rs.query_outec[ggg].family_cum);
												ttcfam_now += Number(rs.query_outec[ggg].family_now);
												ttcper_cum += Number(rs.query_outec[ggg].person_cum);
												ttcper_now += Number(rs.query_outec[ggg].person_now);

											}

										}

										for(var qqq in rs.brgys){

											if(rs.brgys[qqq].municipality_id == rs.city[mm].id){
												cpb += 1;
											}

										}

										for(var qx in rs.all_affected){
											if(rs.all_affected[qx].municipality_id == rs.city[mm].id){
												citf = rs.all_affected[qx].fam_no;
												citp = rs.all_affected[qx].person_no;
												citb = rs.all_affected[qx].brgy_affected;
											}
										}

										mtfam_cum += (Number(ctf) > Number(citf) ? ctf : citf);
										mtper_cum += (Number(ctp) > Number(citp) ? ctp : citp);

										mb_cum += (Number(cpb) > Number(citb) ? cpb : citb);

										for(var www in rs.queryecs){

											if(rs.queryecs[www].municipality_id == rs.city[mm].id){
												mtec_cum += Number(rs.queryecs[www].ec_cum);
												mtec_now += Number(rs.queryecs[www].ec_now);
											}
			 
										}


										for(var qqqq in rs.brgys){
											if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
												pb += 1;
											}
										}

										pb_cum += (Number(pb) > Number(itb) ? pb : itb);

										for(var ooo in rs.query_asst){

											if(rs.query_asst[ooo].municipality_id == rs.city[mm].id){

												ttctotdamage += Number(rs.query_asst[ooo].totally_damaged);
												ttcpartdamage += Number(rs.query_asst[ooo].partially_damaged);
												ttcttotdamage += Number(rs.query_asst[ooo].totally_damaged) + Number(rs.query_asst[ooo].partially_damaged);

												casstlgu += Number(rs.query_asst[ooo].lgu_asst);
												casstngo += Number(rs.query_asst[ooo].ngo_asst);
												casstogo += Number(rs.query_asst[ooo].ogo_asst);
												cdswdasst += Number(rs.query_asst[ooo].dswd_asst);

												ctasst += Number(rs.query_asst[ooo].lgu_asst) + Number(rs.query_asst[ooo].ngo_asst) + Number(rs.query_asst[ooo].ogo_asst) + Number(rs.query_asst[ooo].dswd_asst);

											}

										}

										for(var ppp in rs.query_fnfis){

											if(rs.query_fnfis[ppp].municipality_id == rs.city[mm].id){

												if(rs.query_fnfis[ppp].fnfitype == 'ffp'){

													cffp_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cffp_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'heb'){

													cheb_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cheb_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'rtef'){

													crtef_q 		+= Number(rs.query_fnfis[ppp].quantity);
													crtef_cost 		+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'shelter'){

													cshelter_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cshelter_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'hygiene'){

													chygiene_q 		+= Number(rs.query_fnfis[ppp].quantity);
													chygiene_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'sleeping'){

													csleeping_q 	+= Number(rs.query_fnfis[ppp].quantity);
													csleeping_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'kitchen'){

													ckitchen_q 		+= Number(rs.query_fnfis[ppp].quantity);
													ckitchen_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'family'){

													cfamily_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cfamily_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'potable'){

													cpotable_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cpotable_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'other'){

													cother_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

											}

										}

										var m_infant_male_cum 		= 0;
										var m_infant_male_now 		= 0;
										var m_infant_female_cum 	= 0;
										var m_infant_female_now 	= 0;

										var m_toddler_male_cum 		= 0;
										var m_toddler_male_now 		= 0;
										var m_toddler_female_cum 	= 0;
										var m_toddler_female_now 	= 0;

										var m_pschool_male_cum 		= 0;
										var m_pschool_male_now 		= 0;
										var m_pschool_female_cum 	= 0;
										var m_pschool_female_now 	= 0;

										var m_schoolage_male_cum 	= 0;
										var m_schoolage_male_now 	= 0;
										var m_schoolage_female_cum 	= 0;
										var m_schoolage_female_now 	= 0;

										var m_teenage_male_cum 		= 0;
										var m_teenage_male_now 		= 0;
										var m_teenage_female_cum 	= 0;
										var m_teenage_female_now 	= 0;

										var m_adult_male_cum 		= 0;
										var m_adult_male_now 		= 0;
										var m_adult_female_cum 		= 0;
										var m_adult_female_now 		= 0;

										var m_senior_male_cum 		= 0;
										var m_senior_male_now 		= 0;
										var m_senior_female_cum 	= 0;
										var m_senior_female_now 	= 0;

										var m_pwd_male_cum 			= 0;
										var m_pwd_male_now 			= 0;
										var m_pwd_female_cum 		= 0;
										var m_pwd_female_now 		= 0;

										var m_pregnant_cum 			= 0;
										var m_pregnant_now 			= 0;

										var m_lactating_cum 		= 0;
										var m_lactating_now 		= 0;

										var m_solo_cum 				= 0;
										var m_solo_now 				= 0

										var m_ip_cum 				= 0;
										var m_ip_now 				= 0;

										var m_male_cum 				= 0; 
										var m_male_now 				= 0;
										var m_female_cum 			= 0;
										var m_female_now 			= 0; 

										var m_t_cum 				= 0;
										var m_t_now 				= 0;

										var c_compost 				= 0;
										var c_sealed 				= 0;

										var c_portalet_male 		= 0;
										var c_portalet_female 		= 0;
										var c_portalet_common 		= 0;

										var c_bathing_male 			= 0;
										var c_bathing_female 		= 0;
										var c_bathing_common 		= 0;

										var c_child 				= 0;
										var c_women 				= 0;
										var c_couple 				= 0;
										var c_prayer 				= 0;
										var c_community 			= 0;
										var c_wash 					= 0;
										var c_ramps 				= 0;
										var c_help 					= 0;
										var c_capacity 				= 0;
										var c_rooms 				= 0;



										for(var uuuu in rs.sex){

											if(rs.sex[uuuu].municipality_id == rs.city[mm].id){

												m_infant_male_cum 		= Number(m_infant_male_cum) + Number(rs.sex[uuuu].infant_male_cum); 
												m_infant_male_now 		= Number(m_infant_male_now) + Number(rs.sex[uuuu].infant_male_now); 
												m_infant_female_cum 	= Number(m_infant_female_cum) + Number(rs.sex[uuuu].infant_female_cum); 
												m_infant_female_now 	= Number(m_infant_female_now) + Number(rs.sex[uuuu].infant_female_now);

												m_toddler_male_cum 		= Number(m_toddler_male_cum) + Number(rs.sex[uuuu].toddler_male_cum);
												m_toddler_male_now 		= Number(m_toddler_male_now) + Number(rs.sex[uuuu].toddler_male_now);
												m_toddler_female_cum 	= Number(m_toddler_female_cum) + Number(rs.sex[uuuu].toddler_female_cum);
												m_toddler_female_now 	= Number(m_toddler_female_now) + Number(rs.sex[uuuu].toddler_female_now);

												m_pschool_male_cum 		= Number(m_pschool_male_cum) + Number(rs.sex[uuuu].preschooler_male_cum);
												m_pschool_male_now 		= Number(m_pschool_male_now) + Number(rs.sex[uuuu].preschooler_male_now);
												m_pschool_female_cum 	= Number(m_pschool_female_cum) + Number(rs.sex[uuuu].preschooler_female_cum);
												m_pschool_female_now 	= Number(m_pschool_female_now) + Number(rs.sex[uuuu].preschooler_female_now);

												m_schoolage_male_cum 	= Number(m_schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_male_cum);
												m_schoolage_male_now 	= Number(m_schoolage_male_now) + Number(rs.sex[uuuu].schoolage_male_now);
												m_schoolage_female_cum 	= Number(m_schoolage_female_cum) + Number(rs.sex[uuuu].schoolage_female_cum);
												m_schoolage_female_now 	= Number(m_schoolage_female_now) + Number(rs.sex[uuuu].schoolage_female_now);

												m_teenage_male_cum 		= Number(m_teenage_male_cum) + Number(rs.sex[uuuu].teenage_male_cum);
												m_teenage_male_now 		= Number(m_teenage_male_now) + Number(rs.sex[uuuu].teenage_male_now);
												m_teenage_female_cum 	= Number(m_teenage_female_cum) + Number(rs.sex[uuuu].teenage_female_cum);
												m_teenage_female_now 	= Number(m_teenage_female_now) + Number(rs.sex[uuuu].teenage_female_now);

												m_adult_male_cum 		= Number(m_adult_male_cum) + Number(rs.sex[uuuu].adult_male_cum);
												m_adult_male_now 		= Number(m_adult_male_now) + Number(rs.sex[uuuu].adult_male_now);
												m_adult_female_cum 		= Number(m_adult_female_cum) + Number(rs.sex[uuuu].adult_female_cum);
												m_adult_female_now 		= Number(m_adult_female_now) + Number(rs.sex[uuuu].adult_female_now);

												m_senior_male_cum 		= Number(m_senior_male_cum) + Number(rs.sex[uuuu].senior_male_cum);
												m_senior_male_now 		= Number(m_senior_male_now) + Number(rs.sex[uuuu].senior_male_now);
												m_senior_female_cum 	= Number(m_senior_female_cum) + Number(rs.sex[uuuu].senior_female_cum);
												m_senior_female_now 	= Number(m_senior_female_now) + Number(rs.sex[uuuu].senior_female_now);

												m_male_cum 		= Number(m_infant_male_cum) + Number(m_toddler_male_cum) + Number(m_pschool_male_cum) + Number(m_schoolage_male_cum) + Number(m_teenage_male_cum) + Number(m_adult_male_cum) + Number(m_senior_male_cum);
												m_male_now 		= Number(m_infant_male_now) + Number(m_toddler_male_now) + Number(m_pschool_male_now) + Number(m_schoolage_male_now) + Number(m_teenage_male_now) + Number(m_adult_male_now) + Number(m_senior_male_now);
												m_female_cum 	= Number(m_infant_female_cum) + Number(m_toddler_female_cum) + Number(m_pschool_female_cum) + Number(m_schoolage_female_cum) + Number(m_teenage_female_cum) + Number(m_adult_female_cum) + Number(m_senior_female_cum);
												m_female_now 	= Number(m_infant_female_now) + Number(m_toddler_female_now) + Number(m_pschool_female_now) + Number(m_schoolage_female_now) + Number(m_teenage_female_now) + Number(m_adult_female_now) + Number(m_senior_female_now);


												m_pregnant_cum 		= Number(m_pregnant_cum) + Number(rs.sex[uuuu].pregnant_cum);
												m_pregnant_now 		= Number(m_pregnant_now) + Number(rs.sex[uuuu].pregnant_now);

												m_lactating_cum 	= Number(m_lactating_cum) + Number(rs.sex[uuuu].lactating_cum);
												m_lactating_now 	= Number(m_lactating_now) + Number(rs.sex[uuuu].lactating_now);

												m_pwd_male_cum 		= Number(m_pwd_male_cum) + Number(rs.sex[uuuu].disable_male_cum);
												m_pwd_male_now 		= Number(m_pwd_male_now) + Number(rs.sex[uuuu].disable_male_now);
												m_pwd_female_cum 	= Number(m_pwd_female_cum) + Number(rs.sex[uuuu].disable_female_cum);
												m_pwd_female_now 	= Number(m_pwd_female_now) + Number(rs.sex[uuuu].disable_female_now);

												m_solo_cum 			= Number(m_solo_cum) + Number(rs.sex[uuuu].solo_cum);
												m_solo_now 			= Number(m_solo_now) + Number(rs.sex[uuuu].solo_now);

												m_ip_cum 			= Number(m_ip_cum) + Number(rs.sex[uuuu].ip_cum);
												m_ip_now 			= Number(m_ip_now) + Number(rs.sex[uuuu].ip_now);

												m_t_cum 			+= Number(rs.sex[uuuu].infant_male_cum) + Number(rs.sex[uuuu].infant_female_cum) + Number(rs.sex[uuuu].toddler_male_cum) + Number(rs.sex[uuuu].toddler_female_cum) + 
												Number(rs.sex[uuuu].preschooler_male_cum) + Number(rs.sex[uuuu].preschooler_female_cum) + Number(rs.sex[uuuu].schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_female_cum) + 
												Number(rs.sex[uuuu].teenage_male_cum) + Number(rs.sex[uuuu].teenage_female_cum) + Number(rs.sex[uuuu].adult_male_cum) + Number(rs.sex[uuuu].adult_female_cum) +
												Number(rs.sex[uuuu].senior_male_cum) + Number(rs.sex[uuuu].senior_female_cum) + Number(rs.sex[uuuu].pregnant_cum) + Number(rs.sex[uuuu].lactating_cum) + 
												Number(rs.sex[uuuu].disable_male_cum) + Number(rs.sex[uuuu].disable_female_cum) + Number(rs.sex[uuuu].solo_cum) + Number(rs.sex[uuuu].ip_cum);

												m_t_now 			+= Number(rs.sex[uuuu].infant_male_now) + Number(rs.sex[uuuu].infant_female_now) + Number(rs.sex[uuuu].toddler_male_now) + Number(rs.sex[uuuu].toddler_female_now) + 
												Number(rs.sex[uuuu].preschooler_male_now) + Number(rs.sex[uuuu].preschooler_female_now) + Number(rs.sex[uuuu].schoolage_male_now) + Number(rs.sex[uuuu].schoolage_female_now) + 
												Number(rs.sex[uuuu].teenage_male_now) + Number(rs.sex[uuuu].teenage_female_now) + Number(rs.sex[uuuu].adult_male_now) + Number(rs.sex[uuuu].adult_female_now) +
												Number(rs.sex[uuuu].senior_male_now) + Number(rs.sex[uuuu].senior_female_now) + Number(rs.sex[uuuu].pregnant_now) + Number(rs.sex[uuuu].lactating_now) + 
												Number(rs.sex[uuuu].disable_male_now) + Number(rs.sex[uuuu].disable_female_now) + Number(rs.sex[uuuu].solo_now) + Number(rs.sex[uuuu].ip_now);

											}

										}

										for(var eeeee in rs.facilities){

											if(rs.facilities[eeeee].municipality_id == rs.city[mm].id){

												c_compost 				= Number(c_compost) + Number(rs.facilities[eeeee].compost_pit);
												c_sealed 				= Number(c_sealed) + Number(rs.facilities[eeeee].sealed);
												c_portalet_male 		= Number(c_portalet_male) + Number(rs.facilities[eeeee].portalets_male);
												c_portalet_female 		= Number(c_portalet_female) + Number(rs.facilities[eeeee].portalets_female);
												c_portalet_common 		= Number(c_portalet_common) + Number(rs.facilities[eeeee].portalets_common);
												c_bathing_male 			= Number(c_bathing_male) + Number(rs.facilities[eeeee].bathing_cubicles_male);
												c_bathing_female 		= Number(c_bathing_female) + Number(rs.facilities[eeeee].bathing_cubicles_female);
												c_bathing_common 		= Number(c_bathing_common) + Number(rs.facilities[eeeee].bathing_cubicles_common);
												c_child 				= Number(c_child) + Number(rs.facilities[eeeee].child_space);
												c_women 				= Number(c_women) + Number(rs.facilities[eeeee].women_space);
												c_couple 				= Number(c_couple) + Number(rs.facilities[eeeee].couple_room);
												c_prayer 				= Number(c_prayer) + Number(rs.facilities[eeeee].prayer_room);
												c_community 			= Number(c_community) + Number(rs.facilities[eeeee].community_kitchen);
												c_wash 					= Number(c_wash) + Number(rs.facilities[eeeee].wash);
												c_ramps 				= Number(c_ramps) + Number(rs.facilities[eeeee].ramps);
												c_help 					= Number(c_help) + Number(rs.facilities[eeeee].help_desk);
												c_capacity 				= Number(c_capacity) + Number(rs.facilities[eeeee].capacity);
												c_rooms 				= Number(c_rooms) + Number(rs.facilities[eeeee].no_of_rooms);
											}

										}

										var m_all_brgy_in_ec = 0;

										for(var h in rs.brgy_unique_ec){

											if(rs.brgy_unique_ec[h].municipality_id == rs.city[mm].id){
												m_all_brgy_in_ec += 1;
											}

											

										}

										$("#tbl_masterquery_revss tbody").append(
											"<tr class='contextmenu_click contextmenu_click."+rs.city[mm].id+"'>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mb_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mt4ps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_all_brgy_in_ec+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcttotdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttctotdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcpartdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cother_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstlgu)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstngo)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstogo)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(ctasst)+"</td>"+
											"</tr>"
										)

										$('#tbl_sex_age_distribution_list tbody').append(
											"<tr>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
											"</tr>"
										)

										$('#tbl_evauation_facility_list tbody').append(
											"<tr>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
											"</tr>"
										)

										ec_cum = 0;
										ec_now = 0;
										brgynum = 0;

										var b0_2;
										var b0_3 = 0;

										var ofam_cum = 0;
										var ofam_now = 0;
										var oper_cum = 0;
										var oper_now = 0;

										var ifam_cum = 0;
										var ifam_now = 0;
										var iper_cum = 0;
										var iper_now = 0;

										var i4ps = 0;

										var tfam_cum = 0;
										var tper_cum = 0;
										var tfam_now = 0
										var tper_now = 0

										var tec_cum = 0;
										var tec_now = 0;

										for(var k in rs.brgys){

											if(rs.city[mm].id == rs.brgys[k].municipality_id){

												for(var h in rs.brgy){
													if(rs.brgy[h].id == rs.brgys[k].brgy_located_ec){
														var bb = rs.brgy[h].brgy_name;
														break;
													}else{
														var bb = null;
													}
												}

												for(var gg in rs.query_outec){

													if(rs.query_outec[gg].brgy_host == rs.brgys[k].brgy_located_ec){

														ofam_cum += Number(rs.query_outec[gg].family_cum);
														ofam_now += Number(rs.query_outec[gg].family_now);

														oper_cum += Number(rs.query_outec[gg].person_cum);
														oper_now += Number(rs.query_outec[gg].person_now);

														tfam_cum += Number(rs.query_outec[gg].family_cum);
														tper_cum += Number(rs.query_outec[gg].person_cum);

														tfam_now += Number(rs.query_outec[gg].family_now);
														tper_now += Number(rs.query_outec[gg].person_now);

													}

												}

												for(var tt in rs.rs){

													if(rs.rs[tt].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														ifam_cum += Number(rs.rs[tt].family_cum);
														ifam_now += Number(rs.rs[tt].family_now);
														iper_cum += Number(rs.rs[tt].person_cum);
														iper_now += Number(rs.rs[tt].person_now);

														tfam_cum += Number(rs.rs[tt].family_cum);
														tper_cum += Number(rs.rs[tt].person_cum);

														tfam_now += Number(rs.rs[tt].family_now);
														tper_now += Number(rs.rs[tt].person_now);

														i4ps += Number(rs.rs[tt].fourps);

														b0_2 = rs.rs[tt].brgy_located;

														b0_2 = b0_2.split(",");

														for(var j in b0_2){
															b0_3 += 1;
														}

													}

												}

												for(var ww in rs.queryecs){

													if(rs.queryecs[ww].brgy_located_ec == rs.brgys[k].brgy_located_ec){
														tec_cum += Number(rs.queryecs[ww].ec_cum);
														tec_now += Number(rs.queryecs[ww].ec_now);
													}

												}


												var b_infant_male_cum 		= 0;
												var b_infant_male_now 		= 0;
												var b_infant_female_cum 	= 0;
												var b_infant_female_now 	= 0;

												var b_toddler_male_cum 		= 0;
												var b_toddler_male_now 		= 0;
												var b_toddler_female_cum 	= 0;
												var b_toddler_female_now 	= 0;

												var b_pschool_male_cum 		= 0;
												var b_pschool_male_now 		= 0;
												var b_pschool_female_cum 	= 0;
												var b_pschool_female_now 	= 0;

												var b_schoolage_male_cum 	= 0;
												var b_schoolage_male_now 	= 0;
												var b_schoolage_female_cum 	= 0;
												var b_schoolage_female_now 	= 0;

												var b_teenage_male_cum 		= 0;
												var b_teenage_male_now 		= 0;
												var b_teenage_female_cum 	= 0;
												var b_teenage_female_now 	= 0;

												var b_adult_male_cum 		= 0;
												var b_adult_male_now 		= 0;
												var b_adult_female_cum 		= 0;
												var b_adult_female_now 		= 0;

												var b_senior_male_cum 		= 0;
												var b_senior_male_now 		= 0;
												var b_senior_female_cum 	= 0;
												var b_senior_female_now 	= 0;

												var b_pwd_male_cum 			= 0;
												var b_pwd_male_now 			= 0;
												var b_pwd_female_cum 		= 0;
												var b_pwd_female_now 		= 0;

												var b_pregnant_cum 			= 0;
												var b_pregnant_now 			= 0;

												var b_lactating_cum 		= 0;
												var b_lactating_now 		= 0;

												var b_solo_cum 				= 0;
												var b_solo_now 				= 0

												var b_ip_cum 				= 0;
												var b_ip_now 				= 0;

												var b_male_cum 				= 0; 
												var b_male_now 				= 0;
												var b_female_cum 			= 0;
												var b_female_now 			= 0; 

												var b_t_cum 				= 0;
												var b_t_now 				= 0;


												var e_compost = 0;
												var e_sealed = 0;

												var e_portalet_male = 0;
												var e_portalet_female = 0;
												var e_portalet_common = 0;

												var e_bathing_male = 0;
												var e_bathing_female = 0;
												var e_bathing_common = 0;

												var e_child = 0;
												var e_women = 0;
												var e_couple = 0;
												var e_prayer = 0;
												var e_community = 0;
												var e_wash = 0;
												var e_ramps = 0;
												var e_help = 0;
												var e_capacity = 0;
												var e_rooms = 0;

												for(var uuu in rs.sex){

													if(rs.sex[uuu].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														b_infant_male_cum 		= Number(b_infant_male_cum) + Number(rs.sex[uuu].infant_male_cum); 
														b_infant_male_now 		= Number(b_infant_male_now) + Number(rs.sex[uuu].infant_male_now); 
														b_infant_female_cum 	= Number(b_infant_female_cum) + Number(rs.sex[uuu].infant_female_cum); 
														b_infant_female_now 	= Number(b_infant_female_now) + Number(rs.sex[uuu].infant_female_now);

														b_toddler_male_cum 		= Number(b_toddler_male_cum) + Number(rs.sex[uuu].toddler_male_cum);
														b_toddler_male_now 		= Number(b_toddler_male_now) + Number(rs.sex[uuu].toddler_male_now);
														b_toddler_female_cum 	= Number(b_toddler_female_cum) + Number(rs.sex[uuu].toddler_female_cum);
														b_toddler_female_now 	= Number(b_toddler_female_now) + Number(rs.sex[uuu].toddler_female_now);

														b_pschool_male_cum 		= Number(b_pschool_male_cum) + Number(rs.sex[uuu].preschooler_male_cum);
														b_pschool_male_now 		= Number(b_pschool_male_now) + Number(rs.sex[uuu].preschooler_male_now);
														b_pschool_female_cum 	= Number(b_pschool_female_cum) + Number(rs.sex[uuu].preschooler_female_cum);
														b_pschool_female_now 	= Number(b_pschool_female_now) + Number(rs.sex[uuu].preschooler_female_now);

														b_schoolage_male_cum 	= Number(b_schoolage_male_cum) + Number(rs.sex[uuu].schoolage_male_cum);
														b_schoolage_male_now 	= Number(b_schoolage_male_now) + Number(rs.sex[uuu].schoolage_male_now);
														b_schoolage_female_cum 	= Number(b_schoolage_female_cum) + Number(rs.sex[uuu].schoolage_female_cum);
														b_schoolage_female_now 	= Number(b_schoolage_female_now) + Number(rs.sex[uuu].schoolage_female_now);

														b_teenage_male_cum 		= Number(b_teenage_male_cum) + Number(rs.sex[uuu].teenage_male_cum);
														b_teenage_male_now 		= Number(b_teenage_male_now) + Number(rs.sex[uuu].teenage_male_now);
														b_teenage_female_cum 	= Number(b_teenage_female_cum) + Number(rs.sex[uuu].teenage_female_cum);
														b_teenage_female_now 	= Number(b_teenage_female_now) + Number(rs.sex[uuu].teenage_female_now);

														b_adult_male_cum 		= Number(b_adult_male_cum) + Number(rs.sex[uuu].adult_male_cum);
														b_adult_male_now 		= Number(b_adult_male_now) + Number(rs.sex[uuu].adult_male_now);
														b_adult_female_cum 		= Number(b_adult_female_cum) + Number(rs.sex[uuu].adult_female_cum);
														b_adult_female_now 		= Number(b_adult_female_now) + Number(rs.sex[uuu].adult_female_now);

														b_senior_male_cum 		= Number(b_senior_male_cum) + Number(rs.sex[uuu].senior_male_cum);
														b_senior_male_now 		= Number(b_senior_male_now) + Number(rs.sex[uuu].senior_male_now);
														b_senior_female_cum 	= Number(b_senior_female_cum) + Number(rs.sex[uuu].senior_female_cum);
														b_senior_female_now 	= Number(b_senior_female_now) + Number(rs.sex[uuu].senior_female_now);

														b_male_cum 		= Number(b_infant_male_cum) + Number(b_toddler_male_cum) + Number(b_pschool_male_cum) + Number(b_schoolage_male_cum) + Number(b_teenage_male_cum) + Number(b_adult_male_cum) + Number(b_senior_male_cum);
														b_male_now 		= Number(b_infant_male_now) + Number(b_toddler_male_now) + Number(b_pschool_male_now) + Number(b_schoolage_male_now) + Number(b_teenage_male_now) + Number(b_adult_male_now) + Number(b_senior_male_now);
														b_female_cum 	= Number(b_infant_female_cum) + Number(b_toddler_female_cum) + Number(b_pschool_female_cum) + Number(b_schoolage_female_cum) + Number(b_teenage_female_cum) + Number(b_adult_female_cum) + Number(b_senior_female_cum);
														b_female_now 	= Number(b_infant_female_now) + Number(b_toddler_female_now) + Number(b_pschool_female_now) + Number(b_schoolage_female_now) + Number(b_teenage_female_now) + Number(b_adult_female_now) + Number(b_senior_female_now);


														b_pregnant_cum 		= Number(b_pregnant_cum) + Number(rs.sex[uuu].pregnant_cum);
														b_pregnant_now 		= Number(b_pregnant_now) + Number(rs.sex[uuu].pregnant_now);

														b_lactating_cum 	= Number(b_lactating_cum) + Number(rs.sex[uuu].lactating_cum);
														b_lactating_now 	= Number(b_lactating_now) + Number(rs.sex[uuu].lactating_now);

														b_pwd_male_cum 		= Number(b_pwd_male_cum) + Number(rs.sex[uuu].disable_male_cum);
														b_pwd_male_now 		= Number(b_pwd_male_now) + Number(rs.sex[uuu].disable_male_now);
														b_pwd_female_cum 	= Number(b_pwd_female_cum) + Number(rs.sex[uuu].disable_female_cum);
														b_pwd_female_now 	= Number(b_pwd_female_now) + Number(rs.sex[uuu].disable_female_now);

														b_solo_cum 			= Number(b_solo_cum) + Number(rs.sex[uuu].solo_cum);
														b_solo_now 			= Number(b_solo_now) + Number(rs.sex[uuu].solo_now);

														b_ip_cum 			= Number(b_ip_cum) + Number(rs.sex[uuu].ip_cum);
														b_ip_now 			= Number(b_ip_now) + Number(rs.sex[uuu].ip_now);

														b_t_cum 			+= Number(rs.sex[uuu].infant_male_cum) + Number(rs.sex[uuu].infant_female_cum) + Number(rs.sex[uuu].toddler_male_cum) + Number(rs.sex[uuu].toddler_female_cum) + 
														Number(rs.sex[uuu].preschooler_male_cum) + Number(rs.sex[uuu].preschooler_female_cum) + Number(rs.sex[uuu].schoolage_male_cum) + Number(rs.sex[uuu].schoolage_female_cum) + 
														Number(rs.sex[uuu].teenage_male_cum) + Number(rs.sex[uuu].teenage_female_cum) + Number(rs.sex[uuu].adult_male_cum) + Number(rs.sex[uuu].adult_female_cum) +
														Number(rs.sex[uuu].senior_male_cum) + Number(rs.sex[uuu].senior_female_cum) + Number(rs.sex[uuu].pregnant_cum) + Number(rs.sex[uuu].lactating_cum) + 
														Number(rs.sex[uuu].disable_male_cum) + Number(rs.sex[uuu].disable_female_cum) + Number(rs.sex[uuu].solo_cum) + Number(rs.sex[uuu].ip_cum);

														b_t_now 			+= Number(rs.sex[uuu].infant_male_now) + Number(rs.sex[uuu].infant_female_now) + Number(rs.sex[uuu].toddler_male_now) + Number(rs.sex[uuu].toddler_female_now) + 
														Number(rs.sex[uuu].preschooler_male_now) + Number(rs.sex[uuu].preschooler_female_now) + Number(rs.sex[uuu].schoolage_male_now) + Number(rs.sex[uuu].schoolage_female_now) + 
														Number(rs.sex[uuu].teenage_male_now) + Number(rs.sex[uuu].teenage_female_now) + Number(rs.sex[uuu].adult_male_now) + Number(rs.sex[uuu].adult_female_now) +
														Number(rs.sex[uuu].senior_male_now) + Number(rs.sex[uuu].senior_female_now) + Number(rs.sex[uuu].pregnant_now) + Number(rs.sex[uuu].lactating_now) + 
														Number(rs.sex[uuu].disable_male_now) + Number(rs.sex[uuu].disable_female_now) + Number(rs.sex[uuu].solo_now) + Number(rs.sex[uuu].ip_now);

													}

												}

												for(var eeee in rs.facilities){

													if(Number(rs.facilities[eeee].brgy_located_ec) == Number(rs.brgys[k].brgy_located_ec)){

														e_compost 				= Number(e_compost) + Number(rs.facilities[eeee].compost_pit);
														e_sealed 				= Number(e_sealed) + Number(rs.facilities[eeee].sealed);
														e_portalet_male 		= Number(e_portalet_male) + Number(rs.facilities[eeee].portalets_male);
														e_portalet_female 		= Number(e_portalet_female) + Number(rs.facilities[eeee].portalets_female);
														e_portalet_common 		= Number(e_portalet_common) + Number(rs.facilities[eeee].portalets_common);
														e_bathing_male 			= Number(e_bathing_male) + Number(rs.facilities[eeee].bathing_cubicles_male);
														e_bathing_female 		= Number(e_bathing_female) + Number(rs.facilities[eeee].bathing_cubicles_female);
														e_bathing_common 		= Number(e_bathing_common) + Number(rs.facilities[eeee].bathing_cubicles_common);
														e_child 				= Number(e_child) + Number(rs.facilities[eeee].child_space);
														e_women 				= Number(e_women) + Number(rs.facilities[eeee].women_space);
														e_couple 				= Number(e_couple) + Number(rs.facilities[eeee].couple_room);
														e_prayer 				= Number(e_prayer) + Number(rs.facilities[eeee].prayer_room);
														e_community 			= Number(e_community) + Number(rs.facilities[eeee].community_kitchen);
														e_wash 					= Number(e_wash) + Number(rs.facilities[eeee].wash);
														e_ramps 				= Number(e_ramps) + Number(rs.facilities[eeee].ramps);
														e_help 					= Number(e_help) + Number(rs.facilities[eeee].help_desk);
														e_capacity 				= Number(e_capacity) + Number(rs.facilities[eeee].capacity);
														e_rooms 				= Number(e_rooms) + Number(rs.facilities[eeee].no_of_rooms);
													}

												}

												var bpart_damage = 0;
												var btot_damage = 0;
												var bttot_damage = 0;

												for(var ddd in rs.query_damage_per_brgy){

													if(Number(rs.query_damage_per_brgy[ddd].brgy_id) == Number(rs.brgys[k].brgy_located_ec)){

														bpart_damage += Number(rs.query_damage_per_brgy[ddd].partially_damaged);
														btot_damage += Number(rs.query_damage_per_brgy[ddd].totally_damaged);
														bttot_damage += Number(bpart_damage) + Number(btot_damage);

													}

												}

												function toUppercaseEC(item){

													if(item == null || item == ""){
														return '-';
													}else{
														return item.toUpperCase();
													}

												}

												var b_all_brgy_in_ec = 0;

												for(var h in rs.brgy_unique_ec){

													if(rs.brgy_unique_ec[h].brgy_located_ec == rs.brgys[k].brgy_located_ec){
														b_all_brgy_in_ec += 1;
													}

												}

												$("#tbl_masterquery_revss tbody").append(
													"<tr class='contextmenu_brgy contextmenu_brgy."+rs.brgys[k].brgy_located_ec+"' style='cursor: pointer'>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>1</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(i4ps)+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_cum+"</td>"+	
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_all_brgy_in_ec+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bttot_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+btot_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bpart_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"</tr>"
												)

												$('#tbl_sex_age_distribution_list tbody').append(
													"<tr>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
													"</tr>"
												)

												$('#tbl_evauation_facility_list tbody').append(
													"<tr>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
													"</tr>"
												)

												ofam_cum = 0;
												ofam_now = 0;
												oper_cum = 0;
												oper_now = 0;

												ifam_cum = 0;
												ifam_now = 0;
												iper_cum = 0;
												iper_now = 0;

												i4ps = 0;

												b0_3 = 0;

												tfam_cum = 0;
												tper_cum = 0;

												tec_cum = 0;
												tec_now = 0;

												for(var l in rs.rs){

													var bbb0;
													var b0_1 = 0;

													var e_infant_male_cum 		= 0;
													var e_infant_male_now 		= 0;
													var e_infant_female_cum 	= 0;
													var e_infant_female_now 	= 0;

													var e_toddler_male_cum 		= 0;
													var e_toddler_male_now 		= 0;
													var e_toddler_female_cum 	= 0;
													var e_toddler_female_now 	= 0;

													var e_pschool_male_cum 		= 0;
													var e_pschool_male_now 		= 0;
													var e_pschool_female_cum 	= 0;
													var e_pschool_female_now 	= 0;

													var e_schoolage_male_cum 	= 0;
													var e_schoolage_male_now 	= 0;
													var e_schoolage_female_cum 	= 0;
													var e_schoolage_female_now 	= 0;

													var e_teenage_male_cum 		= 0;
													var e_teenage_male_now 		= 0;
													var e_teenage_female_cum 	= 0;
													var e_teenage_female_now 	= 0;

													var e_adult_male_cum 		= 0;
													var e_adult_male_now 		= 0;
													var e_adult_female_cum 		= 0;
													var e_adult_female_now 		= 0;

													var e_senior_male_cum 		= 0;
													var e_senior_male_now 		= 0;
													var e_senior_female_cum 	= 0;
													var e_senior_female_now 	= 0;

													var e_pwd_male_cum 			= 0;
													var e_pwd_male_now 			= 0;
													var e_pwd_female_cum 		= 0;
													var e_pwd_female_now 		= 0;

													var e_pregnant_cum 			= 0;
													var e_pregnant_now 			= 0;

													var e_lactating_cum 			= 0;
													var e_lactating_now 			= 0;

													var e_solo_cum 				= 0;
													var e_solo_now 				= 0

													var e_ip_cum 				= 0;
													var e_ip_now 				= 0;

													var e_male_cum = 0; 
													var e_male_now = 0;
													var e_female_cum = 0;
													var e_female_now = 0; 

													var e_t_cum = 0;
													var e_t_now = 0;
													
													var e_compost = 0;
													var e_sealed = 0;

													var e_portalet_male = 0;
													var e_portalet_female = 0;
													var e_portalet_common = 0;

													var e_bathing_male = 0;
													var e_bathing_female = 0;
													var e_bathing_common = 0;

													var e_child = 0;
													var e_women = 0;
													var e_couple = 0;
													var e_prayer = 0;
													var e_community = 0;
													var e_wash = 0;
													var e_ramps = 0;
													var e_help = 0;
													var e_capacity = 0;
													var e_rooms = 0;


													if(l == 0){

														if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

															for(var e in rs.brgy){
																if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																	var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
																}
															}

															b0 = rs.rs[l].brgy_located;

															b0 = b0.split(",");

															for(var j in b0){
																if(j == 0){
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																		}
																	}
																}else{
																	for(var e2 in rs.brgy){
																		if(Number(rs.brgy[e2].id) == Number(b0[j])){
																			bbb0 = bbb0 + ", <br>" + "Brgy. " + rs.brgy[e2].brgy_name;
																		}
																	}
																}

															brgy_locx.push(b0[j]);

															}

															for(var jj in b0){

																var k0 = 0;

																for(var w in brgy_locx){

																	if(b0[jj] == brgy_locx[w]){
																		k0 += 1;
																	}

																}

																if(k0 <= 1){
																	b0_1 += 1;
																}

															}

															for(var uuu in rs.sex){

																if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																	e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																	e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																	e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																	e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																	e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																	e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																	e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																	e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																	e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																	e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																	e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																	e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																	e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																	e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																	e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																	e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																	e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																	e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																	e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																	e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																	e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																	e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																	e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																	e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																	e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																	e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																	e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																	e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																	e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																	e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																	e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);


																	e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																	e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																	e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																	e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																	e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																	e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																	e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																	e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																	e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																	e_solo_now 			= Number(rs.sex[uuu].solo_now);

																	e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																	e_ip_now 			= Number(rs.sex[uuu].ip_now);

																	e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																	e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

																}

															}

															for(var eee in rs.facilities){

																if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_compost 				= rs.facilities[eee].compost_pit;
																	e_sealed 				= rs.facilities[eee].sealed;
																	e_portalet_male 		= rs.facilities[eee].portalets_male;
																	e_portalet_female 		= rs.facilities[eee].portalets_female;
																	e_portalet_common 		= rs.facilities[eee].portalets_common;
																	e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																	e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																	e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																	e_child 				= rs.facilities[eee].child_space;
																	e_women 				= rs.facilities[eee].women_space;
																	e_couple 				= rs.facilities[eee].couple_room;
																	e_prayer 				= rs.facilities[eee].prayer_room;
																	e_community 			= rs.facilities[eee].community_kitchen;
																	e_wash 					= rs.facilities[eee].wash;
																	e_ramps 				= rs.facilities[eee].ramps;
																	e_help 					= rs.facilities[eee].help_desk;
																	e_capacity 				= rs.facilities[eee].capacity;
																	e_rooms 				= rs.facilities[eee].no_of_rooms;
																}

															}

															$("#tbl_masterquery_revss tbody").append(
																"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																	"<td style='border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"</tr>"
															)
															
															$('#tbl_sex_age_distribution_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																"</tr>"
															)

															$('#tbl_evauation_facility_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																"</tr>"
															)

														}

														b0_1 = 0;
														bbb0 = "";

													}else{

														var bbb0;
														var b0_1 = 0;

														if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

															if(rs.rs[l].evacuation_name == rs.rs[l-1].evacuation_name){

																var b0 = rs.rs[l].brgy_located;

																b0 = b0.split(",");

																for(var j in b0){

																	if(j == 0){
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = "Brgy." + rs.brgy[e1].brgy_name;
																			}
																		}
																	}else{
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = bbb0+ ",<br>" + "Brgy." +rs.brgy[e1].brgy_name;
																			}
																		}
																	}

																	brgy_locx.push(b0[j]);

																}

																for(var jj in b0){

																	var k0 = 0;

																	for(var w in brgy_locx){

																		if(b0[jj] == brgy_locx[w]){
																			k0 += 1;
																		}

																	}

																	if(k0 <= 1){
																		b0_1 += 1;
																	}

																}

																$("#tbl_masterquery_revss tbody").append(
																	"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																		"<td style='border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"</tr>"
																)

															b0_1 = 0;
															bbb0 = "";

															}else{

																var bbb0;
																var b0_1 = 0;

																var ofam_cum = 0;
																var ofam_now = 0;

																for(var e in rs.brgy){
																	if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																		var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
																	}
																}

																var b0 = rs.rs[l].brgy_located;

																b0 = b0.split(",");

																for(var j in b0){
																	if(j == 0){
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																			}
																		}
																	}else{
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = bbb0+",<br>" + "Brgy. " +rs.brgy[e1].brgy_name;
																			}
																		}
																	}

																	brgy_locx.push(b0[j]);

																}

																for(var jj in b0){

																	var k0 = 0;

																	for(var w in brgy_locx){

																		if(b0[jj] == brgy_locx[w]){
																			k0 += 1;
																		}

																	}

																	if(k0 <= 1){
																		b0_1 += 1;
																	}

																}

																for(var uuu in rs.sex){

																	if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																		e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																		e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																		e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																		e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																		e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																		e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																		e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																		e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																		e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																		e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																		e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																		e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																		e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																		e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																		e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																		e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																		e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																		e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																		e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																		e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																		e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																		e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																		e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																		e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																		e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																		e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																		e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																		e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																		e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																		e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																		e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																		e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);

																		e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																		e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																		e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																		e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																		e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																		e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																		e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																		e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																		e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																		e_solo_now 			= Number(rs.sex[uuu].solo_now);

																		e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																		e_ip_now 			= Number(rs.sex[uuu].ip_now);

																		e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																		e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

																	}

																}

																for(var eee in rs.facilities){

																	if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																		e_compost 				= rs.facilities[eee].compost_pit;
																		e_sealed 				= rs.facilities[eee].sealed;
																		e_portalet_male 		= rs.facilities[eee].portalets_male;
																		e_portalet_female 		= rs.facilities[eee].portalets_female;
																		e_portalet_common 		= rs.facilities[eee].portalets_common;
																		e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																		e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																		e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																		e_child 				= rs.facilities[eee].child_space;
																		e_women 				= rs.facilities[eee].women_space;
																		e_couple 				= rs.facilities[eee].couple_room;
																		e_prayer 				= rs.facilities[eee].prayer_room;
																		e_community 			= rs.facilities[eee].community_kitchen;
																		e_wash 					= rs.facilities[eee].wash;
																		e_ramps 				= rs.facilities[eee].ramps;
																		e_help 					= rs.facilities[eee].help_desk;
																		e_capacity 				= rs.facilities[eee].capacity;
																		e_rooms 				= rs.facilities[eee].no_of_rooms;
																	}

																}


																$("#tbl_masterquery_revss tbody").append(
																	"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																		"<td style='border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"</tr>"
																)

																$('#tbl_sex_age_distribution_list tbody').append(
																	"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																	"</tr>"
																)

																$('#tbl_evauation_facility_list tbody').append(
																	"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																	"</tr>"
																)

																b0_1 = 0;
																bbb0 = "";
															
															}

														}

													}

												}

											}

										}

									}
		                        //==========================
			                    }
			                }else{
			                	//==========================
									var mtfam_cum 		= 0;
									var mtper_cum 		= 0;
									var mt4ps 			= 0;
									var mtec_cum 		= 0;
									var mtec_now 		= 0;

									var mtifam_cum 		= 0;
									var mtifam_now 		= 0;
									var mtiper_cum 		= 0;
									var mtiper_now 		= 0;

									var mtofam_cum 		= 0;
									var mtofam_now 		= 0;
									var mtoper_cum 		= 0;
									var mtoper_now 		= 0;

									var mb_cum 			= 0;

									var bb0_2;
									var bb0_3 = 0;

									var ttcfam_cum = 0;
									var ttcfam_now = 0;
									var ttcper_cum = 0;
									var ttcper_now = 0;

									var ttctotdamage = 0;
									var ttcpartdamage = 0;
									var ttcttotdamage = 0;

									var casstlgu = 0;
									var casstngo = 0;
									var casstogo = 0;
									var cdswdasst = 0;

									var ctasst = 0;

									var cffp_q = 0;
									var cffp_cost = 0;
									var cheb_q = 0;
									var cheb_cost = 0;
									var crtef_q = 0;
									var crtef_cost = 0;
									var cshelter_q = 0;
									var cshelter_cost = 0;
									var chygiene_q = 0;
									var chygiene_cost = 0;
									var chygiene_q = 0;
									var chygiene_cost = 0;
									var csleeping_q = 0;
									var csleeping_cost = 0;
									var ckitchen_q = 0;
									var ckitchen_cost = 0;
									var cfamily_q = 0;
									var cfamily_cost = 0;
									var cpotable_q = 0;
									var cpotable_cost = 0;
									var cother_cost = 0;

									var c_infant_male_cum 		= 0;
									var c_infant_male_now 		= 0;
									var c_infant_female_cum 	= 0;
									var c_infant_female_now 	= 0;

									var c_toddler_male_cum 		= 0;
									var c_toddler_male_now 		= 0;
									var c_toddler_female_cum 	= 0;
									var c_toddler_female_now 	= 0;

									var c_pschool_male_cum 		= 0;
									var c_pschool_male_now 		= 0;
									var c_pschool_female_cum 	= 0;
									var c_pschool_female_now 	= 0;

									var c_schoolage_male_cum 	= 0;
									var c_schoolage_male_now 	= 0;
									var c_schoolage_female_cum 	= 0;
									var c_schoolage_female_now 	= 0;

									var c_teenage_male_cum 		= 0;
									var c_teenage_male_now 		= 0;
									var c_teenage_female_cum 	= 0;
									var c_teenage_female_now 	= 0;

									var c_adult_male_cum 		= 0;
									var c_adult_male_now 		= 0;
									var c_adult_female_cum 		= 0;
									var c_adult_female_now 		= 0;

									var c_senior_male_cum 		= 0;
									var c_senior_male_now 		= 0;
									var c_senior_female_cum 	= 0;
									var c_senior_female_now 	= 0;

									var c_pwd_male_cum 			= 0;
									var c_pwd_male_now 			= 0;
									var c_pwd_female_cum 		= 0;
									var c_pwd_female_now 		= 0;

									var c_pregnant_cum 			= 0;
									var c_pregnant_now 			= 0;

									var c_latating_cum 			= 0;
									var c_latating_now 			= 0;

									var c_solo_cum 				= 0;
									var c_solo_now 				= 0

									var c_ips_cum 				= 0;
									var c_ips_now 				= 0;

									var citf 					= 0;
									var citp 					= 0;
									var citb 					= 0;

									var ctf 					= 0;
									var ctp 					= 0;
									var cpb  					= 0;

									if(rs.city[mm].provinceid == provinces[p].id){

										for(var ttt in rs.rs){

											if(Number(rs.rs[ttt].municipality_id) == Number(rs.city[mm].id)){

												ctf += Number(rs.rs[ttt].family_cum);
												ctp += Number(rs.rs[ttt].person_cum);

												mt4ps += Number(rs.rs[ttt].fourps);

												mtifam_cum += Number(rs.rs[ttt].family_cum);
												mtifam_now += Number(rs.rs[ttt].family_now);
												mtiper_cum += Number(rs.rs[ttt].person_cum);
												mtiper_now += Number(rs.rs[ttt].person_now);

												ttcfam_cum += Number(rs.rs[ttt].family_cum);
												ttcfam_now += Number(rs.rs[ttt].family_now);
												ttcper_cum += Number(rs.rs[ttt].person_cum);
												ttcper_now += Number(rs.rs[ttt].person_now);


												bb0_2 = rs.rs[ttt].brgy_located;

												bb0_2 = bb0_2.split(",");

												for(var j in bb0_2){
													bb0_3 += 1;
												}
											}

										}

										for(var ggg in rs.query_outec){

											if(rs.query_outec[ggg].municipality_id == rs.city[mm].id){

												ctf += Number(rs.query_outec[ggg].family_cum);
												ctp += Number(rs.rs[ttt].person_cum);

												mtofam_cum += Number(rs.query_outec[ggg].family_cum);
												mtofam_now += Number(rs.query_outec[ggg].family_now);
												mtoper_cum += Number(rs.query_outec[ggg].person_cum);
												mtoper_now += Number(rs.query_outec[ggg].person_now);

												ttcfam_cum += Number(rs.query_outec[ggg].family_cum);
												ttcfam_now += Number(rs.query_outec[ggg].family_now);
												ttcper_cum += Number(rs.query_outec[ggg].person_cum);
												ttcper_now += Number(rs.query_outec[ggg].person_now);

											}

										}

										for(var qqq in rs.brgys){

											if(rs.brgys[qqq].municipality_id == rs.city[mm].id){
												cpb += 1;
											}

										}

										for(var qx in rs.all_affected){
											if(rs.all_affected[qx].municipality_id == rs.city[mm].id){
												citf = rs.all_affected[qx].fam_no;
												citp = rs.all_affected[qx].person_no;
												citb = rs.all_affected[qx].brgy_affected;
											}
										}

										mtfam_cum += (Number(ctf) > Number(citf) ? ctf : citf);
										mtper_cum += (Number(ctp) > Number(citp) ? ctp : citp);

										mb_cum += (Number(cpb) > Number(citb) ? cpb : citb);

										for(var www in rs.queryecs){

											if(rs.queryecs[www].municipality_id == rs.city[mm].id){
												mtec_cum += Number(rs.queryecs[www].ec_cum);
												mtec_now += Number(rs.queryecs[www].ec_now);
											}
			 
										}


										for(var qqqq in rs.brgys){
											if(rs.brgys[qqqq].municipality_id == rs.city[gx].id){
												pb += 1;
											}
										}

										pb_cum += (Number(pb) > Number(itb) ? pb : itb);

										for(var ooo in rs.query_asst){

											if(rs.query_asst[ooo].municipality_id == rs.city[mm].id){

												ttctotdamage += Number(rs.query_asst[ooo].totally_damaged);
												ttcpartdamage += Number(rs.query_asst[ooo].partially_damaged);
												ttcttotdamage += Number(rs.query_asst[ooo].totally_damaged) + Number(rs.query_asst[ooo].partially_damaged);

												casstlgu += Number(rs.query_asst[ooo].lgu_asst);
												casstngo += Number(rs.query_asst[ooo].ngo_asst);
												casstogo += Number(rs.query_asst[ooo].ogo_asst);
												cdswdasst += Number(rs.query_asst[ooo].dswd_asst);

												ctasst += Number(rs.query_asst[ooo].lgu_asst) + Number(rs.query_asst[ooo].ngo_asst) + Number(rs.query_asst[ooo].ogo_asst) + Number(rs.query_asst[ooo].dswd_asst);

											}

										}

										for(var ppp in rs.query_fnfis){

											if(rs.query_fnfis[ppp].municipality_id == rs.city[mm].id){

												if(rs.query_fnfis[ppp].fnfitype == 'ffp'){

													cffp_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cffp_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'heb'){

													cheb_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cheb_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'rtef'){

													crtef_q 		+= Number(rs.query_fnfis[ppp].quantity);
													crtef_cost 		+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'shelter'){

													cshelter_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cshelter_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'hygiene'){

													chygiene_q 		+= Number(rs.query_fnfis[ppp].quantity);
													chygiene_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'sleeping'){

													csleeping_q 	+= Number(rs.query_fnfis[ppp].quantity);
													csleeping_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'kitchen'){

													ckitchen_q 		+= Number(rs.query_fnfis[ppp].quantity);
													ckitchen_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'family'){

													cfamily_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cfamily_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'potable'){

													cpotable_q 		+= Number(rs.query_fnfis[ppp].quantity);
													cpotable_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

												if(rs.query_fnfis[ppp].fnfitype == 'other'){

													cother_cost 	+= Number(rs.query_fnfis[ppp].quantity) * Number(rs.query_fnfis[ppp].cost); 

												}

											}

										}

										var m_infant_male_cum 		= 0;
										var m_infant_male_now 		= 0;
										var m_infant_female_cum 	= 0;
										var m_infant_female_now 	= 0;

										var m_toddler_male_cum 		= 0;
										var m_toddler_male_now 		= 0;
										var m_toddler_female_cum 	= 0;
										var m_toddler_female_now 	= 0;

										var m_pschool_male_cum 		= 0;
										var m_pschool_male_now 		= 0;
										var m_pschool_female_cum 	= 0;
										var m_pschool_female_now 	= 0;

										var m_schoolage_male_cum 	= 0;
										var m_schoolage_male_now 	= 0;
										var m_schoolage_female_cum 	= 0;
										var m_schoolage_female_now 	= 0;

										var m_teenage_male_cum 		= 0;
										var m_teenage_male_now 		= 0;
										var m_teenage_female_cum 	= 0;
										var m_teenage_female_now 	= 0;

										var m_adult_male_cum 		= 0;
										var m_adult_male_now 		= 0;
										var m_adult_female_cum 		= 0;
										var m_adult_female_now 		= 0;

										var m_senior_male_cum 		= 0;
										var m_senior_male_now 		= 0;
										var m_senior_female_cum 	= 0;
										var m_senior_female_now 	= 0;

										var m_pwd_male_cum 			= 0;
										var m_pwd_male_now 			= 0;
										var m_pwd_female_cum 		= 0;
										var m_pwd_female_now 		= 0;

										var m_pregnant_cum 			= 0;
										var m_pregnant_now 			= 0;

										var m_lactating_cum 		= 0;
										var m_lactating_now 		= 0;

										var m_solo_cum 				= 0;
										var m_solo_now 				= 0

										var m_ip_cum 				= 0;
										var m_ip_now 				= 0;

										var m_male_cum 				= 0; 
										var m_male_now 				= 0;
										var m_female_cum 			= 0;
										var m_female_now 			= 0; 

										var m_t_cum 				= 0;
										var m_t_now 				= 0;

										var c_compost 				= 0;
										var c_sealed 				= 0;

										var c_portalet_male 		= 0;
										var c_portalet_female 		= 0;
										var c_portalet_common 		= 0;

										var c_bathing_male 			= 0;
										var c_bathing_female 		= 0;
										var c_bathing_common 		= 0;

										var c_child 				= 0;
										var c_women 				= 0;
										var c_couple 				= 0;
										var c_prayer 				= 0;
										var c_community 			= 0;
										var c_wash 					= 0;
										var c_ramps 				= 0;
										var c_help 					= 0;
										var c_capacity 				= 0;
										var c_rooms 				= 0;



										for(var uuuu in rs.sex){

											if(rs.sex[uuuu].municipality_id == rs.city[mm].id){

												m_infant_male_cum 		= Number(m_infant_male_cum) + Number(rs.sex[uuuu].infant_male_cum); 
												m_infant_male_now 		= Number(m_infant_male_now) + Number(rs.sex[uuuu].infant_male_now); 
												m_infant_female_cum 	= Number(m_infant_female_cum) + Number(rs.sex[uuuu].infant_female_cum); 
												m_infant_female_now 	= Number(m_infant_female_now) + Number(rs.sex[uuuu].infant_female_now);

												m_toddler_male_cum 		= Number(m_toddler_male_cum) + Number(rs.sex[uuuu].toddler_male_cum);
												m_toddler_male_now 		= Number(m_toddler_male_now) + Number(rs.sex[uuuu].toddler_male_now);
												m_toddler_female_cum 	= Number(m_toddler_female_cum) + Number(rs.sex[uuuu].toddler_female_cum);
												m_toddler_female_now 	= Number(m_toddler_female_now) + Number(rs.sex[uuuu].toddler_female_now);

												m_pschool_male_cum 		= Number(m_pschool_male_cum) + Number(rs.sex[uuuu].preschooler_male_cum);
												m_pschool_male_now 		= Number(m_pschool_male_now) + Number(rs.sex[uuuu].preschooler_male_now);
												m_pschool_female_cum 	= Number(m_pschool_female_cum) + Number(rs.sex[uuuu].preschooler_female_cum);
												m_pschool_female_now 	= Number(m_pschool_female_now) + Number(rs.sex[uuuu].preschooler_female_now);

												m_schoolage_male_cum 	= Number(m_schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_male_cum);
												m_schoolage_male_now 	= Number(m_schoolage_male_now) + Number(rs.sex[uuuu].schoolage_male_now);
												m_schoolage_female_cum 	= Number(m_schoolage_female_cum) + Number(rs.sex[uuuu].schoolage_female_cum);
												m_schoolage_female_now 	= Number(m_schoolage_female_now) + Number(rs.sex[uuuu].schoolage_female_now);

												m_teenage_male_cum 		= Number(m_teenage_male_cum) + Number(rs.sex[uuuu].teenage_male_cum);
												m_teenage_male_now 		= Number(m_teenage_male_now) + Number(rs.sex[uuuu].teenage_male_now);
												m_teenage_female_cum 	= Number(m_teenage_female_cum) + Number(rs.sex[uuuu].teenage_female_cum);
												m_teenage_female_now 	= Number(m_teenage_female_now) + Number(rs.sex[uuuu].teenage_female_now);

												m_adult_male_cum 		= Number(m_adult_male_cum) + Number(rs.sex[uuuu].adult_male_cum);
												m_adult_male_now 		= Number(m_adult_male_now) + Number(rs.sex[uuuu].adult_male_now);
												m_adult_female_cum 		= Number(m_adult_female_cum) + Number(rs.sex[uuuu].adult_female_cum);
												m_adult_female_now 		= Number(m_adult_female_now) + Number(rs.sex[uuuu].adult_female_now);

												m_senior_male_cum 		= Number(m_senior_male_cum) + Number(rs.sex[uuuu].senior_male_cum);
												m_senior_male_now 		= Number(m_senior_male_now) + Number(rs.sex[uuuu].senior_male_now);
												m_senior_female_cum 	= Number(m_senior_female_cum) + Number(rs.sex[uuuu].senior_female_cum);
												m_senior_female_now 	= Number(m_senior_female_now) + Number(rs.sex[uuuu].senior_female_now);

												m_male_cum 		= Number(m_infant_male_cum) + Number(m_toddler_male_cum) + Number(m_pschool_male_cum) + Number(m_schoolage_male_cum) + Number(m_teenage_male_cum) + Number(m_adult_male_cum) + Number(m_senior_male_cum);
												m_male_now 		= Number(m_infant_male_now) + Number(m_toddler_male_now) + Number(m_pschool_male_now) + Number(m_schoolage_male_now) + Number(m_teenage_male_now) + Number(m_adult_male_now) + Number(m_senior_male_now);
												m_female_cum 	= Number(m_infant_female_cum) + Number(m_toddler_female_cum) + Number(m_pschool_female_cum) + Number(m_schoolage_female_cum) + Number(m_teenage_female_cum) + Number(m_adult_female_cum) + Number(m_senior_female_cum);
												m_female_now 	= Number(m_infant_female_now) + Number(m_toddler_female_now) + Number(m_pschool_female_now) + Number(m_schoolage_female_now) + Number(m_teenage_female_now) + Number(m_adult_female_now) + Number(m_senior_female_now);


												m_pregnant_cum 		= Number(m_pregnant_cum) + Number(rs.sex[uuuu].pregnant_cum);
												m_pregnant_now 		= Number(m_pregnant_now) + Number(rs.sex[uuuu].pregnant_now);

												m_lactating_cum 	= Number(m_lactating_cum) + Number(rs.sex[uuuu].lactating_cum);
												m_lactating_now 	= Number(m_lactating_now) + Number(rs.sex[uuuu].lactating_now);

												m_pwd_male_cum 		= Number(m_pwd_male_cum) + Number(rs.sex[uuuu].disable_male_cum);
												m_pwd_male_now 		= Number(m_pwd_male_now) + Number(rs.sex[uuuu].disable_male_now);
												m_pwd_female_cum 	= Number(m_pwd_female_cum) + Number(rs.sex[uuuu].disable_female_cum);
												m_pwd_female_now 	= Number(m_pwd_female_now) + Number(rs.sex[uuuu].disable_female_now);

												m_solo_cum 			= Number(m_solo_cum) + Number(rs.sex[uuuu].solo_cum);
												m_solo_now 			= Number(m_solo_now) + Number(rs.sex[uuuu].solo_now);

												m_ip_cum 			= Number(m_ip_cum) + Number(rs.sex[uuuu].ip_cum);
												m_ip_now 			= Number(m_ip_now) + Number(rs.sex[uuuu].ip_now);

												m_t_cum 			+= Number(rs.sex[uuuu].infant_male_cum) + Number(rs.sex[uuuu].infant_female_cum) + Number(rs.sex[uuuu].toddler_male_cum) + Number(rs.sex[uuuu].toddler_female_cum) + 
												Number(rs.sex[uuuu].preschooler_male_cum) + Number(rs.sex[uuuu].preschooler_female_cum) + Number(rs.sex[uuuu].schoolage_male_cum) + Number(rs.sex[uuuu].schoolage_female_cum) + 
												Number(rs.sex[uuuu].teenage_male_cum) + Number(rs.sex[uuuu].teenage_female_cum) + Number(rs.sex[uuuu].adult_male_cum) + Number(rs.sex[uuuu].adult_female_cum) +
												Number(rs.sex[uuuu].senior_male_cum) + Number(rs.sex[uuuu].senior_female_cum) + Number(rs.sex[uuuu].pregnant_cum) + Number(rs.sex[uuuu].lactating_cum) + 
												Number(rs.sex[uuuu].disable_male_cum) + Number(rs.sex[uuuu].disable_female_cum) + Number(rs.sex[uuuu].solo_cum) + Number(rs.sex[uuuu].ip_cum);

												m_t_now 			+= Number(rs.sex[uuuu].infant_male_now) + Number(rs.sex[uuuu].infant_female_now) + Number(rs.sex[uuuu].toddler_male_now) + Number(rs.sex[uuuu].toddler_female_now) + 
												Number(rs.sex[uuuu].preschooler_male_now) + Number(rs.sex[uuuu].preschooler_female_now) + Number(rs.sex[uuuu].schoolage_male_now) + Number(rs.sex[uuuu].schoolage_female_now) + 
												Number(rs.sex[uuuu].teenage_male_now) + Number(rs.sex[uuuu].teenage_female_now) + Number(rs.sex[uuuu].adult_male_now) + Number(rs.sex[uuuu].adult_female_now) +
												Number(rs.sex[uuuu].senior_male_now) + Number(rs.sex[uuuu].senior_female_now) + Number(rs.sex[uuuu].pregnant_now) + Number(rs.sex[uuuu].lactating_now) + 
												Number(rs.sex[uuuu].disable_male_now) + Number(rs.sex[uuuu].disable_female_now) + Number(rs.sex[uuuu].solo_now) + Number(rs.sex[uuuu].ip_now);

											}

										}

										for(var eeeee in rs.facilities){

											if(rs.facilities[eeeee].municipality_id == rs.city[mm].id){

												c_compost 				= Number(c_compost) + Number(rs.facilities[eeeee].compost_pit);
												c_sealed 				= Number(c_sealed) + Number(rs.facilities[eeeee].sealed);
												c_portalet_male 		= Number(c_portalet_male) + Number(rs.facilities[eeeee].portalets_male);
												c_portalet_female 		= Number(c_portalet_female) + Number(rs.facilities[eeeee].portalets_female);
												c_portalet_common 		= Number(c_portalet_common) + Number(rs.facilities[eeeee].portalets_common);
												c_bathing_male 			= Number(c_bathing_male) + Number(rs.facilities[eeeee].bathing_cubicles_male);
												c_bathing_female 		= Number(c_bathing_female) + Number(rs.facilities[eeeee].bathing_cubicles_female);
												c_bathing_common 		= Number(c_bathing_common) + Number(rs.facilities[eeeee].bathing_cubicles_common);
												c_child 				= Number(c_child) + Number(rs.facilities[eeeee].child_space);
												c_women 				= Number(c_women) + Number(rs.facilities[eeeee].women_space);
												c_couple 				= Number(c_couple) + Number(rs.facilities[eeeee].couple_room);
												c_prayer 				= Number(c_prayer) + Number(rs.facilities[eeeee].prayer_room);
												c_community 			= Number(c_community) + Number(rs.facilities[eeeee].community_kitchen);
												c_wash 					= Number(c_wash) + Number(rs.facilities[eeeee].wash);
												c_ramps 				= Number(c_ramps) + Number(rs.facilities[eeeee].ramps);
												c_help 					= Number(c_help) + Number(rs.facilities[eeeee].help_desk);
												c_capacity 				= Number(c_capacity) + Number(rs.facilities[eeeee].capacity);
												c_rooms 				= Number(c_rooms) + Number(rs.facilities[eeeee].no_of_rooms);
											}

										}

										var m_all_brgy_in_ec = 0;

										for(var h in rs.brgy_unique_ec){

											if(rs.brgy_unique_ec[h].municipality_id == rs.city[mm].id){
												m_all_brgy_in_ec += 1;
											}

											

										}

										$("#tbl_masterquery_revss tbody").append(
											"<tr class='contextmenu_click contextmenu_click."+rs.city[mm].id+"'>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mb_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mt4ps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtec_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_all_brgy_in_ec+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtifam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_t_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtiper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtofam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+mtoper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>0</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcfam_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcper_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcttotdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttctotdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ttcpartdamage.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cffp_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cheb_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+crtef_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cshelter_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+chygiene_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+csleeping_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+ckitchen_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cfamily_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_q.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cpotable_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+cother_cost.toLocaleString()+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstlgu)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstngo)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(casstogo)+"</td>"+
												"<td style='font-weight: bold; text-align:right; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+addCommaMoney(ctasst)+"</td>"+
											"</tr>"
										)

										$('#tbl_sex_age_distribution_list tbody').append(
											"<tr>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_infant_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_toddler_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pschool_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_schoolage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_teenage_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_adult_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_senior_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pregnant_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_lactating_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_male_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_pwd_female_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_solo_now+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_cum+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+m_ip_now+"</td>"+
											"</tr>"
										)

										$('#tbl_evauation_facility_list tbody').append(
											"<tr>"+
												"<td style='border:1px solid #000; color: #000; background-color: #A6A6A6;'><b>"+rs.city[mm].municipality_name.toUpperCase()+"</b></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'></td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_compost+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_sealed+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_portalet_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_male+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_female+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_bathing_common+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_child+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_women+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_couple+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_prayer+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_community+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_wash+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_ramps+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_help+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_capacity+"</td>"+
												"<td style='font-weight: bold; text-align:center; border:1px solid #000; color: #000; background-color: #A6A6A6'>"+c_rooms+"</td>"+
											"</tr>"
										)

										ec_cum = 0;
										ec_now = 0;
										brgynum = 0;

										var b0_2;
										var b0_3 = 0;

										var ofam_cum = 0;
										var ofam_now = 0;
										var oper_cum = 0;
										var oper_now = 0;

										var ifam_cum = 0;
										var ifam_now = 0;
										var iper_cum = 0;
										var iper_now = 0;

										var i4ps = 0;

										var tfam_cum = 0;
										var tper_cum = 0;
										var tfam_now = 0
										var tper_now = 0

										var tec_cum = 0;
										var tec_now = 0;

										for(var k in rs.brgys){

											if(rs.city[mm].id == rs.brgys[k].municipality_id){

												for(var h in rs.brgy){
													if(rs.brgy[h].id == rs.brgys[k].brgy_located_ec){
														var bb = rs.brgy[h].brgy_name;
														break;
													}else{
														var bb = null;
													}
												}

												for(var gg in rs.query_outec){

													if(rs.query_outec[gg].brgy_host == rs.brgys[k].brgy_located_ec){

														ofam_cum += Number(rs.query_outec[gg].family_cum);
														ofam_now += Number(rs.query_outec[gg].family_now);

														oper_cum += Number(rs.query_outec[gg].person_cum);
														oper_now += Number(rs.query_outec[gg].person_now);

														tfam_cum += Number(rs.query_outec[gg].family_cum);
														tper_cum += Number(rs.query_outec[gg].person_cum);

														tfam_now += Number(rs.query_outec[gg].family_now);
														tper_now += Number(rs.query_outec[gg].person_now);

													}

												}

												for(var tt in rs.rs){

													if(rs.rs[tt].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														ifam_cum += Number(rs.rs[tt].family_cum);
														ifam_now += Number(rs.rs[tt].family_now);
														iper_cum += Number(rs.rs[tt].person_cum);
														iper_now += Number(rs.rs[tt].person_now);

														tfam_cum += Number(rs.rs[tt].family_cum);
														tper_cum += Number(rs.rs[tt].person_cum);

														tfam_now += Number(rs.rs[tt].family_now);
														tper_now += Number(rs.rs[tt].person_now);

														i4ps += Number(rs.rs[tt].fourps);

														b0_2 = rs.rs[tt].brgy_located;

														b0_2 = b0_2.split(",");

														for(var j in b0_2){
															b0_3 += 1;
														}

													}

												}

												for(var ww in rs.queryecs){

													if(rs.queryecs[ww].brgy_located_ec == rs.brgys[k].brgy_located_ec){
														tec_cum += Number(rs.queryecs[ww].ec_cum);
														tec_now += Number(rs.queryecs[ww].ec_now);
													}

												}


												var b_infant_male_cum 		= 0;
												var b_infant_male_now 		= 0;
												var b_infant_female_cum 	= 0;
												var b_infant_female_now 	= 0;

												var b_toddler_male_cum 		= 0;
												var b_toddler_male_now 		= 0;
												var b_toddler_female_cum 	= 0;
												var b_toddler_female_now 	= 0;

												var b_pschool_male_cum 		= 0;
												var b_pschool_male_now 		= 0;
												var b_pschool_female_cum 	= 0;
												var b_pschool_female_now 	= 0;

												var b_schoolage_male_cum 	= 0;
												var b_schoolage_male_now 	= 0;
												var b_schoolage_female_cum 	= 0;
												var b_schoolage_female_now 	= 0;

												var b_teenage_male_cum 		= 0;
												var b_teenage_male_now 		= 0;
												var b_teenage_female_cum 	= 0;
												var b_teenage_female_now 	= 0;

												var b_adult_male_cum 		= 0;
												var b_adult_male_now 		= 0;
												var b_adult_female_cum 		= 0;
												var b_adult_female_now 		= 0;

												var b_senior_male_cum 		= 0;
												var b_senior_male_now 		= 0;
												var b_senior_female_cum 	= 0;
												var b_senior_female_now 	= 0;

												var b_pwd_male_cum 			= 0;
												var b_pwd_male_now 			= 0;
												var b_pwd_female_cum 		= 0;
												var b_pwd_female_now 		= 0;

												var b_pregnant_cum 			= 0;
												var b_pregnant_now 			= 0;

												var b_lactating_cum 		= 0;
												var b_lactating_now 		= 0;

												var b_solo_cum 				= 0;
												var b_solo_now 				= 0

												var b_ip_cum 				= 0;
												var b_ip_now 				= 0;

												var b_male_cum 				= 0; 
												var b_male_now 				= 0;
												var b_female_cum 			= 0;
												var b_female_now 			= 0; 

												var b_t_cum 				= 0;
												var b_t_now 				= 0;


												var e_compost = 0;
												var e_sealed = 0;

												var e_portalet_male = 0;
												var e_portalet_female = 0;
												var e_portalet_common = 0;

												var e_bathing_male = 0;
												var e_bathing_female = 0;
												var e_bathing_common = 0;

												var e_child = 0;
												var e_women = 0;
												var e_couple = 0;
												var e_prayer = 0;
												var e_community = 0;
												var e_wash = 0;
												var e_ramps = 0;
												var e_help = 0;
												var e_capacity = 0;
												var e_rooms = 0;

												for(var uuu in rs.sex){

													if(rs.sex[uuu].brgy_located_ec == rs.brgys[k].brgy_located_ec){

														b_infant_male_cum 		= Number(b_infant_male_cum) + Number(rs.sex[uuu].infant_male_cum); 
														b_infant_male_now 		= Number(b_infant_male_now) + Number(rs.sex[uuu].infant_male_now); 
														b_infant_female_cum 	= Number(b_infant_female_cum) + Number(rs.sex[uuu].infant_female_cum); 
														b_infant_female_now 	= Number(b_infant_female_now) + Number(rs.sex[uuu].infant_female_now);

														b_toddler_male_cum 		= Number(b_toddler_male_cum) + Number(rs.sex[uuu].toddler_male_cum);
														b_toddler_male_now 		= Number(b_toddler_male_now) + Number(rs.sex[uuu].toddler_male_now);
														b_toddler_female_cum 	= Number(b_toddler_female_cum) + Number(rs.sex[uuu].toddler_female_cum);
														b_toddler_female_now 	= Number(b_toddler_female_now) + Number(rs.sex[uuu].toddler_female_now);

														b_pschool_male_cum 		= Number(b_pschool_male_cum) + Number(rs.sex[uuu].preschooler_male_cum);
														b_pschool_male_now 		= Number(b_pschool_male_now) + Number(rs.sex[uuu].preschooler_male_now);
														b_pschool_female_cum 	= Number(b_pschool_female_cum) + Number(rs.sex[uuu].preschooler_female_cum);
														b_pschool_female_now 	= Number(b_pschool_female_now) + Number(rs.sex[uuu].preschooler_female_now);

														b_schoolage_male_cum 	= Number(b_schoolage_male_cum) + Number(rs.sex[uuu].schoolage_male_cum);
														b_schoolage_male_now 	= Number(b_schoolage_male_now) + Number(rs.sex[uuu].schoolage_male_now);
														b_schoolage_female_cum 	= Number(b_schoolage_female_cum) + Number(rs.sex[uuu].schoolage_female_cum);
														b_schoolage_female_now 	= Number(b_schoolage_female_now) + Number(rs.sex[uuu].schoolage_female_now);

														b_teenage_male_cum 		= Number(b_teenage_male_cum) + Number(rs.sex[uuu].teenage_male_cum);
														b_teenage_male_now 		= Number(b_teenage_male_now) + Number(rs.sex[uuu].teenage_male_now);
														b_teenage_female_cum 	= Number(b_teenage_female_cum) + Number(rs.sex[uuu].teenage_female_cum);
														b_teenage_female_now 	= Number(b_teenage_female_now) + Number(rs.sex[uuu].teenage_female_now);

														b_adult_male_cum 		= Number(b_adult_male_cum) + Number(rs.sex[uuu].adult_male_cum);
														b_adult_male_now 		= Number(b_adult_male_now) + Number(rs.sex[uuu].adult_male_now);
														b_adult_female_cum 		= Number(b_adult_female_cum) + Number(rs.sex[uuu].adult_female_cum);
														b_adult_female_now 		= Number(b_adult_female_now) + Number(rs.sex[uuu].adult_female_now);

														b_senior_male_cum 		= Number(b_senior_male_cum) + Number(rs.sex[uuu].senior_male_cum);
														b_senior_male_now 		= Number(b_senior_male_now) + Number(rs.sex[uuu].senior_male_now);
														b_senior_female_cum 	= Number(b_senior_female_cum) + Number(rs.sex[uuu].senior_female_cum);
														b_senior_female_now 	= Number(b_senior_female_now) + Number(rs.sex[uuu].senior_female_now);

														b_male_cum 		= Number(b_infant_male_cum) + Number(b_toddler_male_cum) + Number(b_pschool_male_cum) + Number(b_schoolage_male_cum) + Number(b_teenage_male_cum) + Number(b_adult_male_cum) + Number(b_senior_male_cum);
														b_male_now 		= Number(b_infant_male_now) + Number(b_toddler_male_now) + Number(b_pschool_male_now) + Number(b_schoolage_male_now) + Number(b_teenage_male_now) + Number(b_adult_male_now) + Number(b_senior_male_now);
														b_female_cum 	= Number(b_infant_female_cum) + Number(b_toddler_female_cum) + Number(b_pschool_female_cum) + Number(b_schoolage_female_cum) + Number(b_teenage_female_cum) + Number(b_adult_female_cum) + Number(b_senior_female_cum);
														b_female_now 	= Number(b_infant_female_now) + Number(b_toddler_female_now) + Number(b_pschool_female_now) + Number(b_schoolage_female_now) + Number(b_teenage_female_now) + Number(b_adult_female_now) + Number(b_senior_female_now);


														b_pregnant_cum 		= Number(b_pregnant_cum) + Number(rs.sex[uuu].pregnant_cum);
														b_pregnant_now 		= Number(b_pregnant_now) + Number(rs.sex[uuu].pregnant_now);

														b_lactating_cum 	= Number(b_lactating_cum) + Number(rs.sex[uuu].lactating_cum);
														b_lactating_now 	= Number(b_lactating_now) + Number(rs.sex[uuu].lactating_now);

														b_pwd_male_cum 		= Number(b_pwd_male_cum) + Number(rs.sex[uuu].disable_male_cum);
														b_pwd_male_now 		= Number(b_pwd_male_now) + Number(rs.sex[uuu].disable_male_now);
														b_pwd_female_cum 	= Number(b_pwd_female_cum) + Number(rs.sex[uuu].disable_female_cum);
														b_pwd_female_now 	= Number(b_pwd_female_now) + Number(rs.sex[uuu].disable_female_now);

														b_solo_cum 			= Number(b_solo_cum) + Number(rs.sex[uuu].solo_cum);
														b_solo_now 			= Number(b_solo_now) + Number(rs.sex[uuu].solo_now);

														b_ip_cum 			= Number(b_ip_cum) + Number(rs.sex[uuu].ip_cum);
														b_ip_now 			= Number(b_ip_now) + Number(rs.sex[uuu].ip_now);

														b_t_cum 			+= Number(rs.sex[uuu].infant_male_cum) + Number(rs.sex[uuu].infant_female_cum) + Number(rs.sex[uuu].toddler_male_cum) + Number(rs.sex[uuu].toddler_female_cum) + 
														Number(rs.sex[uuu].preschooler_male_cum) + Number(rs.sex[uuu].preschooler_female_cum) + Number(rs.sex[uuu].schoolage_male_cum) + Number(rs.sex[uuu].schoolage_female_cum) + 
														Number(rs.sex[uuu].teenage_male_cum) + Number(rs.sex[uuu].teenage_female_cum) + Number(rs.sex[uuu].adult_male_cum) + Number(rs.sex[uuu].adult_female_cum) +
														Number(rs.sex[uuu].senior_male_cum) + Number(rs.sex[uuu].senior_female_cum) + Number(rs.sex[uuu].pregnant_cum) + Number(rs.sex[uuu].lactating_cum) + 
														Number(rs.sex[uuu].disable_male_cum) + Number(rs.sex[uuu].disable_female_cum) + Number(rs.sex[uuu].solo_cum) + Number(rs.sex[uuu].ip_cum);

														b_t_now 			+= Number(rs.sex[uuu].infant_male_now) + Number(rs.sex[uuu].infant_female_now) + Number(rs.sex[uuu].toddler_male_now) + Number(rs.sex[uuu].toddler_female_now) + 
														Number(rs.sex[uuu].preschooler_male_now) + Number(rs.sex[uuu].preschooler_female_now) + Number(rs.sex[uuu].schoolage_male_now) + Number(rs.sex[uuu].schoolage_female_now) + 
														Number(rs.sex[uuu].teenage_male_now) + Number(rs.sex[uuu].teenage_female_now) + Number(rs.sex[uuu].adult_male_now) + Number(rs.sex[uuu].adult_female_now) +
														Number(rs.sex[uuu].senior_male_now) + Number(rs.sex[uuu].senior_female_now) + Number(rs.sex[uuu].pregnant_now) + Number(rs.sex[uuu].lactating_now) + 
														Number(rs.sex[uuu].disable_male_now) + Number(rs.sex[uuu].disable_female_now) + Number(rs.sex[uuu].solo_now) + Number(rs.sex[uuu].ip_now);

													}

												}

												for(var eeee in rs.facilities){

													if(Number(rs.facilities[eeee].brgy_located_ec) == Number(rs.brgys[k].brgy_located_ec)){

														e_compost 				= Number(e_compost) + Number(rs.facilities[eeee].compost_pit);
														e_sealed 				= Number(e_sealed) + Number(rs.facilities[eeee].sealed);
														e_portalet_male 		= Number(e_portalet_male) + Number(rs.facilities[eeee].portalets_male);
														e_portalet_female 		= Number(e_portalet_female) + Number(rs.facilities[eeee].portalets_female);
														e_portalet_common 		= Number(e_portalet_common) + Number(rs.facilities[eeee].portalets_common);
														e_bathing_male 			= Number(e_bathing_male) + Number(rs.facilities[eeee].bathing_cubicles_male);
														e_bathing_female 		= Number(e_bathing_female) + Number(rs.facilities[eeee].bathing_cubicles_female);
														e_bathing_common 		= Number(e_bathing_common) + Number(rs.facilities[eeee].bathing_cubicles_common);
														e_child 				= Number(e_child) + Number(rs.facilities[eeee].child_space);
														e_women 				= Number(e_women) + Number(rs.facilities[eeee].women_space);
														e_couple 				= Number(e_couple) + Number(rs.facilities[eeee].couple_room);
														e_prayer 				= Number(e_prayer) + Number(rs.facilities[eeee].prayer_room);
														e_community 			= Number(e_community) + Number(rs.facilities[eeee].community_kitchen);
														e_wash 					= Number(e_wash) + Number(rs.facilities[eeee].wash);
														e_ramps 				= Number(e_ramps) + Number(rs.facilities[eeee].ramps);
														e_help 					= Number(e_help) + Number(rs.facilities[eeee].help_desk);
														e_capacity 				= Number(e_capacity) + Number(rs.facilities[eeee].capacity);
														e_rooms 				= Number(e_rooms) + Number(rs.facilities[eeee].no_of_rooms);
													}

												}

												var bpart_damage = 0;
												var btot_damage = 0;
												var bttot_damage = 0;

												for(var ddd in rs.query_damage_per_brgy){

													if(Number(rs.query_damage_per_brgy[ddd].brgy_id) == Number(rs.brgys[k].brgy_located_ec)){

														bpart_damage += Number(rs.query_damage_per_brgy[ddd].partially_damaged);
														btot_damage += Number(rs.query_damage_per_brgy[ddd].totally_damaged);
														bttot_damage += Number(bpart_damage) + Number(btot_damage);

													}

												}

												function toUppercaseEC(item){

													if(item == null || item == ""){
														return '-';
													}else{
														return item.toUpperCase();
													}

												}

												var b_all_brgy_in_ec = 0;

												for(var h in rs.brgy_unique_ec){

													if(rs.brgy_unique_ec[h].brgy_located_ec == rs.brgys[k].brgy_located_ec){
														b_all_brgy_in_ec += 1;
													}

												}

												$("#tbl_masterquery_revss tbody").append(
													"<tr class='contextmenu_brgy contextmenu_brgy."+rs.brgys[k].brgy_located_ec+"' style='cursor: pointer'>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>1</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(i4ps)+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_cum+"</td>"+	
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tec_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_all_brgy_in_ec+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ifam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_t_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+iper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+ofam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+oper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tfam_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+tper_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bttot_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+btot_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+bpart_damage+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
													"</tr>"
												)

												$('#tbl_sex_age_distribution_list tbody').append(
													"<tr>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_infant_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_toddler_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pschool_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_schoolage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_teenage_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_adult_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_senior_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pregnant_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_lactating_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_male_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_pwd_female_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_solo_now+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_cum+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b_ip_now+"</td>"+
													"</tr>"
												)

												$('#tbl_evauation_facility_list tbody').append(
													"<tr>"+
														"<td style='background-color: #D9D9D9; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'><b>"+toUppercaseEC(bb)+"</b></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
														"<td style='background-color: #D9D9D9; font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
													"</tr>"
												)

												ofam_cum = 0;
												ofam_now = 0;
												oper_cum = 0;
												oper_now = 0;

												ifam_cum = 0;
												ifam_now = 0;
												iper_cum = 0;
												iper_now = 0;

												i4ps = 0;

												b0_3 = 0;

												tfam_cum = 0;
												tper_cum = 0;

												tec_cum = 0;
												tec_now = 0;

												for(var l in rs.rs){

													var bbb0;
													var b0_1 = 0;

													var e_infant_male_cum 		= 0;
													var e_infant_male_now 		= 0;
													var e_infant_female_cum 	= 0;
													var e_infant_female_now 	= 0;

													var e_toddler_male_cum 		= 0;
													var e_toddler_male_now 		= 0;
													var e_toddler_female_cum 	= 0;
													var e_toddler_female_now 	= 0;

													var e_pschool_male_cum 		= 0;
													var e_pschool_male_now 		= 0;
													var e_pschool_female_cum 	= 0;
													var e_pschool_female_now 	= 0;

													var e_schoolage_male_cum 	= 0;
													var e_schoolage_male_now 	= 0;
													var e_schoolage_female_cum 	= 0;
													var e_schoolage_female_now 	= 0;

													var e_teenage_male_cum 		= 0;
													var e_teenage_male_now 		= 0;
													var e_teenage_female_cum 	= 0;
													var e_teenage_female_now 	= 0;

													var e_adult_male_cum 		= 0;
													var e_adult_male_now 		= 0;
													var e_adult_female_cum 		= 0;
													var e_adult_female_now 		= 0;

													var e_senior_male_cum 		= 0;
													var e_senior_male_now 		= 0;
													var e_senior_female_cum 	= 0;
													var e_senior_female_now 	= 0;

													var e_pwd_male_cum 			= 0;
													var e_pwd_male_now 			= 0;
													var e_pwd_female_cum 		= 0;
													var e_pwd_female_now 		= 0;

													var e_pregnant_cum 			= 0;
													var e_pregnant_now 			= 0;

													var e_lactating_cum 			= 0;
													var e_lactating_now 			= 0;

													var e_solo_cum 				= 0;
													var e_solo_now 				= 0

													var e_ip_cum 				= 0;
													var e_ip_now 				= 0;

													var e_male_cum = 0; 
													var e_male_now = 0;
													var e_female_cum = 0;
													var e_female_now = 0; 

													var e_t_cum = 0;
													var e_t_now = 0;
													
													var e_compost = 0;
													var e_sealed = 0;

													var e_portalet_male = 0;
													var e_portalet_female = 0;
													var e_portalet_common = 0;

													var e_bathing_male = 0;
													var e_bathing_female = 0;
													var e_bathing_common = 0;

													var e_child = 0;
													var e_women = 0;
													var e_couple = 0;
													var e_prayer = 0;
													var e_community = 0;
													var e_wash = 0;
													var e_ramps = 0;
													var e_help = 0;
													var e_capacity = 0;
													var e_rooms = 0;


													if(l == 0){

														if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

															for(var e in rs.brgy){
																if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																	var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
																}
															}

															b0 = rs.rs[l].brgy_located;

															b0 = b0.split(",");

															for(var j in b0){
																if(j == 0){
																	for(var e1 in rs.brgy){
																		if(rs.brgy[e1].id == b0[j]){
																			bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																		}
																	}
																}else{
																	for(var e2 in rs.brgy){
																		if(Number(rs.brgy[e2].id) == Number(b0[j])){
																			bbb0 = bbb0 + ", <br>" + "Brgy. " + rs.brgy[e2].brgy_name;
																		}
																	}
																}

															brgy_locx.push(b0[j]);

															}

															for(var jj in b0){

																var k0 = 0;

																for(var w in brgy_locx){

																	if(b0[jj] == brgy_locx[w]){
																		k0 += 1;
																	}

																}

																if(k0 <= 1){
																	b0_1 += 1;
																}

															}

															for(var uuu in rs.sex){

																if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																	e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																	e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																	e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																	e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																	e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																	e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																	e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																	e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																	e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																	e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																	e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																	e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																	e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																	e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																	e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																	e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																	e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																	e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																	e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																	e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																	e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																	e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																	e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																	e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																	e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																	e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																	e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																	e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																	e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																	e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																	e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);


																	e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																	e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																	e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																	e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																	e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																	e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																	e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																	e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																	e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																	e_solo_now 			= Number(rs.sex[uuu].solo_now);

																	e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																	e_ip_now 			= Number(rs.sex[uuu].ip_now);

																	e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																	e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

																}

															}

															for(var eee in rs.facilities){

																if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																	e_compost 				= rs.facilities[eee].compost_pit;
																	e_sealed 				= rs.facilities[eee].sealed;
																	e_portalet_male 		= rs.facilities[eee].portalets_male;
																	e_portalet_female 		= rs.facilities[eee].portalets_female;
																	e_portalet_common 		= rs.facilities[eee].portalets_common;
																	e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																	e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																	e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																	e_child 				= rs.facilities[eee].child_space;
																	e_women 				= rs.facilities[eee].women_space;
																	e_couple 				= rs.facilities[eee].couple_room;
																	e_prayer 				= rs.facilities[eee].prayer_room;
																	e_community 			= rs.facilities[eee].community_kitchen;
																	e_wash 					= rs.facilities[eee].wash;
																	e_ramps 				= rs.facilities[eee].ramps;
																	e_help 					= rs.facilities[eee].help_desk;
																	e_capacity 				= rs.facilities[eee].capacity;
																	e_rooms 				= rs.facilities[eee].no_of_rooms;
																}

															}

															$("#tbl_masterquery_revss tbody").append(
																"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																	"<td style='border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																"</tr>"
															)
															
															$('#tbl_sex_age_distribution_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																"</tr>"
															)

															$('#tbl_evauation_facility_list tbody').append(
																"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																	"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																"</tr>"
															)

														}

														b0_1 = 0;
														bbb0 = "";

													}else{

														var bbb0;
														var b0_1 = 0;

														if(rs.rs[l].brgy_located_ec == rs.brgys[k].brgy_located_ec){

															if(rs.rs[l].evacuation_name == rs.rs[l-1].evacuation_name){

																var b0 = rs.rs[l].brgy_located;

																b0 = b0.split(",");

																for(var j in b0){

																	if(j == 0){
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = "Brgy." + rs.brgy[e1].brgy_name;
																			}
																		}
																	}else{
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = bbb0+ ",<br>" + "Brgy." +rs.brgy[e1].brgy_name;
																			}
																		}
																	}

																	brgy_locx.push(b0[j]);

																}

																for(var jj in b0){

																	var k0 = 0;

																	for(var w in brgy_locx){

																		if(b0[jj] == brgy_locx[w]){
																			k0 += 1;
																		}

																	}

																	if(k0 <= 1){
																		b0_1 += 1;
																	}

																}

																$("#tbl_masterquery_revss tbody").append(
																	"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																		"<td style='border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"</tr>"
																)

															b0_1 = 0;
															bbb0 = "";

															}else{

																var bbb0;
																var b0_1 = 0;

																var ofam_cum = 0;
																var ofam_now = 0;

																for(var e in rs.brgy){
																	if(rs.brgy[e].id == rs.rs[l].brgy_located_ec){
																		var bbb = "BRGY. " + rs.brgy[e].brgy_name + ", " + rs.city[mm].municipality_name + ", " + provinces[p].name;
																	}
																}

																var b0 = rs.rs[l].brgy_located;

																b0 = b0.split(",");

																for(var j in b0){
																	if(j == 0){
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = "Brgy. " + rs.brgy[e1].brgy_name;
																			}
																		}
																	}else{
																		for(var e1 in rs.brgy){
																			if(rs.brgy[e1].id == b0[j]){
																				bbb0 = bbb0+",<br>" + "Brgy. " +rs.brgy[e1].brgy_name;
																			}
																		}
																	}

																	brgy_locx.push(b0[j]);

																}

																for(var jj in b0){

																	var k0 = 0;

																	for(var w in brgy_locx){

																		if(b0[jj] == brgy_locx[w]){
																			k0 += 1;
																		}

																	}

																	if(k0 <= 1){
																		b0_1 += 1;
																	}

																}

																for(var uuu in rs.sex){

																	if(Number(rs.sex[uuu].evac_id) == Number(rs.rs[l].evacuation_name)){

																		e_infant_male_cum 		= Number(rs.sex[uuu].infant_male_cum); 
																		e_infant_male_now 		= Number(rs.sex[uuu].infant_male_now); 
																		e_infant_female_cum 	= Number(rs.sex[uuu].infant_female_cum); 
																		e_infant_female_now 	= Number(rs.sex[uuu].infant_female_now);

																		e_toddler_male_cum 		= Number(rs.sex[uuu].toddler_male_cum);
																		e_toddler_male_now 		= Number(rs.sex[uuu].toddler_male_now);
																		e_toddler_female_cum 	= Number(rs.sex[uuu].toddler_female_cum);
																		e_toddler_female_now 	= Number(rs.sex[uuu].toddler_female_now);

																		e_pschool_male_cum 		= Number(rs.sex[uuu].preschooler_male_cum);
																		e_pschool_male_now 		= Number(rs.sex[uuu].preschooler_male_now);
																		e_pschool_female_cum 	= Number(rs.sex[uuu].preschooler_female_cum);
																		e_pschool_female_now 	= Number(rs.sex[uuu].preschooler_female_now);

																		e_schoolage_male_cum 	= Number(rs.sex[uuu].schoolage_male_cum);
																		e_schoolage_male_now 	= Number(rs.sex[uuu].schoolage_male_now);
																		e_schoolage_female_cum 	= Number(rs.sex[uuu].schoolage_female_cum);
																		e_schoolage_female_now 	= Number(rs.sex[uuu].schoolage_female_now);

																		e_teenage_male_cum 		= Number(rs.sex[uuu].teenage_male_cum);
																		e_teenage_male_now 		= Number(rs.sex[uuu].teenage_male_now);
																		e_teenage_female_cum 	= Number(rs.sex[uuu].teenage_female_cum);
																		e_teenage_female_now 	= Number(rs.sex[uuu].teenage_female_now);

																		e_adult_male_cum 		= Number(rs.sex[uuu].adult_male_cum);
																		e_adult_male_now 		= Number(rs.sex[uuu].adult_male_now);
																		e_adult_female_cum 		= Number(rs.sex[uuu].adult_female_cum);
																		e_adult_female_now 		= Number(rs.sex[uuu].adult_female_now);

																		e_senior_male_cum 		= Number(rs.sex[uuu].senior_male_cum);
																		e_senior_male_now 		= Number(rs.sex[uuu].senior_male_now);
																		e_senior_female_cum 	= Number(rs.sex[uuu].senior_female_cum);
																		e_senior_female_now 	= Number(rs.sex[uuu].senior_female_now);

																		e_male_cum 		= Number(e_infant_male_cum) + Number(e_toddler_male_cum) + Number(e_pschool_male_cum) + Number(e_schoolage_male_cum) + Number(e_teenage_male_cum) + Number(e_adult_male_cum) + Number(e_senior_male_cum);
																		e_male_now 		= Number(e_infant_male_now) + Number(e_toddler_male_now) + Number(e_pschool_male_now) + Number(e_schoolage_male_now) + Number(e_teenage_male_now) + Number(e_adult_male_now) + Number(e_senior_male_now);
																		e_female_cum 	= Number(e_infant_female_cum) + Number(e_toddler_female_cum) + Number(e_pschool_female_cum) + Number(e_schoolage_female_cum) + Number(e_teenage_female_cum) + Number(e_adult_female_cum) + Number(e_senior_female_cum);
																		e_female_now 	= Number(e_infant_female_now) + Number(e_toddler_female_now) + Number(e_pschool_female_now) + Number(e_schoolage_female_now) + Number(e_teenage_female_now) + Number(e_adult_female_now) + Number(e_senior_female_now);

																		e_pregnant_cum 		= Number(rs.sex[uuu].pregnant_cum);
																		e_pregnant_now 		= Number(rs.sex[uuu].pregnant_now);

																		e_lactating_cum 	= Number(rs.sex[uuu].lactating_cum);
																		e_lactating_now 	= Number(rs.sex[uuu].lactating_now);

																		e_pwd_male_cum 		= Number(rs.sex[uuu].disable_male_cum);
																		e_pwd_male_now 		= Number(rs.sex[uuu].disable_male_now);
																		e_pwd_female_cum 	= Number(rs.sex[uuu].disable_female_cum);
																		e_pwd_female_now 	= Number(rs.sex[uuu].disable_female_now);

																		e_solo_cum 			= Number(rs.sex[uuu].solo_cum);
																		e_solo_now 			= Number(rs.sex[uuu].solo_now);

																		e_ip_cum 			= Number(rs.sex[uuu].ip_cum);
																		e_ip_now 			= Number(rs.sex[uuu].ip_now);

																		e_t_cum 			= Number(e_male_cum) + Number(e_female_cum) + Number(e_pregnant_cum) + Number(e_lactating_cum) + Number(e_pwd_male_cum) + Number(e_pwd_female_cum) + Number(e_solo_cum) + Number(e_ip_cum);
																		e_t_now 			= Number(e_male_now) + Number(e_female_now) + Number(e_pregnant_now) + Number(e_lactating_now) + Number(e_pwd_male_now) + Number(e_pwd_female_now) + Number(e_solo_now) + Number(e_ip_now);

																	}

																}

																for(var eee in rs.facilities){

																	if(Number(rs.facilities[eee].evac_id) == Number(rs.rs[l].evacuation_name)){

																		e_compost 				= rs.facilities[eee].compost_pit;
																		e_sealed 				= rs.facilities[eee].sealed;
																		e_portalet_male 		= rs.facilities[eee].portalets_male;
																		e_portalet_female 		= rs.facilities[eee].portalets_female;
																		e_portalet_common 		= rs.facilities[eee].portalets_common;
																		e_bathing_male 			= rs.facilities[eee].bathing_cubicles_male;
																		e_bathing_female 		= rs.facilities[eee].bathing_cubicles_female;
																		e_bathing_common 		= rs.facilities[eee].bathing_cubicles_common;
																		e_child 				= rs.facilities[eee].child_space;
																		e_women 				= rs.facilities[eee].women_space;
																		e_couple 				= rs.facilities[eee].couple_room;
																		e_prayer 				= rs.facilities[eee].prayer_room;
																		e_community 			= rs.facilities[eee].community_kitchen;
																		e_wash 					= rs.facilities[eee].wash;
																		e_ramps 				= rs.facilities[eee].ramps;
																		e_help 					= rs.facilities[eee].help_desk;
																		e_capacity 				= rs.facilities[eee].capacity;
																		e_rooms 				= rs.facilities[eee].no_of_rooms;
																	}

																}


																$("#tbl_masterquery_revss tbody").append(
																	"<tr class='contextmenu_click_ec contextmenu_click_ec."+rs.rs[l].id+"'>"+
																		"<td style='border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+isnull(rs.rs[l].fourps)+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].ec_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+bbb0.toUpperCase()+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+b0_1+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_t_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>0</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].family_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+rs.rs[l].person_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>-</td>"+
																	"</tr>"
																)

																$('#tbl_sex_age_distribution_list tbody').append(
																	"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateSexandAge("+rs.rs[l].id+")'>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_infant_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_toddler_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pschool_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_schoolage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_teenage_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_adult_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_senior_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pregnant_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_lactating_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_male_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_pwd_female_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_solo_now+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_cum+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ip_now+"</td>"+
																	"</tr>"
																)

																$('#tbl_evauation_facility_list tbody').append(
																	"<tr style='cursor: pointer' class='hoveredit' ondblclick='updateFacilities("+rs.rs[l].id+")'>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'></td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:left; border:1px solid #000; color: #000;'>"+rs.rs[l].evacuation_names+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_compost+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_sealed+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_portalet_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_male+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_female+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_bathing_common+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_child+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_women+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_couple+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_prayer+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_community+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_wash+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_ramps+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_help+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_capacity+"</td>"+
																		"<td style='font-weight: bold; vertical-align: middle; text-align:center; border:1px solid #000; color: #000;'>"+e_rooms+"</td>"+
																	"</tr>"
																)

																b0_1 = 0;
																bbb0 = "";
															
															}

														}

													}

												}

											}

										}

									}
		                        //==========================
			                }
						}

					}

					chart_affprov 		= [];
					chart_affprovdrill 	= [];
					chart_affmunisall 	= [];
					chart_affprov 		= rs.aff_prov;
					chart_affprovdrill 	= rs.aff_munis_drill;
					chart_affmunisall 	= rs.aff_munis_all;

					

			// END OF MASTER QUERY REVISION =============================================================================================================================================

					var family_a_t 		= 0;
					var person_a_t 		= 0;
					var family_cum_i 	= 0;
					var family_now_i 	= 0;
					var person_cum_i 	= 0;
					var person_now_i 	= 0;
					var family_cum_o 	= 0;
					var family_now_o 	= 0;
					var person_cum_o 	= 0;
					var person_now_o 	= 0;
					var family_cum_s_t 	= 0;
					var family_now_s_t 	= 0;
					var person_cum_s_t 	= 0;
					var person_now_s_t 	= 0;
					var bnum 			= 0;
					var ec_cum_t 		= 0;
					var ec_now_t 		= 0;
					var tot_d			= 0;
					var part_d 			= 0;
					var tott_d 			= 0;
					var tdswd_asst 		= 0;
					var tlgu_asst 		= 0;
					var tngo_asst 		= 0;
					var ttotal_asst 	= 0;

					for(var k in rs.masterquery){
						family_a_t += Number(rs.masterquery[k].family_a_t);
						person_a_t += Number(rs.masterquery[k].person_a_t);
						family_cum_i += Number(rs.masterquery[k].family_cum_i);
						family_now_i += Number(rs.masterquery[k].family_now_i);
						person_cum_i += Number(rs.masterquery[k].person_cum_i);
						person_now_i += Number(rs.masterquery[k].person_now_i);
						family_cum_o += Number(rs.masterquery[k].family_cum_o);
						family_now_o += Number(rs.masterquery[k].family_now_o);
						person_cum_o += Number(rs.masterquery[k].person_cum_o);
						person_now_o += Number(rs.masterquery[k].person_now_o);
						family_cum_s_t += Number(rs.masterquery[k].family_cum_s_t);
						family_now_s_t += Number(rs.masterquery[k].family_now_s_t);
						person_cum_s_t += Number(rs.masterquery[k].person_cum_s_t);
						person_now_s_t += Number(rs.masterquery[k].person_now_s_t);
					}

					for(var f in rs.masterquery2){
						bnum += Number(rs.masterquery2[f].brgynum);
					}

					for(var w in rs.masterquery3){
						ec_cum_t += Number(rs.masterquery3[w].ec_cum);
						ec_now_t += Number(rs.masterquery3[w].ec_now);
					}

					for(var d in rs.query_damage_per_brgy){
						tot_d += Number(rs.query_damage_per_brgy[d].totally_damaged);
						part_d += Number(rs.query_damage_per_brgy[d].partially_damaged);
					}

					tott_d = Number(tot_d) + Number(part_d);

					for(var a in rs.query_asst){
						tdswd_asst += Number(rs.query_asst[a].dswd_asst);
						tlgu_asst += Number(rs.query_asst[a].lgu_asst);
						tngo_asst += Number(rs.query_asst[a].ngo_asst);
					}

					for(var d in rs.query_damage_per_brgy){
						tlgu_asst += Number(rs.query_damage_per_brgy[d].costasst_brgy);
					}

					ttotal_asst = Number(tdswd_asst) + Number(tlgu_asst) + Number(tngo_asst);

					$('#totalbrgy').text(isnull(bnum));
					$('#totalfamily').text(addComma(isnull(family_a_t)));
					$('#totalperson').text(addComma(isnull(person_a_t)));
					$('#totalec_cum').text(isnull(ec_cum_t));
					$('#totalec_now').text(isnull(ec_now_t));
					$('#totalinsideec_fam_cum').text(addComma(isnull(family_cum_i)));
					$('#totalinsideec_fam_now').text(addComma(isnull(family_now_i)));
					$('#totalinsideec_person_cum').text(addComma(isnull(person_cum_i)));
					$('#totalinsideec_person_now').text(addComma(isnull(person_now_i)));
					$('#totaloutisideec_fam_cum').text(addComma(isnull(family_cum_o)));
					$('#totaloutisideec_fam_now').text(addComma(isnull(family_now_o)));
					$('#totaloutsideec_person_cum').text(addComma(isnull(person_cum_o)));
					$('#totaloutsideec_person_now').text(addComma(isnull(person_now_o)));
					$('#totalserved_fam_cum').text(addComma(isnull(family_cum_s_t)));
					$('#totalserved_fam_now').text(addComma(isnull(family_now_s_t)));
					$('#totalserved_person_cum').text(addComma(isnull(person_cum_s_t)));
					$('#totalserved_person_now').text(addComma(isnull(person_now_s_t)));
					$('#tott_damaged').text(addComma(isnull(tott_d)));
					$('#part_damaged').text(addComma(isnull(part_d)));
					$('#tot_damaged').text(addComma(isnull(tot_d)));
					$('#tdswd_asst').text(addCommaMoney(isnull(tdswd_asst)));
					$('#tlgu_asst').text(addCommaMoney(isnull(tlgu_asst)));
					$('#tngo_asst').text(addCommaMoney(isnull(tngo_asst)));
					$('#ttotal_asst').text(addCommaMoney(isnull(ttotal_asst)));


					for(var v in provinces){

						var totalcc 		= 0;
						var tot_ccc 		= 0;
						var part_ccc 		= 0;
						var dead_ccc 		= 0;
						var injured_ccc 	= 0;
						var missing_ccc 	= 0;
						var dswd_ccc 		= 0;
						var lgu_ccc 		= 0;
						var ngo_ccc 		= 0;

						for(var q in rs.query_asst){

							if(provinces[v].id == rs.query_asst[q].provinceid){

								totalcc += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
								tot_ccc += Number(rs.query_asst[q].totally_damaged);
								part_ccc += Number(rs.query_asst[q].partially_damaged);
								dead_ccc += Number(rs.query_asst[q].dead);
								injured_ccc += Number(rs.query_asst[q].injured);
								missing_ccc += Number(rs.query_asst[q].missing);
								dswd_ccc += Number(rs.query_asst[q].dswd_asst);
								lgu_ccc += Number(rs.query_asst[q].lgu_asst);
								ngo_ccc += Number(rs.query_asst[q].ngo_asst);

								var lgu_cccc 		= lgu_ccc;

							}

						}

						for(var qq in rs.query_damage_per_brgy){
							if(provinces[v].id == rs.query_damage_per_brgy[qq].provinceid){
								lgu_cccc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
							}
						}

						for(var qq in rs.query_damage_per_brgy){
							if(provinces[v].id == rs.query_damage_per_brgy[qq].provinceid){
								totalcc += Number(rs.query_damage_per_brgy[qq].costasst_brgy);
							}
						}

						if($('#user_level_access_session').text() != 'municipality'){

							$('#tbl_casualty_asst tbody').append(
								"<tr style='background-color:yellow'>"+
									"<th style='border: 1px solid #000; text-align:left; background-color: #808080; color: #000; padding-right: 5px'>"+provinces[v].name+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(tot_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(part_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(dead_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(injured_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:center; background-color: #808080; color: #000; padding-right: 5px'>"+addComma(missing_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(totalcc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(dswd_ccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(lgu_cccc)+"</th>"+
									"<th style='border: 1px solid #000; text-align:right; background-color: #808080; color: #000; padding-right: 5px'>"+addCommaMoney(ngo_ccc)+"</th>"+
								"</tr>"
							)
						}

						totalcc 		= 0;
						tot_ccc 		= 0;
						part_ccc 		= 0;
						dead_ccc 		= 0;
						injured_ccc 	= 0;
						missing_ccc 	= 0;
						dswd_ccc 		= 0;
						lgu_ccc 		= 0;
						ngo_ccc 		= 0;
						lgu_cccc 		= 0;

						for(var q in rs.query_asst){

							if($('#user_level_access_session').text() == 'municipality'){
								if($('#municipality_id_session').text() == rs.query_asst[q].municipality_id){
									var total = 0;
									if(provinces[v].id == rs.query_asst[q].provinceid){
										total += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
										$('#tbl_casualty_asst tbody').append(
											"<tr style='color:#000; cursor:pointer; background-color: #DFDFDF' ondblclick='updateDamAss("+rs.query_asst[q].id+")' class='hoveredit'>"+
												"<th style='border: 1px solid #000; text-align:left'>"+rs.query_asst[q].municipality_name+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].totally_damaged)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].partially_damaged)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].dead)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].injured)+"</th>"+
												"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].missing)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(total)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].dswd_asst)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].lgu_asst)+"</th>"+
												"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].ngo_asst)+"</th>"+
											"</tr>"
										)

										var brgy_ids = "";

										brgy_ids = rs.query_asst[q].brgy_id;
										if(isnull(brgy_ids) != "-"){
											brgy_ids = brgy_ids.split("|");
										
											for(var hq = 0 ; hq < brgy_ids.length ; hq++){

												for(var hh = 0 ; hh < rs.query_damage_per_brgy.length ; hh++){
													if(brgy_ids[hq] == rs.query_damage_per_brgy[hh].brgy_id){
														$('#tbl_casualty_asst tbody').append(
															"<tr style='color:#000; cursor:pointer'>"+
																"<th style='border: 1px solid #000; text-align:left'>Brgy. "+rs.query_damage_per_brgy[hh].brgy_name+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].totally_damaged)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].partially_damaged)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].dead)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].injured)+"</th>"+
																"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].missing)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
																"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
															"</tr>"
														)

														break;

													}
												}

											}
										}
									}
								}
							}else{
								var total = 0;
								if(provinces[v].id == rs.query_asst[q].provinceid){
									total += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
									$('#tbl_casualty_asst tbody').append(
										"<tr style='color:#000; cursor:pointer; background-color: #DFDFDF' ondblclick='updateDamAss("+rs.query_asst[q].id+")' class='hoveredit'>"+
											"<th style='border: 1px solid #000; text-align:left'>"+rs.query_asst[q].municipality_name+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].totally_damaged)+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].partially_damaged)+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].dead)+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].injured)+"</th>"+
											"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_asst[q].missing)+"</th>"+
											"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(total)+"</th>"+
											"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].dswd_asst)+"</th>"+
											"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].lgu_asst)+"</th>"+
											"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_asst[q].ngo_asst)+"</th>"+
										"</tr>"
									)

									var brgy_ids = "";

									brgy_ids = rs.query_asst[q].brgy_id;
									if(isnull(brgy_ids) != "-"){
										brgy_ids = brgy_ids.split("|");
									
										for(var hq = 0 ; hq < brgy_ids.length ; hq++){

											for(var hh = 0 ; hh < rs.query_damage_per_brgy.length ; hh++){
												if(brgy_ids[hq] == rs.query_damage_per_brgy[hh].brgy_id){
													$('#tbl_casualty_asst tbody').append(
														"<tr style='color:#000; cursor:pointer'>"+
															"<th style='border: 1px solid #000; text-align:left'>Brgy. "+rs.query_damage_per_brgy[hh].brgy_name+"</th>"+
															"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].totally_damaged)+"</th>"+
															"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].partially_damaged)+"</th>"+
															"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].dead)+"</th>"+
															"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].injured)+"</th>"+
															"<th style='border: 1px solid #000; text-align:center; padding-right: 5px'>"+addComma(rs.query_damage_per_brgy[hh].missing)+"</th>"+
															"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
															"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
															"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addCommaMoney(rs.query_damage_per_brgy[hh].costasst_brgy)+"</th>"+
															"<th style='border: 1px solid #000; text-align:right; padding-right: 5px'>"+addComma(0)+"</th>"+
														"</tr>"
													)

													break;

												}
											}

										}
									}
								}
							}
						}

					}

					var total 		= 0;
					var tot_c 		= 0;
					var part_c 		= 0;
					var dead_c 		= 0;
					var injured_c 	= 0;
					var missing_c 	= 0;
					var dswd_c 		= 0;
					var lgu_c 		= 0;
					var ngo_c 		= 0;

					for(var q in rs.query_asst){
						total += (Number(rs.query_asst[q].dswd_asst) + Number(rs.query_asst[q].lgu_asst) + Number(rs.query_asst[q].ngo_asst));
						tot_c += Number(rs.query_asst[q].totally_damaged);
						part_c += Number(rs.query_asst[q].partially_damaged);
						dead_c += Number(rs.query_asst[q].dead);
						injured_c += Number(rs.query_asst[q].injured);
						missing_c += Number(rs.query_asst[q].missing);
						dswd_c += Number(rs.query_asst[q].dswd_asst);
						lgu_c += Number(rs.query_asst[q].lgu_asst);
						ngo_c += Number(rs.query_asst[q].ngo_asst);
					}

					$('#caraga_tot_c').text(addComma(tot_c));
					$('#caraga_part_c').text(addComma(part_c));
					$('#caraga_dead_c').text(addComma(dead_c));
					$('#caraga_injured_c').text(addComma(injured_c));
					$('#caraga_missing_c').text(addComma(missing_c));
					$('#caraga_dswd_c').text(addCommaMoney(dswd_c));
					$('#caraga_ngo_c').text(addCommaMoney(ngo_c));

					var lgu_cc 		= lgu_c;

					for(var q in rs.query_damage_per_brgy){
						lgu_cc += Number(rs.query_damage_per_brgy[q].costasst_brgy);
					}

					$('#caraga_lgu_c').text(addCommaMoney(lgu_cc));

					for(var q in rs.query_damage_per_brgy){
						lgu_c = Number(rs.query_damage_per_brgy[q].costasst_brgy);
						total += lgu_c;
					}

					$('#caraga_total_c').text(addCommaMoney(total));
					
					
				});

				$('#lgu_list_assistance tbody').empty();

				var datas = {
					id : URLID()
				}

				$.getJSON(serverip+"get_dswd_assistance",datas,function(a){

					var k = a.length - 1;

					for(var i in provinces){
						var total = 0;
						for(var j in a){
							if(a[j].provinceid == provinces[i].id){
								total = total + parseFloat(a[j].cost) * parseFloat(a[j].quantity);
							}
						}

						$('#lgu_list_assistance tbody').append(
							"<tr>"+
								"<th style='background-color:#169F85; color:#fff' colspan='4'>"+provinces[i].name+"</th>"+
								"<th style='background-color:#169F85; color:#fff; text-align:right'>"+addCommaMoney(total)+"</th>"+
								"<th style='background-color:#169F85; color:#fff'></th>"+
							"</tr>"
						)

						for(var j in a){

							if(a[j].provinceid == provinces[i].id){

								var amt = parseFloat(a[j].cost) * parseFloat(a[j].quantity);

									if(j == 0){
										$('#lgu_list_assistance tbody').append(
											"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
												"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
												"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
												"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
												"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
												"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
												"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
											"</tr>"
										)
									}else{
										if(a[j].municipality_id == a[j-1].municipality_id){

											if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].date_augmented == a[j-1].date_augmented)){

												$('#lgu_list_assistance tbody').append(
													"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
														"<th></th>"+
														"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
														"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
														"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
														"<th style='text-align:right; color:#000'>"+addCommaMoney(amt)  +"</th>"+
														"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
													"</tr>"
												)

											}else{

												$('#lgu_list_assistance tbody').append(
													"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
														"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
														"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
														"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
														"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
														"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
														"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
													"</tr>"
												)

											}

										}else{

											$('#lgu_list_assistance tbody').append(
												"<tr style='cursor:pointer' ondblclick='updateAssistanceList("+a[j].id+")'>"+
													"<th style='color:#000'>"+a[j].municipality_name+"</th>"+
													"<th style='color:#000'>"+isnull(a[j].fnfi_name)+"</th>"+
													"<th style='text-align:right; color:#000'>"+isnull(a[j].quantity)+"</th>"+
													"<th style='color:#000'>"+isnull(todate(a[j].date_augmented))+"</th>"+
													"<th style='text-align:right; color:#000'>"+addCommaMoney(amt) +"</th>"+
													"<th style='text-align:center; color:#000'><button type='button' class='btn btn-danger btn-xs can_editasst' onclick='deleteAssistanceList("+a[j].id+")'><i class='fa fa-exclamation-circle'></i></button></th>"+
												"</tr>"
											)

										}
									}
								}
							}
						}

						var tot_ffp = 0;
						var amt_ffp = 0;
						var amt_nfi = 0;

						for(var j in a){

							if((a[j].fnfi_name.includes("Family Food Pack")) && (a[j].region == $('#region_id_session').text())){
								tot_ffp += a[j].quantity;
								amt_ffp += (a[j].cost * a[j].quantity);
							}else{
								amt_nfi += (a[j].cost * a[j].quantity);
							}

						}

						$('#totffps').text(addComma(tot_ffp));
						$('#amtffps').text("PhP " + addCommaMoney(amt_ffp));
						$('#amtnfi').text("PhP " + addCommaMoney(amt_nfi));


				})

				$('#tbl_damages_per_brgy tbody').empty();

				$.getJSON(serverip+"get_damage_per_brgy",datas,function(a){

					for(var i in provinces){	

						var totally_damaged 	= 0;
						var partially_damaged 	= 0;
						var dead 				= 0;
						var injured 			= 0;
						var missing 			= 0;
						var costasst_brgy 		= 0;

						for(var p in a){
							if(provinces[i].id == a[p].provinceid){
								totally_damaged 	= totally_damaged + Number(a[p].totally_damaged);
								partially_damaged 	= partially_damaged + Number(a[p].partially_damaged);
								dead 				= dead + Number(a[p].dead);
								injured 			= injured + Number(a[p].injured);
								missing 			= missing + Number(a[p].missing);
								costasst_brgy 		= Number(costasst_brgy) + Number(a[p].costasst_brgy);
							}
						}

						if($('#user_level_access_session').text() != 'municipality'){

							$('#tbl_damages_per_brgy tbody').append(
								"<tr>"+
									"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#169F85; color:#fff'>"+provinces[i].name+"</th>"+
									"<th style='border:1px solid #000; cursor:pointer; padding: 3px; background-color:#169F85; color:#fff; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
									"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(totally_damaged)+"</th>"+
									"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(partially_damaged)+"</th>"+
									"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(dead)+"</th>"+
									"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(injured)+"</th>"+
									"<th style='background-color: #169F85; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+isnull(missing)+"</th>"+
								"</tr>"
							)

						}

						for(var j in a){

							if($('#user_level_access_session').text() == 'municipality'){
								if($('#municipality_id_session').text() == a[j].municipality_id){
									var totally_damaged 	= 0;
									var partially_damaged 	= 0;
									var dead 				= 0;
									var injured 			= 0;
									var missing 			= 0;
									var costasst_brgy 		= 0;

									if(a[j].provinceid == provinces[i].id){
										if(j == 0){
											for(var k in a){
												if(a[j].municipality_id == a[k].municipality_id){
													totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
													partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
													dead 				= Number(dead) + Number(a[k].dead);
													injured 			= Number(injured) + Number(a[k].injured);
													missing 			= Number(missing) + Number(a[k].missing);
													costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
												}
											}
											$('#tbl_damages_per_brgy tbody').append(
												"<tr>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
												"</tr>"
											)
											$('#tbl_damages_per_brgy tbody').append(
												"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
												"</tr>"
											)
										}else{
											if(a[j].municipality_id == a[j-1].municipality_id){
												$('#tbl_damages_per_brgy tbody').append(
													"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
													"</tr>"
												)
											}else{
												for(var k in a){
													if(a[j].municipality_id == a[k].municipality_id){
														totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
														partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
														dead 				= Number(dead) + Number(a[k].dead);
														injured 			= Number(injured) + Number(a[k].injured);
														missing 			= Number(missing) + Number(a[k].missing);
														costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
													}
												}
												$('#tbl_damages_per_brgy tbody').append(
													"<tr>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
														"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
													"</tr>"
												)
												$('#tbl_damages_per_brgy tbody').append(
													"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
													"</tr>"
												)
												if(a[j].municipality_id == a[j-1].municipality_id){
													$('#tbl_damages_per_brgy tbody').append(
														"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
															"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
														"</tr>"
													)
												}
											}
										}
									}
								}
							}else{

								var totally_damaged 	= 0;
								var partially_damaged 	= 0;
								var dead 				= 0;
								var injured 			= 0;
								var missing 			= 0;
								var costasst_brgy 		= 0;

								if(a[j].provinceid == provinces[i].id){
									if(j == 0){
										for(var k in a){
											if(a[j].municipality_id == a[k].municipality_id){
												totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
												partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
												dead 				= Number(dead) + Number(a[k].dead);
												injured 			= Number(injured) + Number(a[k].injured);
												missing 			= Number(missing) + Number(a[k].missing);
												costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
											}
										}
										$('#tbl_damages_per_brgy tbody').append(
											"<tr>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
												"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
											"</tr>"
										)
										$('#tbl_damages_per_brgy tbody').append(
											"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
												"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
											"</tr>"
										)
									}else{
										if(a[j].municipality_id == a[j-1].municipality_id){
											$('#tbl_damages_per_brgy tbody').append(
												"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
												"</tr>"
											)
										}else{
											for(var k in a){
												if(a[j].municipality_id == a[k].municipality_id){
													totally_damaged 	= Number(totally_damaged) + Number(a[k].totally_damaged);
													partially_damaged 	= Number(partially_damaged) + Number(a[k].partially_damaged);
													dead 				= Number(dead) + Number(a[k].dead);
													injured 			= Number(injured) + Number(a[k].injured);
													missing 			= Number(missing) + Number(a[k].missing);
													costasst_brgy 		= Number(costasst_brgy) + Number(a[k].costasst_brgy);
												}
											}
											$('#tbl_damages_per_brgy tbody').append(
												"<tr>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].municipality_name+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(costasst_brgy)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(totally_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(partially_damaged)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(dead)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(injured)+"</th>"+
													"<th style='background-color: #E9C341; border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(missing)+"</th>"+
												"</tr>"
											)
											$('#tbl_damages_per_brgy tbody').append(
												"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
													"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
												"</tr>"
											)
											if(a[j].municipality_id == a[j-1].municipality_id){
												$('#tbl_damages_per_brgy tbody').append(
													"<tr ondblclick='updatedeldamageperbrgy("+a[j].id+")'>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000'>"+a[j].brgy_name+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addCommaMoney(a[j].costasst_brgy)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].totally_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].partially_damaged)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].dead)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].injured)+"</th>"+
														"<th style='border:1px solid #000; cursor:pointer; padding: 3px; color:#000; text-align:right'>"+addComma(a[j].missing)+"</th>"+
													"</tr>"
												)
											}
										}
									}
								}

							}
						}
					}

				});

				setTimeout(function(){

					$('#loader').hide();
					
			// End Master Query ===================================================================================================================================================
				},2000);



			}


		});
	}

//End of Region Context
	
} 

function updateOutsideEvacuation(id){

	if($('#can_edit').text() == 'f'){

		msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

	}else{

		$('#saveFamOEC').hide();
		$('#upFamOEC').show();
		$('#delFamOEC').show();

		$('#addfamOEC').dialog("open");

		upfamOECid = [];
		upfamOECid.push(id);

		var datas = {
			id : id
		};

		$.getJSON(serverip+"getFamOEC",datas,function(a){

			$('#addfamOECprov').val(a.rs[0].provinceid);
			$('#addfamOECprovO').val(a.rs[0].province_origin);

			$('#addfamOECcity').empty().append(
				"<option value=''>-- Select City/Municipality --</option>"
			);

			for(var j in a.city){
				$('#addfamOECcity').append(
					"<option value='"+a.city[j].id+"'>"+a.city[j].municipality_name+"</option>"
				);
			}

			$('#addfamOECprovO').empty().append(
				"<option value=''>-- Select Province --</option>"
			);

			for(var j in a.provinces){
				$('#addfamOECprovO').append(
					"<option value='"+a.provinces[j].id+"'>"+a.provinces[j].province_name+"</option>"
				);
			}

			$('#addfamOECcityO').empty().append(
				"<option value=''>-- Select City/Municipality --</option>"
			);

			for(var j in a.city2){
				$('#addfamOECcityO').append(
					"<option value='"+a.city[j].id+"'>"+a.city2[j].municipality_name+"</option>"
				);
			}

			$('#addfamOECprovO').val(a.rs[0].province_origin);
			$('#addfamOECcity').val(a.rs[0].municipality_id);
			$('#addfamOECcityO').val(a.rs[0].municipality_origin);


			$('#addfamOECbrgy').empty().append(
				"<option value=''>-- Select Barangay --</option>"
			);

			for(var j in a.brgy){
				$('#addfamOECbrgy').append(
					"<option value='"+a.brgy[j].id+"'>"+a.brgy[j].brgy_name+"</option>"
				);
			}

			$('#addfamOECbrgy').append(
				"<option value='0'>NOT INDICATED</option>"
			);

			$('#addfamOECbrgy').val(a.rs[0].brgy_host);

			$('#addfamOECbrgyO').empty().append(
				"<option value=''>-- Select Barangay --</option>"
			);



			for(var j in a.brgy2){
				$('#addfamOECbrgyO').append(
					"<option value='"+a.brgy2[j].id+"'>"+a.brgy2[j].brgy_name+"</option>"
				);
			}

			$('#addfamOECbrgyO').append(
				"<option value='OTHERS'>OTHERS</option>"
			);

			if(Number.isInteger(a.rs[0].brgy_origin) == true){
				$('#addfamOECbrgyO').val(a.rs[0].brgy_origin);
				$('#addfamOECbrgyOothers').val('');
				$('#addfamOECbrgyOothers').prop("disabled",true);
			}else{
				$('#addfamOECbrgyO').val("OTHERS");

				$('#addfamOECbrgyOothers').val(a.rs[0].brgy_origin);
				$('#addfamOECbrgyOothers').prop("disabled",false);

			}

			$('#famcumO').val(a.rs[0].family_cum);
			$('#famnowO').val(a.rs[0].family_now);
			$('#personcumO').val(a.rs[0].person_cum);
			$('#personnowO').val(a.rs[0].person_now);

		});
	}


}

$('#viewcharts').click(function(){

	$('#loader').show();

	setTimeout(function(){
		$('#loader').hide();
		columnchart(chart_affprov,chart_affprovdrill,'dromic_chart','Graph of Affected Families Per Province','','Total Affected Families');
		columnchart(chart_affmunisall,null,'dromic_chart_2','Graph of Affected Families Per Municipality','','Total Affected Families');
	},1000)
	
})

var fnfi_spec_id = 0;


function updateAssistanceList(id){
		
	fnfi_spec_id = id;

	var datas = {
		id : id
	}

	if($('#can_edit').text() == 'f'){

		msgbox("You're not allowed to edit this entry. Kindly contact the administrator for this privilege.");

	}else{

		$.confirm({
		    title: '<span class="red">Confirm Action!</span>',
		    content: 'Do you want to update this entry? You can only edit the item details.',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		action: function(){

		    			$.getJSON(serverip+"get_spec_assistances",datas,function(a){
		    				
		    				$('#updateassistance_spec').prop("disabled", 1);

		    				$('#updateassistance_spec').show();
							$('#saveassistance').hide();

							$('#addasstfnfi').hide();
							$('#editasstfnfi').show();

							$('#provinceAssistance').val(a.rs[0].provinceid);

							$('#cityAssistance').empty().append(
									"<option value=''>-- Select City/Municipality --</option>"
							);

							for(var i in a.munis){

								$('#cityAssistance').append(
									"<option value='"+a.munis[i].id+"'>"+a.munis[i].municipality_name+"</option>"
								)

							}

							$('#cityAssistance').val(a.rs[0].municipality_id);

							$('#single_cal3').val(a.rs[0].augmented_date);

							$('#families_served').val(a.rs[0].family_served);


							$('#fnfiassistance').val(a.rs[0].fnfi_name);
							$('#fnficost').val(a.rs[0].cost);
							$('#fnfiquantity').val(a.rs[0].quantity);
							$('#fnfistype').val(a.rs[0].fnfitype);

							$('#provinceAssistance').prop("disabled", 1);
							$('#cityAssistance').prop("disabled", 1);
							$('#single_cal3').prop("disabled", 1);
							$('#families_served').prop("disabled", 1);
							$('#fnfi_remarks').prop("disabled", 1);

							fnfi_list = [];
							fnfi_list_item();

						});

		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
		});


		// $.confirm({
		//     title: '<span class="red">Confirm Action!</span>',
		//     content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
		//     buttons: {
		//     	confirmAction: {
		//     		text: '<i class="fa fa-check"></i> Yes',
		//     		btnClass: 'btn-red',
		//     		action: function(){

		//     			$.getJSON(serverip+"del_spec_assistance",datas,function(a){
		//     				if(a == 1){
		//     					get_dromic(URLID());
		//     				}
		// 				});

		//             }
		//     	},
		//     	cancelAction: {
		//     		text: '<i class="fa fa-times-circle"></i> No',
		//     		btnClass: 'btn-blue'
		//     	}
		//     }
		// });

	}

}

$('#updateassistance_spec').click(function(){

	var datas = {

		id 			: fnfi_spec_id,
		fnfi_name 	: $('#fnfiassistance').val(),
		cost 		: $('#fnficost').val(),
		quantity 	: $('#fnfiquantity').val(),
		fnfitype 	: $('#fnfistype').val()

	};

	$.getJSON(serverip+"edit_spec_assistance",datas,function(a){

		if(a == 1){

			$.confirm({
			    title: '<span class="green">Success!</span>',
			    content: 'Assistance successfully saved!',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Yes',
			    		btnClass: 'btn-blue',
			    		keys: ['enter', 'shift'],
			    		action: function(){

			    			$('#provinceAssistance').val('');
							$('#cityAssistance').empty().append(
									"<option value=''>-- Select City/Municipality --</option>"
							);
							$('#fnfiassistance').val('');
							$('#fnficost').val('');
							$('#fnfiquantity').val('');
							$('#fnfistype').val('');
							$('#fnfi_remarks').val('');
							$('#single_cal3').val('');
							$('#families_served').val('');

							$('#provinceAssistance').prop("disabled", 0);
							$('#cityAssistance').prop("disabled", 0);
							$('#single_cal3').prop("disabled", 0);
							$('#families_served').prop("disabled", 0);
							$('#fnfi_remarks').prop("disabled", 0);

							$('#saveassistance').show();
							$('#updateassistance_spec').hide();

							$('#addasstfnfi').show();
							$('#editasstfnfi').hide();

							fnfi_list = [];
							fnfi_list_item();

							fnfi_spec_id = 0;

							get_dromic(URLID());

			            }
			    	}
			    }
			});

		}else{

			alertError();

		}

	});

})

function deleteAssistanceList(id){
		
	var datas = {
		id : id
	}

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator for this privilege.");
	}else{

		$.confirm({
		    title: '<span class="red">Confirm Action!</span>',
		    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		action: function(){

		    			$.getJSON(serverip+"del_spec_assistance",datas,function(a){
		    				if(a == 1){
		    					get_dromic(URLID());
		    				}
						});

		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
		});

	}

}

var damage_per_brgy_id = 0;

$('#updatedata_dam_per_brgy').hide();

function updatedeldamageperbrgy(id){

	var datas = {
		id : id
	}

	damage_per_brgy_id = id;

	$('#updatedata_dam_per_brgy').show();
	$('#deldata_dam_per_brgy').show();
	$('#savedata_dam_per_brgy').hide();

	$.getJSON(serverip+"get_damage_per_brgy_details",datas,function(a){

		for(var i in a['details']){
			$('#province_dam_per_brgy').val(a['details'][i].provinceid);
			$('#damperbrgy_totally').val(a['details'][i].totally_damaged);
			$('#damperbrgy_partially').val(a['details'][i].partially_damaged);
			$('#damperbrgy_dead').val(a['details'][i].dead);
			$('#damperbrgy_injured').val(a['details'][i].injured);
			$('#damperbrgy_missing').val(a['details'][i].missing);
			$('#costasst_brgy').val(a['details'][i].costasst_brgy)
		}

		$('#city_dam_per_brgy').empty().append(
			"<option value=''>-- Select City/Municipality --</option>"
		);

		for(var k in a['municipality']){
			$('#city_dam_per_brgy').append(
				"<option value='"+a['municipality'][k].id+"'>"+a['municipality'][k].municipality_name+"</option>"
			);
		}

		$('#city_dam_per_brgy').val(a['details'][i].municipality_id);

		$('#brgy_dam_per_brgy').empty().append(
			"<option value=''>-- Select Barangay -</option>"
		);

		for(var k in a['barangay']){
			$('#brgy_dam_per_brgy').append(
				"<option value='"+a['barangay'][k].id+"'>"+a['barangay'][k].brgy_name+"</option>"
			);
		}

		$('#brgy_dam_per_brgy').val(a['details'][i].brgy_id);

	});

}

$('#updatedata_dam_per_brgy').click(function(){

	console.log(damage_per_brgy_id);

	if(damage_per_brgy_id == 0){
		$.confirm({
		    title: 'Error!',
		    content: 'No available data to update!',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{

		var datas = {
			totally_damaged 	: $('#damperbrgy_totally').val(),
			partially_damaged 	: $('#damperbrgy_partially').val(),
			dead 				: $('#damperbrgy_dead').val(),
			injured 			: $('#damperbrgy_injured').val(), 
			missing 			: $('#damperbrgy_missing').val(),
			municipality_id 	: $('#city_dam_per_brgy').val(),
			costasst_brgy 		: $('#costasst_brgy').val(),
			disaster_title_id 	: URLID(),
			id 					: damage_per_brgy_id
		};

		$.getJSON(serverip+"updatedamageperbrgy",datas,function(a){
			if(a == 1){

				get_dromic(URLID());

				if($('#user_level_access_session').text() == 'national'){
					$('#province_dam_per_brgy').val('');
					$('#city_dam_per_brgy').val('');
				}else if($('#user_level_access_session').text() == 'province'){
					$('#city_dam_per_brgy').val('');
				}

				$('#updatedata_dam_per_brgy').hide();
				$('#savedata_dam_per_brgy').show();

				$('#damperbrgy_totally').val('');
				$('#damperbrgy_partially').val('');
				$('#damperbrgy_dead').val('');
				$('#damperbrgy_injured').val('');
				$('#damperbrgy_missing').val('');
				$('#brgy_dam_per_brgy').val('');
				$('#costasst_brgy').val('');

				damage_per_brgy_id = 0;
			}  
		});
	}

})

$('#deldata_dam_per_brgy').click(function(){

	var datas = {
		id : damage_per_brgy_id
	}

	var uriID = URLID();

	if(damage_per_brgy_id == 0){
		$.confirm({
		    title: 'Error!',
		    content: 'No available data to delete!',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Okay',
		    		btnClass: 'btn-danger',
		    	}
		    }
		});
	}else{
		$.confirm({
		    title: '<span class="red">Confirm Action!</span>',
		    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		action: function(){
		    			$.getJSON(serverip+"deletedamageperbrgy",datas,function(a){
							if(a == 1){
								get_dromic(uriID);

								if($('#user_level_access_session').text() == 'national'){
									$('#province_dam_per_brgy').val('');
									$('#city_dam_per_brgy').val('');
								}else if($('#user_level_access_session').text() == 'province'){
									$('#city_dam_per_brgy').val('');
								}

								$('#damperbrgy_totally').val('');
								$('#damperbrgy_partially').val('');
								$('#damperbrgy_dead').val('');
								$('#damperbrgy_injured').val('');
								$('#damperbrgy_missing').val('');
								$('#brgy_dam_per_brgy').val('');

								damage_per_brgy_id = 0;
							}  
						});
		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
		});
	}

})


function todate(item){
	item = $.datepicker.formatDate('MM dd, yy', new Date(item));
	return item
}

function todate2(item){
	item = $.datepicker.formatDate('yy/mm/dd', new Date(item));
	return item
}

function todate3(item){
	item = $.datepicker.formatDate('mm/dd/yy', new Date(item));
	return item
}

function todatesave(item,time){
	item = $.datepicker.formatDate("mm dd yy", new Date(item));
	time = time.split(":");
	return item+" "+time[0]+" "+time[1];
}

function isnullperd(item){
	if(item == null || item == 0){
		return "";
	}else{
		return addComma(item);
	}
}

function isnulls(item){
	if(item == null || item == 0){
		return "0";
	}else{
		return item;
	}
}

function isnull(item){
	if(item == null || item == 0){
		return "-";
	}else{
		return item;
	}
}

function isnulldo(item){
	if(item == null || item == 0){
		return "-";
	}else{
		return item;
	}
}

function isnulld(item){
	if(item == 't'){
		return "X";
	}else{
		return "-";
	}
}

function addComma(item){
	if(isnull(item) == '-'){
		return '-';
	}else{
		item = Number(item);
		return item.toLocaleString();
	}
}

function addCommaMoney(item){
	if(isnull(item) == '-'){
		return '-';
	}else{
		string = item.toString().split(".");
		leftpos = string[0];
		dotpos = string[1];
		leftpos = Number(leftpos);

		if(dotpos == null){
			return leftpos.toLocaleString() + "." + "00";
		}else{
			if(dotpos.length < 1){
				return leftpos.toLocaleString() + "." + dotpos + "00";
			}else if(dotpos.length <= 1){
            	return leftpos.toLocaleString() + "." + dotpos + "0";
            }else if(dotpos.length > 2){
				var num = "." + dotpos.toString();
				num = Number(num);
				var nnum = Math.round(num*100)/100;
				var nstring = nnum.toString();
				nstring = nstring.split(".");
				var nstring1 = nstring[1];

				if(nstring1 == null){
					return leftpos.toLocaleString() + "." + "00";
				}else{
					if(nstring1.length < 2){
						return leftpos.toLocaleString() + "." + nstring[1] + "0";
					}else{
						return leftpos.toLocaleString() + "." + nstring[1];
					}
				}
				
			}else{
				var mm = leftpos + "." + dotpos;
				return Number(mm).toLocaleString();
			}
		}
	}
}

function viewLatestReport(i){

	var datas = {
		id : i
	};

	$.getJSON(serverip+"get_disasterdetail",datas,function(a){  

		var id = a.rstitle[0].id;
		viewDetailsPrev(id);

	});

}

$('#editDromic').hide();

$('#editDromic').click(function(){

	var datas = {
		disaster_name 		: $('#disaster_name').val(),
		disaster_date 		: $('#disaster_date').val(),
		id 					: updatedisaster_id
	};


	if(datas.disaster_name == "" || datas.disaster_date == "" || datas.disaster_name == null || datas.disaster_date == null){
		$.confirm({
		    title: 'Warning',
		    content: '<i class="fa fa-info-circle"></i> Disaster Name and Disaster Date must not be blank!',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Close',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
		$.getJSON(serverip+"update_disaster",datas,function(a){  
			if(a == 1){
				alerts();
				getDisaster();
				updatedisaster_id = "";
				$('#editDromic').hide();
				$('#addDromic').show();
				$('#disaster_name').val('');
				$('#disaster_date').val('');
			}
		});
	}

})

var updatedisaster_id = "";

function editDromicReport(i){

	var datas = {
		id : i
	};

	updatedisaster_id = i;

	$.getJSON(serverip+"get_disasterdetail",datas,function(a){  

		var id = a.rstitle[0].id;

		$('#disaster_name').val(a.rs[0].disaster_name);
		$('#disaster_date').val(a.rs[0].disaster_date);

		$('#editDromic').show();
		$('#addDromic').hide();

		console.log(a);

	});

}

function viewPrevious(i){

	$('#myModal').modal({
		backdrop: 'static',
    	keyboard: false
	})

	var datas = {
		id : i
	};

	if(dtable){
		dtable.destroy();
	}

	$.getJSON(serverip+"get_disasterdetail",datas,function(a){  

		$('#disaster_name_modal').empty().append('Previous Reports ('+a.rs[0].disaster_name+ ' '+todate(a.rs[0].disaster_date)+')');
		$('#tbl_previous_reports tbody').empty();

		for(var i in a.rstitle){
			$('#tbl_previous_reports tbody').append(
				"<tr>"+
					"<td style='text-align:center'>"+(Number(i)+1)+"</td>"+
					"<td>"+a.rstitle[i].disaster_title+" as of " +todate(a.rstitle[i].ddate)+ " " +a.rstitle[i].asoftime+ "</td>"+
					"<td style='text-align:center'><button type='button' class='btn btn-success btn-xs' onclick='viewDetailsPrev("+a.rstitle[i].id+")'><i class='fa fa-eye'></i> View Details</button></td>"+
				"</tr>"
			)
		}

		dtable = $('#tbl_previous_reports').DataTable();

	});

}

function viewDetailsPrev(i){

	var isadmin = $('#hiddenisadmin').val();

	if(isadmin == 'reports'){
		$.confirm({
		    title: '',
		    content: '<i class="fa fa-exclamation-circle"></i> You don\'t have access to view this page. Kindly contact administrator to change user privileges.',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
			var win = window.open(serverip2+"?XCqdPsmLaQwAyt="+i,'Report Details');
	}
}
  
function addnewReport(i){

	$('#addnewReport').modal({
		backdrop: 'static',
    	keyboard: false
	});

	$.getJSON(serverip+"get_teamleader",function(a){ 
		if(a != 0){
			for(var i in a){
				if(a[i].qrt_position_id == 2){
					$('#preparedby').val(a[i].fullname.toUpperCase());
					$('#preparedbypos').val('Statistician');
				}
				if(a[i].qrt_position_id == 1){
					$('#recommendedby').val(a[i].fullname.toUpperCase());
					$('#recommendedbypos').val('Team Leader');
				}
			}
		}
	});

	for(var o in newreptitle){
		if(newreptitle[o].id == i){
			$('#newreporttitle').val(newreptitle[o].title);
			break;
		}
	}

	newi = i;
	getDate();

}      

function getDate(){

	var d = new Date();

	var h = "";
    var m = "";
    var s = "";

    if(d.getHours() < 10){
    	h = "0"+d.getHours();
    }else{
    	if(d.getHours() > 12){
    		h = "0" + (Number(d.getHours() - 12));
    	}else{
    		h = d.getHours();
    	}
	}

    if(d.getMinutes() < 10){
    	m = "0"+d.getMinutes();
    }else{
    	m = d.getMinutes();
    }

    if(d.getSeconds() < 10){
    	s = "0"+d.getSeconds();
    }else{
    	s = d.getSeconds();
    }

    if(d.getHours() >= 12){
    	time = h+":"+m+" PM";
    }else{
    	time = h+":"+m+" AM";
    }

    var year = d.getFullYear();
    var month = d.getMonth();
    month += 1;
    var day = d.getDate();

    if(month < 10){
    	month = "0" + month;
    }

    if(day < 10){
    	day = "0" + day;
    }

    $('#newreportdate').val(year+"-"+month+"-"+day);

    $('#newreporttime').val(time);

}
$('#errmsgnewdromic').hide();

function savenewDromic(){

	var datas = {
		id 					: newi,
		newreporttitle 		: $('#newreporttitle').val(),
		newreportdate 		: $('#newreportdate').val(),
		newreporttime 		: $('#newreporttime').val(),
		preparedby 			: $('#preparedby').val(),
		recommendedby 		: $('#recommendedby').val(),
		approvedby 			: $('#approvedby').val(),
		preparedbypos 		: $('#preparedbypos').val(),
		recommendedbypos 	: $('#recommendedbypos').val(),
		approvedbypos 		: $('#approvedbypos').val()
	}

	if(datas.newreporttitle == "" || datas.newreportdate == "" || datas.newreporttime == "" || datas.preparedby == "" || datas.recommendedby == "" || datas.approvedby == "" || datas.preparedbypos == "" || datas.recommendedbypos == "" || datas.approvedbypos == ""){

		$('#errmsgnewdromic').show();
		$('#errmsgnewdromic').empty().append("<span class='fa fa-info-circle'></span> Kindly fill all fields to continue!");
		setTimeout(function(){
			$('#errmsgnewdromic').fadeOut();
		},1500);

	}else{
		$.getJSON(serverip+"savenewtitle",datas,function(a){
			viewDetailsPrev(a);
		})
	}
}

$('#addfamiec').click(function(){

	$('#addfaminsideEC').dialog("open");

	updateEC_rightclick = 0;

	if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

		$('#addfaminsideECprov').val('');
		$('#addfaminsideECcity').val('');

		$('#brgylocated_ec').empty();
		$('#ecplaceorigin').empty();

		$('#ecplaceorigin').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		}); 

		$('#brgylocated_ec').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		});

	}else if($('#user_level_access_session').text() == 'province'){

		$('#addfaminsideECcity').val('');

	}

	$('#headertitle').empty().append("Add");
	$('#updateECS').hide();	
	
	
	$('#ecicum').val('');
	$('#ecinow').val('');
	$('#ecname').val('');
	$('#ecfamcum').val('');
	$('#ecfamnow').val('');
	$('#ecpercum').val('');
	$('#ecpernow').val('');
	$('#ecplaceorigin').val('');
	$('#ecplaceorigin1').val('');
	$('#ecistatus').val('');
	$('#ec4ps').val(''); 

	$('#addfaminsideECprov').prop("disabled",!1);
	$('#addfaminsideECcity').prop("disabled",!1);
	//$('#ecplaceorigin').prop("disabled",1);
	$('#ecname').prop("disabled",!1);

	$('#addECS').show();
	$('#addMECS').show();

	$('#addAECS').show();
	$('#addCECS').show();

	$('#deleteECS').hide();
	$('#clearECS').hide();

	// $('#ecicum').prop('disabled', false);
	// $('#ecinow').prop('disabled', false);
	$('#ecistatus').prop('disabled', false);

	$('#eccum').show();
	$('#ecnow').show();
	$('#ecstatus').show();

	$('#brgylocated_ec').prop('disabled', false);

})

function addFamIEC(){

	var uriID = URLID();

	var origin = "";

	for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

		if(i == 0){
			origin = $('#ecplaceorigin :selected')[i].value;
		}else{
			origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
		}

	}

	var datas = {
		disasterID 			: uriID,
		eciprov 			: $('#addfaminsideECprov').val(),
		ecicity 			: $('#addfaminsideECcity').val(),
		ecicum 				: $('#ecicum').val(),
		ecinow 				: $('#ecinow').val(),
		eciname 			: $('#ecname').val().toUpperCase(),
		ecifamcum 			: $('#ecfamcum').val(),
		ecifamnow 			: $('#ecfamnow').val(),
		ecipercum 			: $('#ecpercum').val(),
		ecipernow 			: $('#ecpernow').val(),
		brgy_located_ec 	: $('#brgylocated_ec').val(),
		brgy_located 		: origin,
		eciplaceorigin 		: "",
		ecstatus 			: $('#ecistatus').val(),
		ec4ps 				: $('#ec4ps').val()
	};

	if($('#addfaminsideECprov').val() == "" || $('#addfaminsideECcity').val() == "" || $('#ecname').val() == "" || $('#ecfamcum').val() == "" || $('#ecfamnow').val() == "" || $('#ecpernow').val() == "" || $('#ecpercum').val() == "" || $('#brgylocated_ec').val() == "" || origin == ""){

		msgbox("Kindly fill [Province, Municipality, Barangay Located EC, EC Name, Family CUM , Family Now, Person CUM, Person Now, Barangay Located Evacuees]")

	}else{

		if($('#ecfamcum').val() < $('#ecfamnow').val()){
			msgbox("Family NOW must not be greater than Family CUM");
		}else{
			if($('#ecpercum').val() < $('#ecpernow').val()){
				msgbox("Person NOW must not be greater than Person CUM");
			}else{

				if(datas.ecicum != ""){
					if($('#ecistatus').val() == ""){
						msgbox("Kindly indicate Evacuation Center Status to continue!");
					}else{

						$.getJSON(serverip+"savenewEC",datas,function(a){

							alerts();
							get_dromic(uriID);

							if($('#user_level_access_session').text() == 'national'){
								$('#addfaminsideECprov').val('');
								$('#addfaminsideECcity').val('');
							}else if($('#user_level_access_session').text() == 'province'){
								$('#addfaminsideECcity').val('');
							}

							$('#ecicum').val('');
							$('#ecinow').val('');
							$('#ecname').val('');
							$('#ecfamcum').val('');
							$('#ecfamnow').val('');
							$('#ecpercum').val('');
							$('#ecpernow').val('');
							$('#ecplaceorigin').val('');
							$('#brgylocated_ec').val(''),
							$('#ecistatus').val('');
							$('#ec4ps').val('');

							$('#addfaminsideEC').dialog("close");

							// issuesfound();

						});
					}

				}else{

					$.getJSON(serverip+"savenewEC",datas,function(a){

						alerts();
						get_dromic(uriID);

						if($('#user_level_access_session').text() == 'national'){
							$('#addfaminsideECprov').val('');
							$('#addfaminsideECcity').val('');
						}else if($('#user_level_access_session').text() == 'province'){
							$('#addfaminsideECcity').val('');
						}
						$('#ecicum').val('');
						$('#ecinow').val('');
						$('#ecname').val('');
						$('#ecfamcum').val('');
						$('#ecfamnow').val('');
						$('#ecpercum').val('');
						$('#ecpernow').val('');
						$('#ecplaceorigin').val('');
						$('#brgylocated_ec').val(''),
						$('#ecistatus').val('');

						$('#addfaminsideEC').dialog("close");

						// issuesfound();

					});

				}
			}
		}
	}

}


$('#addfamiecprofile').click(function(){

	$('#addfaminsideECProfile').dialog("open");

})

function addFamIECProfile(){

	if($('#infant_male_cum').val() == "" && $('#infant_male_now').val() == "" && $('#infant_female_cum').val() == "" && $('#infant_female_now').val() == "" && $('#toddler_male_cum').val() == "" && $('#toddler_male_now').val() == "" &&
		$('#toddler_female_cum').val() == "" && $('#toddler_female_now').val() == "" &&  $('#preschooler_male_cum').val() == "" && $('#preschooler_male_now').val() == "" && $('#preschooler_female_cum').val() == "" && 
		$('#preschooler_female_now').val() == "" && $('#schoolage_male_cum').val() == "" && $('#schoolage_male_now').val() == "" && $('#schoolage_female_cum').val() == "" && $('#schoolage_female_now').val() == "" && 
		$('#teenage_male_cum').val() == "" && $('#teenage_male_now').val() == "" && $('#teenage_female_cum').val() == "" && $('#teenage_female_now').val() == "" && $('#adult_male_cum').val() == "" && 
		$('#adult_male_now').val() == "" && $('#adult_female_cum').val() == "" && $('#adult_female_now').val() == "" && $('#senior_male_cum').val() == "" && $('#senior_male_now').val() == "" && 
		$('#senior_female_cum').val() == "" && $('#senior_female_now').val() == "" && $('#pregnant_cum').val() == "" && $('#pregnant_now').val() == "" && $('#lactating_cum').val() == "" && $('#lactating_now').val() == "" &&
		$('#solo_cum').val() == "" && $('#solo_now').val() == "" && $('#ip_cum').val() == "" && $('#ip_now').val() == "" && $('#disable_male_cum').val() == "" && $('#disable_male_now').val() == "" && 
		$('#disable_female_cum').val() == "" && $('#disable_female_now').val() == ""
	){

		msgbox("Kindly fill some of the entries to continue");

	}else{

		var datas = {
			province_id 				: $('#addfaminsideECprovprofile').val(),
			municipality_id 			: $('#addfaminsideECcityprofile').val(),
			disaster_title_id 			: URLID(),
			evac_id 					: evacuation_center_id,
			infant_male_cum 		 	: $('#infant_male_cum').val(),
			infant_male_now 		 	: $('#infant_male_now').val(),
			infant_female_cum 		 	: $('#infant_female_cum').val(),
			infant_female_now 		 	: $('#infant_female_now').val(),
			toddler_male_cum 		 	: $('#toddler_male_cum').val(),
			toddler_male_now 		 	: $('#toddler_male_now').val(),
			toddler_female_cum 		 	: $('#toddler_female_cum').val(),
			toddler_female_now 		 	: $('#toddler_female_now').val(),
			preschooler_male_cum 	 	: $('#preschooler_male_cum').val(),
			preschooler_male_now 	 	: $('#preschooler_male_now').val(),
			preschooler_female_cum 	 	: $('#preschooler_female_cum').val(),
			preschooler_female_now 	 	: $('#preschooler_female_now').val(),
			schoolage_male_cum 		 	: $('#schoolage_male_cum').val(),
			schoolage_male_now 		 	: $('#schoolage_male_now').val(),
			schoolage_female_cum 	 	: $('#schoolage_female_cum').val(),
			schoolage_female_now 	 	: $('#schoolage_female_now').val(),
			teenage_male_cum 		 	: $('#teenage_male_cum').val(),
			teenage_male_now 		 	: $('#teenage_male_now').val(),
			teenage_female_cum 		 	: $('#teenage_female_cum').val(),
			teenage_female_now 		 	: $('#teenage_female_now').val(),
			adult_male_cum 			 	: $('#adult_male_cum').val(),
			adult_male_now 			 	: $('#adult_male_now').val(),
			adult_female_cum 		 	: $('#adult_female_cum').val(),
			adult_female_now 		 	: $('#adult_female_now').val(),
			senior_male_cum 		 	: $('#senior_male_cum').val(),
			senior_male_now 		 	: $('#senior_male_now').val(),
			senior_female_cum 		 	: $('#senior_female_cum').val(),
			senior_female_now 		 	: $('#senior_female_now').val(),
			pregnant_cum 			 	: $('#pregnant_cum').val(),
			pregnant_now 			 	: $('#pregnant_now').val(),
			lactating_cum 			 	: $('#lactating_cum').val(),
			lactating_now 			 	: $('#lactating_now').val(),
			solo_cum 		 			: $('#solo_cum').val(),
			solo_now 		 			: $('#solo_now').val(),
			ip_cum 		 				: $('#ip_cum').val(),
			ip_now 		 				: $('#ip_now').val(),
			disable_male_cum 			: $('#disable_male_cum').val(),
			disable_male_now 			: $('#disable_male_now').val(),
			disable_female_cum 			: $('#disable_female_cum').val(),
			disable_female_now 			: $('#disable_female_now').val()
		};


		$.getJSON(serverip+"saveProfileData",datas,function(a){

			if(a == 1){

				alerts("Data successfully saved");

				$('#addfaminsideECProfile').dialog("close");

				$('#addfaminsideECprovprofile').val("");
				$('#addfaminsideECcityprofile').val("");
				$('#infant_male_cum').val("");
				$('#infant_male_now').val("");
				$('#infant_female_cum').val("");
				$('#infant_female_now').val("");
				$('#toddler_male_cum').val("");
				$('#toddler_male_now').val("");
				$('#toddler_female_cum').val("");
				$('#toddler_female_now').val("");
				$('#preschooler_male_cum').val("");
				$('#preschooler_male_now').val("");
				$('#preschooler_female_cum').val("");
				$('#preschooler_female_now').val("");
				$('#schoolage_male_cum').val("");
				$('#schoolage_male_now').val("");
				$('#schoolage_female_cum').val("");
				$('#schoolage_female_now').val("");
				$('#teenage_male_cum').val("");
				$('#teenage_male_now').val("");
				$('#teenage_female_cum').val("");
				$('#teenage_female_now').val("");
				$('#adult_male_cum').val("");
				$('#adult_male_now').val("");
				$('#adult_female_cum').val("");
				$('#adult_female_now').val("");
				$('#senior_male_cum').val("");
				$('#senior_male_now').val("");
				$('#senior_female_cum').val("");
				$('#senior_female_now').val("");
				$('#pregnant_cum').val("");
				$('#pregnant_now').val("");
				$('#lactating_cum').val("");
				$('#lactating_now').val("");
				$('#solo_cum').val("");
				$('#solo_now').val("");
				$('#ip_cum').val("");
				$('#ip_now').val("");
				$('#disable_male_cum').val("");
				$('#disable_male_now').val("");
				$('#disable_female_cum').val("");
				$('#disable_female_now').val("");

				get_dromic(URLID());

			}else{

				msgbox("Ooops... something went wrong!!!");

			}
			
		});
	}

	
}

function addFamIECS(){

	var uriID = URLID();

	var origin = "";

	for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

		if(i == 0){
			origin = $('#ecplaceorigin :selected')[i].value;
		}else{
			origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
		}

	}

	var datas = {
		disasterID 			: uriID,
		eciprov 			: $('#addfaminsideECprov').val(),
		ecicity 			: $('#addfaminsideECcity').val(),
		ecicum 				: $('#ecicum').val(),
		ecinow 				: $('#ecinow').val(),
		eciname 			: $('#ecname').val().toUpperCase(),
		ecifamcum 			: $('#ecfamcum').val(),
		ecifamnow 			: $('#ecfamnow').val(),
		ecipercum 			: $('#ecpercum').val(),
		ecipernow 			: $('#ecpernow').val(),
		brgy_located_ec 	: $('#brgylocated_ec').val(),
		brgy_located 		: origin,
		eciplaceorigin 		: "",
		ecstatus 			: $('#ecistatus').val(),
		ec4ps 				: $('#ec4ps').val()
	};

	if($('#addfaminsideECprov').val() == "" || $('#addfaminsideECcity').val() == "" || $('#ecname').val() == "" || $('#ecfamcum').val() == "" || $('#ecfamnow').val() == "" || $('#ecpernow').val() == "" || $('#ecpercum').val() == "" || $('#brgylocated_ec').val() == "" || origin == ""){

		msgbox("Kindly fill [Province, Municipality, Barangay Located EC, EC Name, Family CUM , Family Now, Person CUM, Person Now, Barangay Located Evacuees]")

	}else{

		if($('#ecfamcum').val() < $('#ecfamnow').val()){
			msgbox("Family NOW must not be greater than Family CUM");
		}else{
			if($('#ecpercum').val() < $('#ecpernow').val()){
				msgbox("Person NOW must not be greater than Person CUM");
			}else{

				if(datas.ecicum != ""){
					
					if($('#ecistatus').val() == ""){
						msgbox("Kindly indicate Evacuation Center Status to continue!");
					}else{

						$.getJSON(serverip+"savenewEC",datas,function(a){

							alerts();
							get_dromic(uriID);

							$('#ecicum').val('');
							$('#ecinow').val('');
							$('#ecname').val('');
							$('#ecfamcum').val('');
							$('#ecfamnow').val('');
							$('#ecpercum').val('');
							$('#ecpernow').val('');
							$('#ecplaceorigin').val('');
							$('#brgylocated_ec').val('');
							$('#ecistatus').val('');
							$('#ec4ps').val('');

							$('#ecicum').prop("disabled",false);
							$('#ecinow').prop("disabled",false);
							//$('#ecistatus').prop("disabled",false);

							$('#ecplaceorigin').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 }); 
							$('#brgylocated_ec').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 });

							autocompleteEC();
							autocompleteOriginProvince();
							addfaminsideECcitys();
							// issuesfound();

						})
					}

				}else{

					$.getJSON(serverip+"savenewEC",datas,function(a){

						alerts();
						get_dromic(uriID);

						$('#ecicum').val('');
						$('#ecinow').val('');
						$('#ecname').val('');
						$('#ecfamcum').val('');
						$('#ecfamnow').val('');
						$('#ecpercum').val('');
						$('#ecpernow').val('');
						$('#ecplaceorigin').val('');
						$('#brgylocated_ec').val('');
						$('#ecistatus').val('');

						$('#ecicum').prop("disabled",false);
						$('#ecinow').prop("disabled",false);
						//$('#ecistatus').prop("disabled",false);

						$('#ecplaceorigin').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 }); 
						$('#brgylocated_ec').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 });

						autocompleteEC();
						autocompleteOriginProvince();
						addfaminsideECcitys();
						// issuesfound();

					})

				}
			}
		}
	}

}

function addFamAECS(){

	var uriID = URLID();

	var origin = "";

	for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

		if(i == 0){
			origin = $('#ecplaceorigin :selected')[i].value;
		}else{
			origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
		}

	}

	var datas = {
		disasterID 			: uriID,
		eciprov 			: $('#addfaminsideECprov').val(),
		ecicity 			: $('#addfaminsideECcity').val(),
		ecicum 				: $('#ecicum').val(),
		ecinow 				: $('#ecinow').val(),
		eciname 			: $('#ecname').val().toUpperCase(),
		ecifamcum 			: $('#ecfamcum').val(),
		ecifamnow 			: $('#ecfamnow').val(),
		ecipercum 			: $('#ecpercum').val(),
		ecipernow 			: $('#ecpernow').val(),
		brgy_located_ec 	: $('#brgylocated_ec').val(),
		brgy_located 		: origin,
		eciplaceorigin 		: "",
		ecstatus 			: $('#ecistatus').val(),
		ec4ps 				: $('#ec4ps').val()
	};

	if($('#addfaminsideECprov').val() == "" || $('#addfaminsideECcity').val() == "" || $('#ecname').val() == "" || $('#ecfamcum').val() == "" || $('#ecfamnow').val() == "" || $('#ecpercum').val() == "" || $('#ecpernow').val() == "" || $('#brgylocated_ec').val() == "" || origin == ""){

		msgbox("Kindly fill [Province, Municipality, Barangay Located EC, EC Name, Family CUM , Family Now, Person CUM, Person Now, Barangay Located Evacuees]")

	}else{

		if($('#ecfamcum').val() < $('#ecfamnow').val()){
			msgbox("Family NOW must not be greater than Family CUM");
		}else{
			if($('#ecpercum').val() < $('#ecpernow').val()){
				msgbox("Person NOW must not be greater than Person CUM");
			}else{

				if(datas.ecicum != ""){
					
					if($('#ecistatus').val() == ""){
						msgbox("Kindly indicate Evacuation Center Status to continue!");
					}else{

						$.getJSON(serverip+"savenewEC",datas,function(a){

							alerts();
							get_dromic(uriID);

							if($('#user_level_access_session').text() == 'national'){
								$('#addfaminsideECprov').val('');
								$('#addfaminsideECcity').val('');
							}else if($('#user_level_access_session').text() == 'province'){
								$('#addfaminsideECcity').val('');
							}

							$('#ecicum').val('');
							$('#ecinow').val('');
							$('#ecname').val('');
							$('#ecfamcum').val('');
							$('#ecfamnow').val('');
							$('#ecpercum').val('');
							$('#ecpernow').val('');
							$('#ecplaceorigin').val('');
							$('#brgylocated_ec').val('');
							$('#ecistatus').val('');
							$('#ec4ps').val('');

							$('#ecicum').prop("disabled",false);
							$('#ecinow').prop("disabled",false);
							//$('#ecistatus').prop("disabled",false);

							$('#brgylocated_ec').empty();
							$('#ecplaceorigin').empty();

							$('#ecplaceorigin').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 }); 
							$('#brgylocated_ec').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 }); 



							// issuesfound();

						})
					}

				}else{

					$.getJSON(serverip+"savenewEC",datas,function(a){

						alerts();
						get_dromic(uriID);

						if($('#user_level_access_session').text() == 'national'){
							$('#addfaminsideECprov').val('');
							$('#addfaminsideECcity').val('');
						}else if($('#user_level_access_session').text() == 'province'){
							$('#addfaminsideECcity').val('');
						}

						$('#ecicum').val('');
						$('#ecinow').val('');
						$('#ecname').val('');
						$('#ecfamcum').val('');
						$('#ecfamnow').val('');
						$('#ecpercum').val('');
						$('#ecpernow').val('');
						$('#ecplaceorigin').val('');
						$('#brgylocated_ec').val('');
						$('#ecistatus').val('');

						$('#ecicum').prop("disabled",false);
						$('#ecinow').prop("disabled",false);
						//$('#ecistatus').prop("disabled",false);

						$('#brgylocated_ec').empty();
						$('#ecplaceorigin').empty();

						$('#ecplaceorigin').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 }); 
						$('#brgylocated_ec').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 }); 

						// issuesfound();

					})

				}
			}
		}
	}

}

function addFamCECS(){

	var uriID = URLID();

	var origin = "";

	for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

		if(i == 0){
			origin = $('#ecplaceorigin :selected')[i].value;
		}else{
			origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
		}

	}

	var datas = {
		disasterID 			: uriID,
		eciprov 			: $('#addfaminsideECprov').val(),
		ecicity 			: $('#addfaminsideECcity').val(),
		ecicum 				: $('#ecicum').val(),
		ecinow 				: $('#ecinow').val(),
		eciname 			: $('#ecname').val().toUpperCase(),
		ecifamcum 			: $('#ecfamcum').val(),
		ecifamnow 			: $('#ecfamnow').val(),
		ecipercum 			: $('#ecpercum').val(),
		ecipernow 			: $('#ecpernow').val(),
		brgy_located_ec 	: $('#brgylocated_ec').val(),
		brgy_located 		: origin,
		eciplaceorigin 		: "",
		ecstatus 			: $('#ecistatus').val(),
		ec4ps 				: $('#ec4ps').val()
	};

	if($('#addfaminsideECprov').val() == "" || $('#addfaminsideECcity').val() == "" || $('#ecname').val() == "" || $('#ecfamcum').val() == "" || $('#ecfamnow').val() == "" || $('#ecpercum').val() == "" || $('#ecpernow').val() == "" || $('#brgylocated_ec').val() == "" || origin == ""){

		msgbox("Kindly fill [Province, Municipality, Barangay Located EC, EC Name, Family CUM , Family Now, Person CUM, Person Now, Barangay Located Evacuees]")

	}else{

		if($('#ecfamcum').val() < $('#ecfamnow').val()){
			msgbox("Family NOW must not be greater than Family CUM");
		}else{
			if($('#ecpercum').val() < $('#ecpernow').val()){
				msgbox("Person NOW must not be greater than Person CUM");
			}else{

				if(datas.ecicum != ""){
					
					if($('#ecistatus').val() == ""){
						msgbox("Kindly indicate Evacuation Center Status to continue!");
					}else{

						$.getJSON(serverip+"savenewEC",datas,function(a){

							alerts();
							get_dromic(uriID);

							$('#ecicum').val('');
							$('#ecinow').val('');
							$('#ecfamcum').val('');
							$('#ecfamnow').val('');
							$('#ecpercum').val('');
							$('#ecpernow').val('');
							$('#ecplaceorigin').val('');
							$('#ecistatus').val('');
							$('#ec4ps').val('');

							$('#ecicum').prop("disabled",true);
							$('#ecinow').prop("disabled",true);
							//$('#ecistatus').prop("disabled",true);

							$('#ecplaceorigin').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 }); 
							$('#brgylocated_ec').select2({
							        placeholder: "Select Barangay",
							        allowClear: true
							 });

							autocompleteEC();
							// issuesfound();

						})	
					}

				}else{

					$.getJSON(serverip+"savenewEC",datas,function(a){

						alerts();
						get_dromic(uriID);

						$('#ecicum').val('');
						$('#ecinow').val('');
						$('#ecfamcum').val('');
						$('#ecfamnow').val('');
						$('#ecpercum').val('');
						$('#ecpernow').val('');
						$('#ecplaceorigin').val('');
						$('#ecistatus').val('');

						$('#ecicum').prop("disabled",true);
						$('#ecinow').prop("disabled",true);
						//$('#ecistatus').prop("disabled",true);

						$('#ecplaceorigin').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 }); 
						$('#brgylocated_ec').select2({
						        placeholder: "Select Barangay",
						        allowClear: true
						 });

						autocompleteEC();
						// issuesfound();

					})

				}
			}
		}
	}

}

var dataEC = [];

function autocompleteEC(){

	var uriID = URLID();

	var cid = ($('#addfaminsideECcity').val() == "" ? $('#addfaminsideECcityprofile').val() : $('#addfaminsideECcity').val());

	var datas = {
		uriID 	: uriID,
		cid 	: cid	
	};

	var dataq = [];
	var datae = [];

	$.getJSON(serverip+"getAllEC",datas,function(a){

		console.log(a);

		for(var t in a['rs']){
			dataq.push(a.rs[t].evacuation_name.toUpperCase());
		}

		for(var t in a.re){
			datae.push(a.re[t].evacuation_name.toUpperCase());
		}

		for(var t in a['rs']){
			datae.push(a.rs[t].evacuation_name.toUpperCase());
		}

		datae.sort();

		for(var ec in datae){
			if(ec > 0){
				if(datae[ec] == datae[ec-1]){
					datae.splice(ec,1);
				}
			}
		}

		// $("#ecname").autocomplete({
		// 	source : datae
		// });

		$("#ecname").autoComplete({
			minChars	:  	1,
			source 		: function(term, suggest){
				term = term.toLowerCase();
				var choices = datae;
				var suggestions = [];

				var str = term.split(' ');

				for(j = 0 ; j < str.length ; j++){
					for(i = 0 ; i < choices.length ; i++){
						if ((choices[i]).toLowerCase().includes(str[j])){
							suggestions.push(choices[i]);
						}
					}
				}

				function removeDups(names) {
				  let unique = {};
				  names.forEach(function(i) {
				    if(!unique[i]) {
				      unique[i] = true;
				    }
				  });
				  return Object.keys(unique);
				}

				suggest(removeDups(suggestions));
			}
		});

	});

	setTimeout(function(){
		dataEC = dataq
	},1500);

}

$(document).ready(function(){
	
	$('#ecplaceorigin').val('');
	$('#brgylocated_ec').val('');

	$('#ecplaceorigin').select2({
	        placeholder: "Select Barangay",
	        allowClear: true
	}); 
	$('#brgylocated_ec').select2({
	        placeholder: "Select Barangay",
	        allowClear: true
	}); 
})

function autocompleteOriginProvince_session(){

	var uriID = URLID();

	var pid = $('#addfaminsideECprov').val();

	var datas = {
		uriID 	: uriID,
		pid 	: pid	
	};

	$('#ecplaceorigin').empty();


	$.getJSON(serverip+"getAllOriginProvince",datas,function(a){

		for(var k in a.city){

			for(var t in a.rs){

				if(a.rs[t].municipality_id == a.city[k].id){
					
						$('#ecplaceorigin').append(
							"<option value='"+a.rs[t].id+"'>"+a.rs[t].brgy_name+ ", " + a.city[k].municipality_name + "</option>"
						);

				}
				
			}

		}

		$('#ecplaceorigin').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		 }); 

	});

}


function autocompleteOriginProvince(){

	var uriID = URLID();

	var pid = $('#addfaminsideECprov').val();

	var datas = {
		uriID 	: uriID,
		pid 	: pid	
	};

	$('#brgylocated_ec').empty();

	$('#ecplaceorigin').empty();


	$.getJSON(serverip+"getAllOriginProvince",datas,function(a){

		console.log(a);

		$('#brgylocated_ec').append(
			"<option value=''></option>"
		);

		for(var k in a.city){

			// $('#brgylocated_ec').append(
			// 	"<option value='' style='font-size:18px; color: red'>-- Select Barangay in "+a.city[k].municipality_name+" --</option>"
			// );

			// $('#ecplaceorigin').append(
			// 	"<option value='' style='font-size:18px; color: red'>-- Select Barangay in "+a.city[k].municipality_name+" --</option>"
			// );

			for(var t in a.rs){

				if(a.rs[t].municipality_id == a.city[k].id){
					
						$('#ecplaceorigin').append(
							"<option value='"+a.rs[t].id+"'>"+a.rs[t].brgy_name+ ", " + a.city[k].municipality_name + "</option>"
						);

						$('#brgylocated_ec').append(
							"<option value='"+a.rs[t].id+"'>"+a.rs[t].brgy_name+ ", " + a.city[k].municipality_name + "</option>"
						);

				}
				
			}

		}

		$('#ecplaceorigin').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		 }); 
		$('#brgylocated_ec').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		 }); 


	});

}

function autocompleteOrigin(){

	var uriID = URLID();

	var cid = $('#addfaminsideECcity').val();

	var datas = {
		uriID 	: uriID,
		cid 	: cid	
	};

	// $('#ecplaceorigin').empty().append(
	// 	"<option value=''>-- Select Barangay --</option>"
	// );

	$('#brgylocated_ec').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$.getJSON(serverip+"getAllOrigin",datas,function(a){

		for(var t in a){

			if(a[t].municipality_id == $('#addfaminsideECcity').val()){
					
				$('#brgylocated_ec').append(
					"<option value='"+a[t].id+"'>"+a[t].brgy_name+ ", " + a[t].municipality_name + "</option>"
				);

			}

		}

		$('#brgylocated_ec').select2({
		        placeholder: "Select Barangay",
		        allowClear: true
		});

	});

}


$('#addfaminsideECcity').change(function(){

	autocompleteEC();
	autocompleteOrigin();

	// var aa = "-- Select Barangay in " + $('#addfaminsideECcity option:selected').text() + " --";


	// $("#brgylocated_ec > option").each(function() {
	// 	if(this.text == aa){
	// 		this.selected = true;
	// 	}
	// });

	// $("#ecplaceorigin > option").each(function() {
	// 	if(this.text == aa){
	// 		this.selected = true;
	// 	}
	// });

	// $('#ecplaceorigin').select2({
	//         placeholder: "Select Barangay",
	//         allowClear: true
	// }); 
	// $('#brgylocated_ec').select2({
	//         placeholder: "Select Barangay",
	//         allowClear: true
	// }); 


})


function addfaminsideECcitys(){

	autocompleteEC();
	//autocompleteOrigin();

	var aa = "-- Select Barangay in " + $('#addfaminsideECcity option:selected').text() + " --";


	$("#brgylocated_ec > option").each(function() {
		if(this.text == aa){
			this.selected = true;
		}
	});

	$("#ecplaceorigin > option").each(function() {
		if(this.text == aa){
			this.selected = true;
		}
	});


}

$("#ecname").keyup(function(){

	$(this).val().toUpperCase();

})

$("#ecname").blur(function(){

	if(dataEC.length < 1){

		$('#ecicum').prop("disabled",false);
		$('#ecinow').prop("disabled",false);
		$('#ecicum').val("1");
		$('#ecinow').val("1");

	}else{

		if(updateEC_rightclick == 0){

			for(var o in dataEC){
				if($(this).val().toLowerCase() == dataEC[o].toLowerCase()){
					$('#ecicum').prop("disabled",true);
					$('#ecinow').prop("disabled",true);
					//$('#ecistatus').prop("disabled",true);
					$('#ecicum').val('');
					$('#ecinow').val('');
					$('#ecistatus').val('');
					$('#ecistatus').prop("disabled",true);
					break;
				}else{
					$('#ecicum').prop("disabled",false);
					$('#ecinow').prop("disabled",false);
					$('#ecistatus').prop("disabled",false);
					//$('#ecistatus').prop("disabled",false);
					$('#ecicum').val(1);
					$('#ecinow').val(1);
				}
			}
		}
	}

	if($("#ecname").val() == ""){
		$('#ecicum').val('');
		$('#ecinow').val('');
		//$('#ecplaceorigin').prop("disabled",1);
		$('#ecplaceorigin1').prop("disabled",1);
	}else{
		//$('#ecplaceorigin').prop("disabled",!1);
		$('#ecplaceorigin1').prop("disabled",!1);
	}

})

var evac_id = 0;
var ecstatus = "";
var evacuation_center_id = "";

function updateEC(i){

	console.log(i);

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator");
	}else{

		$('#loader').show();
		//$('#headertitle').empty().append("Update");
		$('#updateECS').show();
		$('#addECS').hide();	
		$('#addMECS').hide();
		$('#deleteECS').show();

		$('#addAECS').hide();
		$('#addCECS').hide();

		$('#clearECS').show();


		var datas = {
			id : i
		}

		evac_id = i;

		$.getJSON(serverip+"getECDetail",datas,function(a){

			$('#addfaminsideECprov').val(a.rs[0].provinceid);

			var pid = $('#addfaminsideECprov').val();

			evacuation_center_id = a.rs[0].evacuation_name;

			$('#addfaminsideECcity').empty();
			$('#addfaminsideECcity').append(
			    "<option value=''>-- Select City/Municipality --</option>"
			);

		    for(var i in a.city){
	    		$('#addfaminsideECcity').append(
			        "<option value='"+a.city[i].id+"'>"+a.city[i].municipality_name+"</option>"
			    )
		    }

		    $('#addfaminsideECcity').val(a.rs[0].municipality_id);

		    autocompleteEC();
			//autocompleteOriginProvince();

			$('#brgylocated_ec').empty();

			$('#ecplaceorigin').empty();

			// $('#brgylocated_ec').append(
			// 	"<option value='' style='font-size:18px; color: red' disabled='disabled'>-- Select Barangay --</option>"
			// );

			// $('#ecplaceorigin').append(
			// 	"<option value='' style='font-size:18px; color: red' disabled='disabled'>-- Select Barangay --</option>"
			// );


			for(var k in a.city){

				for(var t in a.brgy){

					if(a.brgy[t].municipality_id == a.city[k].id){
						// console.log(1);

						
							$('#ecplaceorigin').append(
								"<option value='"+a.brgy[t].id+"'>"+a.brgy[t].brgy_name+ ", " +a.city[k].municipality_name+ "</option>"
							);


							$('#brgylocated_ec').append(
								"<option value='"+a.brgy[t].id+"'>"+a.brgy[t].brgy_name+ ", " +a.city[k].municipality_name+ "</option>"
							);

					}
					
				}

			}

			var bb = a.rs[0].brgy_located.toString();
			bb = bb.split(",");

			bb = bb.sort();


	    	$('#ecplaceorigin').val(bb.sort());
	    	$('#brgylocated_ec').val(a.rs[0].brgy_located_ec);

	    	$('#ecplaceorigin').select2({
			        placeholder: "Select Barangay",
			        allowClear: true
			 }); 
			$('#brgylocated_ec').select2({
			        placeholder: "Select Barangay",
			        allowClear: true
			 });
		    

			

			$('#ecicum').val(a.rs[0].ec_cum);
			$('#ecinow').val(a.rs[0].ec_now);

			$('#eccum').show();
			$('#ecnow').show();
			$('#ecstatus').show();

			$('#ecicum').prop("disabled",!1);
			$('#ecinow').prop("disabled",!1);
			$('#ecname').prop('disabled', !1);
			$('#brgylocated_ec').prop('disabled', !1);
			$('#ecistatus').prop('disabled', !1);

			$('#ecname').val(a.rs[0].ec_name.toUpperCase());
			$('#ecfamcum').val(a.rs[0].family_cum);
			$('#ecfamnow').val(a.rs[0].family_now);
			$('#ecpercum').val(a.rs[0].person_cum);
			$('#ecpernow').val(a.rs[0].person_now);
			$('#ec4ps').val(a.rs[0].fourps);
			// $('#ecplaceorigin1').val(a.rs[0].place_of_origin);

			// if(a.rs[0].ec_status == ""){
			// 	$('#ecistatus').prop("disabled",1);
			// }else{
			// 	$('#ecistatus').prop("disabled",!1);
			// }
			
			$('#ecistatus').val(a.rs[0].ec_status);
			ecstatus = a.rs[0].ec_status;

			// $('#addfaminsideECprov').prop("disabled",true);
			// $('#addfaminsideECcity').prop("disabled",true);
			// $('#ecname').prop("disabled",true);
			// $('#ecplaceorigin').prop("disabled",true);

		});

		setTimeout(function(){
			$('#addfaminsideEC').dialog("open");
			$('#loader').hide();
		},500);
	}

}

function clearECUpdate(i){

	console.log(i);

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator");
	}else{

		$('#loader').show();
		$('#headertitle').empty().append("Update");
		$('#updateECS').show();
		$('#addECS').hide();	
		$('#addMECS').hide();
		$('#deleteECS').show();

		$('#addAECS').hide();
		$('#addCECS').hide();

		$('#clearECS').show();


		var datas = {
			id : i
		}

		evac_id = i;

		$.getJSON(serverip+"getECDetail",datas,function(a){

			$('#addfaminsideECprov').val(a.rs[0].provinceid);

			var pid = $('#addfaminsideECprov').val();

			evacuation_center_id = a.rs[0].evacuation_name;

			$('#addfaminsideECcity').empty();
			$('#addfaminsideECcity').append(
			    "<option value=''>-- Select City/Municipality --</option>"
			);

		    for(var i in a.city){
	    		$('#addfaminsideECcity').append(
			        "<option value='"+a.city[i].id+"'>"+a.city[i].municipality_name+"</option>"
			    )
		    }

		    $('#addfaminsideECcity').val(a.rs[0].municipality_id);

		    autocompleteEC();

			$('#brgylocated_ec').empty();

			$('#ecplaceorigin').empty();

			for(var k in a.city){

				for(var t in a.brgy){

					if(a.brgy[t].municipality_id == a.city[k].id){
						// console.log(1);

						
							$('#ecplaceorigin').append(
								"<option value='"+a.brgy[t].id+"'>"+a.brgy[t].brgy_name+ ", " +a.city[k].municipality_name+ "</option>"
							);


							$('#brgylocated_ec').append(
								"<option value='"+a.brgy[t].id+"'>"+a.brgy[t].brgy_name+ ", " +a.city[k].municipality_name+ "</option>"
							);

					}
					
				}

			}

			var bb = a.rs[0].brgy_located.toString();
			bb = bb.split(",");

			bb = bb.sort();


	    	$('#ecplaceorigin').val(bb.sort());
	    	$('#brgylocated_ec').val(a.rs[0].brgy_located_ec);

	    	$('#ecplaceorigin').select2({
			        placeholder: "Select Barangay",
			        allowClear: true
			 }); 
			$('#brgylocated_ec').select2({
			        placeholder: "Select Barangay",
			        allowClear: true
			 });

			$('#ecicum').val(a.rs[0].ec_cum);
			$('#ecinow').val(a.rs[0].ec_now);


			if($('#ecicum').val() == "" || $('#ecinow').val() == ""){

				$('#eccum').hide();
				$('#ecnow').hide();
				$('#ecstatus').hide();

				$('#ecname').prop('disabled', true);
				$('#brgylocated_ec').prop('disabled', true);

			}else{

				$('#eccum').show();
				$('#ecnow').show();
				$('#ecstatus').show();

				$('#ecname').prop('disabled', false);
				$('#brgylocated_ec').prop('disabled', false);

			}

			$('#ecname').val(a.rs[0].ec_name.toUpperCase());
			$('#ecfamcum').val(a.rs[0].family_cum);
			$('#ecfamnow').val(a.rs[0].family_now);
			$('#ecpercum').val(a.rs[0].person_cum);
			$('#ecpernow').val(a.rs[0].person_now);
			$('#ecplaceorigin1').val(a.rs[0].place_of_origin);
			
			$('#ecistatus').val(a.rs[0].ec_status);
			ecstatus = a.rs[0].ec_status;


		});

		setTimeout(function(){
			
			$('#addfaminsideEC').dialog("open");

			$('#loader').hide();

			$('#ecicum').val('');
			$('#ecinow').val('');

			$('#ecfamcum').val('');
			$('#ecfamnow').val('');

			$('#ecpercum').val('');
			$('#ecpernow').val('');

			$('#ecistatus').val('');
			$('#ecplaceorigin').val('');

			$('#ecicum').prop('disabled', true);
			$('#ecinow').prop('disabled', true);
			//$('#ecistatus').prop('disabled', true);

			$('#updateECS').hide();
			$('#deleteECS').hide();
			$('#clearECS').hide();

			$('#addECS').show();
			$('#addAECS').show();
			$('#addCECS').show();
			$('#addMECS').show();

			$('#ecistatus').prop('disabled', true);
			$('#ecplaceorigin').select2({
			        placeholder: "Select Barangay",
			        allowClear: true
			 }); 


		},500);
	}

}

$('#openModalEC_clear').click(function(){

	clearECUpdate(contextmenuvalue);

})

$('#clearECS').click(function(){

	$('#ecicum').val('');
	$('#ecinow').val('');

	$('#ecfamcum').val('');
	$('#ecfamnow').val('');

	$('#ecpercum').val('');
	$('#ecpernow').val('');

	$('#ecistatus').val('');
	$('#ecplaceorigin').val('');

	$('#ecicum').prop('disabled', true);
	$('#ecinow').prop('disabled', true);
	//$('#ecistatus').prop('disabled', true);

	$('#updateECS').hide();
	$('#deleteECS').hide();
	$('#clearECS').hide();

	$('#addECS').show();
	$('#addAECS').show();
	$('#addCECS').show();
	$('#addMECS').show();

	$("#ecplaceorigin option:selected").prop("selected", false);
	$('#ecistatus').prop('disabled', true);
	$("#ecplaceorigin").empty();
	$('#ecplaceorigin').select2({
	        placeholder: "Select Barangay",
	        allowClear: true
	 }); 


})


$('#updateECS').click(function(){

	var origin = "";

	if(($('#ecfamnow').val() > $('#ecfamcum').val()) || ($('#ecpernow').val() > $('#ecpercum').val())){

		msgbox("Family (NOW) must not be greater than the Family (CUM) or Person (NOW) must not be greater than the Person (CUM)");

	}else{

		if($('#ecplaceorigin :selected').length < 1){

			msgbox("Place of origin must not be blank!");

		}else{

			if($('#ecistatus').val() == "Closed" || $('#ecinow').val() == "0" || $('#ecinow').val() == ""){

				$.confirm({
				    title: '<span class="red">Confirm Action!</span>',
				    content: 'You have marked this evacuation center as closed. Would you like to continue?',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-red',
				    		keys: ['enter', 'shift'],
				    		action: function(){

				    			$('#loader').show();

								for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

									if(i == 0){
										origin = $('#ecplaceorigin :selected')[i].value;
									}else{
										origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
									}

								}

								var datas = {
									id 						: evac_id,
									eciprov 				: $('#addfaminsideECprov').val(),
									ecicity 				: $('#addfaminsideECcity').val(),
									ecicum 					: $('#ecicum').val(),
									ecinow 					: $('#ecinow').val(),
									eciname 				: $('#ecname').val(),
									ecifamcum 				: $('#ecfamcum').val(),
									ecifamnow 				: $('#ecfamnow').val(),
									ecipercum 				: $('#ecpercum').val(),
									ecipernow 				: $('#ecpernow').val(),
									brgy_located 			: $('#brgylocated_ec').val(),
									eciplaceorigin 			: origin,
									ecstatus 				: $('#ecistatus').val(),
									evacuation_center_id 	: evacuation_center_id,
									ec4ps 					: $('#ec4ps').val()
								};

								var uriID = URLID();


								$.getJSON(serverip+"updateEC",datas,function(a){
									if(a == 1){

										$('#loader').hide();

										$('#addfaminsideEC').dialog("close");
										get_dromic(uriID);
										// issuesfound();
									}  
								});

				            }
				    	},
				    	cancelAction: {
				    		text: '<i class="fa fa-times-circle"></i> No',
				    		btnClass: 'btn-blue'
				    	}
				    }
				});

			}else{

				$('#loader').show();

				for(var i = 0 ; i < $('#ecplaceorigin :selected').length ; i++){

					if(i == 0){
						origin = $('#ecplaceorigin :selected')[i].value;
					}else{
						origin =  origin + "," + $('#ecplaceorigin :selected')[i].value;
					}

				}

				var datas = {
					id 						: evac_id,
					eciprov 				: $('#addfaminsideECprov').val(),
					ecicity 				: $('#addfaminsideECcity').val(),
					ecicum 					: $('#ecicum').val(),
					ecinow 					: $('#ecinow').val(),
					eciname 				: $('#ecname').val(),
					ecifamcum 				: $('#ecfamcum').val(),
					ecifamnow 				: $('#ecfamnow').val(),
					ecipercum 				: $('#ecpercum').val(),
					ecipernow 				: $('#ecpernow').val(),
					brgy_located 			: $('#brgylocated_ec').val(),
					eciplaceorigin 			: origin,
					ecstatus 				: $('#ecistatus').val(),
					evacuation_center_id 	: evacuation_center_id,
					ec4ps 					: $('#ec4ps').val()
				};

				var uriID = URLID();


				$.getJSON(serverip+"updateEC",datas,function(a){
					if(a == 1){

						$('#loader').hide();

						$('#addfaminsideEC').dialog("close");
						get_dromic(uriID);
						// issuesfound();
					}  
				});


			}

		}

	}

})

$('#deleteECS').click(function(){

	var datas = {
		id 				: evac_id
	};

	var uriID = URLID();

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
	    		keys: ['enter', 'shift'],
	    		action: function(){
	    			$.getJSON(serverip+"deleteECS",datas,function(a){
						if(a == 1){
							$('#addfaminsideEC').dialog("close");
							get_dromic(uriID);
						}  
					});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue'
	    	}
	    }
	});

})

$('#ecfamcum').keyup(function(){
	$('#ecfamnow').val($(this).val());
})

$('#ecpercum').keyup(function(){
	$('#ecpernow').val($(this).val());
})

$('#saveasnewrecord').click(function(){

	var uriID = URLID();

	var datas = {
		id : uriID
	}

	$.getJSON(serverip+"getECMain",datas,function(a){
		addnewReport(a[0].dromic_id);
	});

})

$('#errmsgnewdromicec').hide();

function savenewDromicEC(){

	var uriID = URLID();

	var datas = {
		id 					: newi,
		oid 				: uriID,
		newreporttitle 		: $('#newreporttitle').val(),
		newreportdate 		: $('#newreportdate').val(),
		newreporttime 		: $('#newreporttime').val(),
		preparedby 			: $('#preparedby').val(),
		recommendedby 		: $('#recommendedby').val(),
		approvedby 			: $('#approvedby').val(),
		preparedbypos 		: $('#preparedbypos').val(),
		recommendedbypos 	: $('#recommendedbypos').val(),
		approvedbypos 		: $('#approvedbypos').val()
	}

	if(datas.newreporttitle == "" || datas.newreportdate == "" || datas.newreporttime == "" || datas.preparedby == "" || datas.recommendedby == "" || datas.approvedby == "" || datas.preparedbypos == "" || datas.recommendedbypos == "" || datas.approvedbypos == ""){

		$('#errmsgnewdromicec').show();
		$('#errmsgnewdromicec').empty().append("<span class='fa fa-info-circle'></span> Kindly fill all fields to continue!");
		setTimeout(function(){
			$('#errmsgnewdromicec').fadeOut();
		},1500);

	}else{
		$('#addnewReport').modal('hide');

		$.getJSON(serverip+"saveasnewrecordEC",datas,function(a){

			window.location.href = serverip2+"?XCqdPsmLaQwAyt="+a;

		});
	}
}

$('#adddamass').click(function(){

	$('#adddamageasst').dialog( "open" );

	$('#upDamAss').hide();
	$('#deleteDamAss').hide();
	$('#saveDamAss').show();
	
	$('#addDamprov').prop("disabled",!1);
	$('#addDamcity').prop("disabled",!1);

	if($('#user_level_access_session').text() == 'region'){
		$('#addDamprov').val('');
		$('#addDamcity').val('');
	}

	$('#nlgu').val('');
	$('#nngo').val('');
	$('#ngo').val('');

})

function savenewDamAss(){

	var uriID = URLID();

	if($('#addDamprov').val() == "" || $('#addDamcity').val() == ""){
		msgbox("Select Province and Municipality to Continue!");
	}else{

		if($('#nlgu').val() == "" && $('#nngo').val() == "" && $('#ngo').val() == ""){
			msgbox("Kindly input cost of assistance from LGU or from NGO/NGA/Other GOs to continue!");
		}else{

			var datas = {
				disaster_title_id 	: uriID,
				municipality_id 	: $('#addDamcity').val(),
				provinceid 			: $('#addDamprov').val(),
				totally_damaged 	: $('#ntotally').val(),
				partially_damaged 	: $('#npartially').val(),
				dead 				: $('#ndead').val(),
				injured 			: $('#ninjured').val(),
				missing 			: $('#nmising').val(),
				dswd_asst 			: $('#ndswd').val(),
				lgu_asst 			: $('#nlgu').val(),
				ngo_asst 			: $('#nngo').val(),
				ogo_asst 			: $('#ngo').val()
			};

			$.getJSON(serverip+"saveasnewDamAss",datas,function(a){

				if(a == 1){
					$('#adddamageasst').dialog("close");
					alerts();
					get_dromic(uriID);
				}

			});
		}

	}

} 

var upDamAssid = []; 
$('#upDamAss').hide();

function updateDamAss(o){

	if($('#can_edit').text() == 'f'){

		msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

	}else{

		$('#loader').show();

		setTimeout(function(){
			$('#adddamageasst').dialog("open");
			$('#loader').hide();
		},300);
		
		$('#upDamAss').show();
		$('#deleteDamAss').show();
		$('#saveDamAss').hide();

		var datas = {
			id : o
		}

		upDamAssid = [];
		upDamAssid.push(o);

		$.getJSON(serverip+"getDamAss",datas,function(a){

			$('#addDamprov').val(a.rs[0].provinceid);

			$('#addDamcity').empty().append(
				"<option value=''>-- Select City/Municipality --</option>"
			);
			for(var j in a.city){
				$('#addDamcity').append(
					"<option value='"+a.city[j].id+"'>"+a.city[j].municipality_name+"</option>"
				);
			}

			$('#addDamcity').val(a.rs[0].municipality_id);			
			$('#ntotally').val(a.rs[0].totally_damaged);
			$('#npartially').val(a.rs[0].partially_damaged);
			$('#ndead').val(a.rs[0].dead);
			$('#nmising').val(a.rs[0].missing);
			$('#ninjured').val(a.rs[0].injured);
			$('#ndswd').val(a.rs[0].dswd_asst);
			$('#nlgu').val(a.rs[0].lgu_asst);
			$('#nngo').val(a.rs[0].ngo_asst);
			$('#ngo').val(a.rs[0].ogo_asst);

			$('#addDamprov').prop("disabled",1);
			$('#addDamcity').prop("disabled",1);

		});
	}

}

$('#upDamAss').click(function(){

	var uriID = URLID();

	if($('#nlgu').val() == "" && $('#nngo').val() == ""){

		msgbox("Kindly input cost of assistance from LGU or from NGO/NGA/Other GOs to continue!");

	}else{

		$.confirm({
		    title: '<span class="red">Confirm Action!</span>',
		    content: 'Do you really want to update existing data?',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		keys: ['enter', 'shift'],
		    		action: function(){

		    			var datas = {
							id 					: upDamAssid[0],
							municipality_id 	: $('#addDamcity').val(),
							provinceid 			: $('#addDamprov').val(),
							totally_damaged 	: $('#ntotally').val(),
							partially_damaged 	: $('#npartially').val(),
							dead 				: $('#ndead').val(),
							injured 			: $('#ninjured').val(),
							missing 			: $('#nmising').val(),
							dswd_asst 			: $('#ndswd').val(),
							lgu_asst 			: $('#nlgu').val(),
							ngo_asst 			: $('#nngo').val(),
							ogo_asst 			: $('#ngo').val()
						};

						$.getJSON(serverip+"updateDamAss",datas,function(a){
							if(a == 1){
								$('#adddamageasst').dialog("close");	
								get_dromic(uriID);
							}
						});

		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
		});
	}

})

$('#deleteDamAss').click(function(){

	var uriID = URLID();

	var datas = {
		id 		: upDamAssid[0]
	};

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
	    		keys: ['enter', 'shift'],
	    		action: function(){
	    			$.getJSON(serverip+"deleteDamAss",datas,function(a){
	    				if(a == 1){
	    					$('#adddamageasst').dialog("close");
	    					get_dromic(uriID);
	    				}else if(a == 2){
	    					$('#adddamageasst').dialog("close");
	    					msgbox("You are now allowed to delete this data. Kindly check if there are no fields (Damages and Assistance per Barangay and DSWD Cost of Assistance Tabs) depending on this municipality before deleting!");
	    				}
	    			});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue'
	    	}
	    }
	});

});

$('#addfamoec').click(function(){

	$('#addfamOEC').dialog("open");

	if($('#user_level_access_session').text() == 'region'){

		$('#addfamOECprov').val('');
		$('#addfamOECcity').val('');
		$('#addfamOECbrgy').val('');	

		$('#addfamOECprovO').val('');
		$('#addfamOECcityO').val('');

	}else if($('#user_level_access_session').text() == 'province'){

		$('#addfamOECcity').val('');
		$('#addfamOECbrgy').val('');

		$('#addfamOECprovO').val($('#provinceid_session').text());
		$('#addfamOECcityO').val('');

	}else if($('#user_level_access_session').text() == 'municipality'){

		$('#addfamOECprovO').val($('#provinceid_session').text());
		$('#addfamOECbrgy').val($('#municipality_id_session').text());

	}

	$('#famcumO').val('');
	$('#famnowO').val('');
	$('#personcumO').val('');
	$('#personnowO').val('');

	$('#addfamOECbrgyO').val('');

	$('#addfamOECbrgyOothers').val('');


	$('#saveFamOEC').show();
	$('#upFamOEC').hide();

	$('#addfamOECprov').prop("disabled",!1);
	$('#addfamOECcity').prop("disabled",!1);

	$('#delFamOEC').hide();

})

$('#upFamOEC').hide();
function savenewfamOEC(){

	var uriID = URLID();

	if($('#addfamOECprov').val() == "" || $('#addfamOECcity').val() == "" || $('#addfamOECbrgy').val() == ""){
		msgbox("Kindly select Host LGU [Province, Municipality and Barangay] to continue!");
	}else{

		if($('#famcumO').val() == "" || $('#famnowO').val() == "" || $('#personcumO').val() == "" || $('#personnowO').val() == ""){

			msgbox("Kindly input Family Cum, Family Now, Person Cum, Person Now to continue!");

		}else{

			if($('#addfamOECprovO').val() == "" || $('#addfamOECcityO').val() == "" || $('#addfamOECbrgyO').val() == ""){
				msgbox("Kindly select Place of Origin [Province, Municipality and Barangay] to continue!");
			}else{

				if($('#addfamOECbrgyO').val() == "OTHERS" && $('#addfamOECbrgyOothers').val() == ""){

					msgbox("Kindly input place of origin to continue!");

				}else{

					var brgy_origin  = "";

					if($('#addfamOECbrgyO').val() == "OTHERS"){
						brgy_origin = $('#addfamOECbrgyOothers').val();
					}else{
						brgy_origin = $('#addfamOECbrgyO').val();
					}

					if($('#addfamOECbrgy').val() == "NOT INDICATED"){
						var brgy_host = "0";
					}else{
						var brgy_host = $('#addfamOECbrgy').val()
					}

					var datas = {

						disaster_title_id 		: uriID,
						provinceid 				: $('#addfamOECprov').val(),	
						municipality_id 		: $('#addfamOECcity').val(),	
						family_cum 				: $('#famcumO').val(),	
						family_now 				: $('#famnowO').val(),	
						person_cum 				: $('#personcumO').val(),	
						person_now 				: $('#personnowO').val(),	
						brgy_host 				: brgy_host,
						brgy_origin 			: brgy_origin,
						province_origin 		: $('#addfamOECprovO').val(),
						municipality_origin 	: $('#addfamOECcityO').val()

					};	

					$.getJSON(serverip+"savenewfamOEC",datas,function(a){
						if(a == 1){
							alerts();
							get_dromic(uriID);
							$('#addfamOEC').dialog("close");
						}else{
							alertError();
						}
					});
				}
			}
		}

	}

}

var upfamOECid = [];
function updatefamOEC(o){

	$('#addfamOEC').dialog("open");
	$('#addfamOECprov').prop("disabled",1);
	$('#addfamOECcity').prop("disabled",1);

	$('#saveFamOEC').hide();
	$('#upFamOEC').show();
	$('#delFamOEC').show();

	upfamOECid = [];
	upfamOECid.push(o);

	var datas = {
		id : o
	};

	$.getJSON(serverip+"getFamOEC",datas,function(a){

		$('#addfamOECprov').val(a.rs[0].provinceid);

		$('#addfamOECcity').empty().append(
			"<option value=''>-- Select City/Municipality --</option>"
		);
		for(var j in a.city){
			$('#addfamOECcity').append(
				"<option value='"+a.city[j].id+"'>"+a.city[j].municipality_name+"</option>"
			);
		}
		$('#addfamOECcity').val(a.rs[0].municipality_id);

		$('#famcumO').val(isnull(a.rs[0].family_cum));
		$('#famnowO').val(isnull(a.rs[0].family_now));
		$('#personcumO').val(isnull(a.rs[0].person_cum));
		$('#personnowO').val(isnull(a.rs[0].person_now));
		$('#numbrgyO').val(isnull(a.rs[0].affbrgy));

	});

}

function updateFamOEC(){

	var uriID = URLID();

	var brgy_origin = "";

	if($('#addfamOECbrgyO').val() == "OTHERS"){
		brgy_origin = $('#addfamOECbrgyOothers').val();
	}else{
		brgy_origin = $('#addfamOECbrgyO').val();
	}

	var datas = {

		id 						: upfamOECid[0],
		provinceid 				: $('#addfamOECprov').val(),	
		municipality_id 		: $('#addfamOECcity').val(),	
		family_cum 				: $('#famcumO').val(),	
		family_now 				: $('#famnowO').val(),	
		person_cum 				: $('#personcumO').val(),	
		person_now 				: $('#personnowO').val(),	
		brgy_host 				: $('#addfamOECbrgy').val(),
		province_origin 		: $('#addfamOECprovO').val(),	
		municipality_origin 	: $('#addfamOECcityO').val(),
		brgy_origin 			: brgy_origin

	};

	$.getJSON(serverip+"updateFamOEC",datas,function(a){
		if(a == 1){
			$('#addfamOEC').dialog("close");	
			get_dromic(uriID);
		}
	});
 
}

$('#delFamOEC').click(function(){

	var uriID = URLID();

	var datas = {
		id 					: upfamOECid[0]
	};

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
	    buttons: {
	    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		keys: ['enter', 'shift'],
		    		action: function(){
		    			$.getJSON(serverip+"delFamOEC",datas,function(a){
							if(a == 1){
								$('#addfamOEC').dialog("close");	
								get_dromic(uriID);
							}
						});
		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
	});

});

$('#addcasualtybtn').click(function(){

	$('#addCasualtyModal').modal({
		backdrop: 'static',
   		keyboard: false
	});
	$('#updatecasualty').hide();
	$('#addcasualty').show();
	$('#deletecasualty').hide();

	$('#addcasualtyprov').prop("disabled",!1);
	$('#addcasualtycity').prop("disabled",!1);

})

function savenewCAS(){

	if($('#addcasualtyprov').val() == "" || $('#addcasualtycity').val() == "" || $('#addcasualtybrgy').val() == "" || $('#addcasualtylname').val() == "" || $('#addcasualtyfname').val() == "" || $("#addcasualtyage").val() == ""){
		msgbox("Following fields are required [Province, Municipality, Place of Origin, Lastname, Firstname and Age].");
	}else{

		var uriID = URLID();
		var dead 	= "";
		var missing = "";
		var injured = "";

		var iscasualty = $('[name="iscasualty"]');

		if(iscasualty[0].checked){
			dead = "t";
			missing = "f";
			injured = "f";
		}else if(iscasualty[1].checked){
			missing = "t";
			dead = "f";
			injured = "f";
		}else if(iscasualty[2].checked){
			injured = "t";
			missing = "f";
			dead = "f";
		}

		if(dead == "" || missing == "" || injured == ""){
			msgbox("Kindly indicate casualty type to continue!");
		}else{

			var datas = {
				disaster_title_id 		: uriID,
				lastname 				: $('#addcasualtylname').val(),
				firstname 				: $('#addcasualtyfname').val(),
				middle_i				: $('#addcasualtymi').val(),
				gender 					: $('#addcasualtysex').val(),
				provinceid 				: $('#addcasualtyprov').val(),
				municipalityid 			: $('#addcasualtycity').val(),
				brgyname 				: $('#addcasualtybrgy').val(),
				isdead 					: dead,
				ismissing 				: missing,
				isinjured 				: injured,
				remarks 				: $('#addcasualtyremarks').val(),
				age 					: $('#addcasualtyage').val()
			};

			$.getJSON(serverip+"savenewCAS",datas,function(a){
				if(a == 1){
					$('#addCasualtyModal').modal("hide");
					get_dromic(uriID);
				}
			});
		}
	}

}

$('#updatecasualty').hide();
var upcasualtyid = [];
function getCasualty(id){

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator");
	}else{

		$('#addCasualtyModal').modal({
			backdrop: 'static',
    		keyboard: false
		});
		$('#updatecasualty').show();
		$('#addcasualty').hide();
		$('#deletecasualty').show();

		$('#addcasualtyprov').prop("disabled",1);
		$('#addcasualtycity').prop("disabled",1);

		upcasualtyid = [];
		upcasualtyid.push(id);

		var datas = {
			id : id
		};

		$('#addcasualtycity').empty().append(
			"<option value=''>-- Select City/Municipality --</option>"
		)

		var iscasualty = $('[name="iscasualty"]');

		$.getJSON(serverip+"getCasualty",datas,function(a){

			$('#addcasualtylname').val(a.rs[0].lastname);
			$('#addcasualtyfname').val(a.rs[0].firstname);
			$('#addcasualtymi').val(a.rs[0].middle_i);
			$('#addcasualtysex').val(a.rs[0].gender);
			$('#addcasualtyprov').val(a.rs[0].provinceid);
			for(var h in a.city){
				$('#addcasualtycity').append(
					"<option value='"+a.city[h].id+"'>"+a.city[h].municipality_name+"</option>"
				)
			}
			$('#addcasualtycity').val(a.rs[0].municipalityid);
			$('#addcasualtybrgy').val(a.rs[0].brgyname);
			$('#addcasualtyremarks').val(a.rs[0].remarks);
			$('#addcasualtyage').val(a.rs[0].age);

			if(a.rs[0].isdead == 't'){
				iscasualty[0].checked = 1;
			}

			if(a.rs[0].ismissing == 't'){
				iscasualty[1].checked = 1;
			}

			if(a.rs[0].isinjured == 't'){
				iscasualty[2].checked = 1;
			}

		});
	}

}

function updateCAS(){

	var uriID = URLID();
	var dead 	= "";
	var missing = "";
	var injured = "";

	var iscasualty = $('[name="iscasualty"]');

	if(iscasualty[0].checked){
		dead = "t";
		missing = "f";
		injured = "f";
	}else if(iscasualty[1].checked){
		missing = "t";
		dead = "f";
		injured = "f";
	}else if(iscasualty[2].checked){
		injured = "t";
		missing = "f";
		dead = "f";
	}

	var datas = {
		id 						: upcasualtyid[0],
		lastname 				: $('#addcasualtylname').val(),
		firstname 				: $('#addcasualtyfname').val(),
		middle_i				: $('#addcasualtymi').val(),
		gender 					: $('#addcasualtysex').val(),
		provinceid 				: $('#addcasualtyprov').val(),
		municipalityid 			: $('#addcasualtycity').val(),
		brgyname 				: $('#addcasualtybrgy').val(),
		isdead 					: dead,
		ismissing 				: missing,
		isinjured 				: injured,
		remarks 				: $('#addcasualtyremarks').val(),
		age 					: $('#addcasualtyage').val()
	};

	$.getJSON(serverip+"updateCAS",datas,function(a){
		if(a == 1){
			$('#addCasualtyModal').modal("hide");
			get_dromic(uriID);
		}
	});

}

function deleteCAS(){

	var uriID = URLID();

	var datas = {
		id 						: upcasualtyid[0]
	};

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Deleting this data may cause discrepancy from previous reporting. Do you wish to continue?',
	    buttons: {
	    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Yes',
		    		btnClass: 'btn-red',
		    		keys: ['enter', 'shift'],
		    		action: function(){
		    			$.getJSON(serverip+"deleteCAS",datas,function(a){
							if(a == 1){
								$('#addCasualtyModal').modal("hide");
								get_dromic(uriID);
							}
						});
		            }
		    	},
		    	cancelAction: {
		    		text: '<i class="fa fa-times-circle"></i> No',
		    		btnClass: 'btn-blue'
		    	}
		    }
	});

}


// setInterval(function(){

// 	$.getJSON(serverip+"countEOpCen",function(a){

// 		$('#counteopcen').text(a['allcount']);
// 		$('#countinec').text(a['inec']);
// 		$('#countdammass').text(a['damass']);
// 		$('#countoutec').text(a['outec']);
// 		$('#countcasual').text(a['casualty']);
// 		$('#countpics').text(a['uppics']);

// 	});

// 	$('#div_cinec').load(opcenip+"pcinec/cinec");
// 	$('#div_coutec').load(opcenip+"pcoutec/coutec");
// 	$('#div_cdamass').load(opcenip+"pcdamass/cdamass");
// 	$('#div_ccasualty').load(opcenip+"pccasualty/ccasualty");
// 	$('#div_cpics').load(opcenip+"pcpics/cpics");

// },1500)

var picEnlarge = function(e){

	var datas = {
		id : e
	}

	$.getJSON(serverip+"picEnlarge",datas,function(a){
		$('#pictureModal').modal({
			backdrop: 'static',
    		keyboard: false
		});
		var image = document.getElementById('cpictureenlarge');
    	image.src = 'assets/drr_app/upload/'+a.uppicsdet[0].pics;
	});
}

$('#markreadinec').click(function(){

	$.getJSON(serverip+"markreadinec",function(a){
		console.log(1);
	});

});

$('#markreaddamass').click(function(){

	$.getJSON(serverip+"markreaddamass",function(a){
		console.log(1);
	});

});

$('#markreadoutec').click(function(){

	$.getJSON(serverip+"markreadoutec",function(a){
		console.log(1);
	});

});

$('#markreadcasualty').click(function(){

	$.getJSON(serverip+"markreadcasualty",function(a){
		console.log(1);
	});

});

$('#markreaduploads').click(function(){

	$.getJSON(serverip+"markreaduploads",function(a){
		console.log(1);
	});

});

// setInterval(function(e){

// 	newMessage();
// 	//viewMessage();
// 	//getquake();

// 	$.getJSON(serverip+"countEOpCen",function(a){
// 		$('#counteopcen').text(a['allcount']);
// 	});


// },3500)

var peopcen = $('#markreadinec');

if(peopcen.length){

	setInterval(function(e){

		$.getJSON(serverip+"countEOpCen",function(a){

			$('#counteopcen').text(a['allcount']);
			$('#countinec').text(a['inec']);
			$('#countdammass').text(a['damass']);
			$('#countoutec').text(a['outec']);
			$('#countcasual').text(a['casualty']);
			$('#countpics').text(a['uppics']);
			$('#ddamage').text(a['cdamage']);

		});

		notificationINEC();
		notificationOUTEC();
		notificationCASUALTY();
		notificationAssistance();
		notificationDamages();
		notificationPic();


	},3500)

	$('#div_cinec').load(opcenip+"pcinec/cinec");
	$('#div_coutec').load(opcenip+"pcoutec/coutec");
	$('#div_cdamass').load(opcenip+"pcdamass/cdamass");
	$('#div_ccasualty').load(opcenip+"pccasualty/ccasualty");
	$('#div_cpics').load(opcenip+"pcpics/cpics");
	$('#div_ddamage').load(opcenip+"pcdamage/cdamage");

}

function notificationINEC(){
	$.getJSON(opcenip+"cinecnotif",function(a){
		if(a.length > 0){
			for(var i in a){
			      var body = "Evacuation Alert: "+a[i].evacuation_name+" @"+a[i].municipality_name+", "+ a[i].province_name;
			      notify(body,"eopcen");
			}
		}
	});
}

function notificationOUTEC(){
	$.getJSON(opcenip+"coutecnotif",function(a){
		if(a.length > 0){
			for(var i in a){
				var body = "Outside Evacuation Alert: F: "+ a[i].fam_no+"/ P: "+a[i].person_no+" @ "+a[i].municipality_name+", "+a[i].province_name;
			    notify(body,"eopcen");
			}
		}
	});
}

function notificationCASUALTY(){
	$.getJSON(opcenip+"casualtynotif",function(a){
		if(a.length > 0){
			for(var i in a){
		      var body = "Casualty Alert: "+a[i].gender+ "- "+ a[i].lname+ ", "+a[i].fname+ " from "+a[i].brgyname+", "+a[i].municipality_name;
		      notify(body,"eopcen");
			}
		}
	});
}

function notificationAssistance(){
	$.getJSON(opcenip+"assistnotif",function(a){
		if(a.length > 0){
			for(var i in a){
			      var body = "New Cost of Assistance Alert!";
			      notify(body,"eopcen");
			}
		}
	});
}

function notificationPic(){
	$.getJSON(opcenip+"picnotif",function(a){
		if(a.length > 0){
			for(var i in a){
				var body =  "New Photo Uploaded!";
			  	notify(body,"eopcen");
			}
		}
	});
}

function notificationDamages(){
	$.getJSON(opcenip+"damagesnotif",function(a){
		if(a.length > 0){
			for(var i in a){
				var body =  "Damages Alert....";
			  	notify(body,"eopcen");
			}
		}
	});
}

// function newMessage(){

// 	$.getJSON(opcenip+"newMessage",function(a){
// 		if(a.length > 0){
// 			if(a[0].msgcount > 0){
// 				var body =  "Alert! " + a[0].msgcount + " message(s) received!";
// 				notify(body,"inbox");
// 			}
// 		}
// 	});

// }

var divinbox = $('#divinbox');

if(divinbox.length){

	$.getJSON(serverip+"getDromic",function(a){
		for(var h in a){
			$('#disasterreportstitle').append(
				"<option value='"+a[h].id+"'>"+a[h].disaster_name+"</option>"
			)
		}
	});

	var finmsg = [];
	viewMessage();
	$('#disasterreportstitlelabel').hide();
}

function viewMessage(){

	var msg = "";
	var i = 0;

	var msg2 = "";
	var msg3 = "";
	var msg4 = "";
	var msg5 = "";

	var messages = [];
	var msgx = [];
	var msgy = [];

	$.getJSON(opcenip+"viewMessage",function(a){

		var bh = a;

		for(var i = 0 ; i < a.length ; i++){

			msg = a[i].sms_text;
			msg = msg.split("|");

			msg2 = msg[msg.length-1];

			msgx.push({
				message 	: a[i].sms_text,
				time 		: a[i].sent_dt,
				number 		: a[i].sender_number,
				ref_code 	: msg2
			})

		}

		// console.log(msgx);

		for(var k  = 0 ; k < msgx.length ; k++){

			if(msgx[k].message.substr(0,2) == "E|" || msgx[k].message.substr(0,2) == "X|" || msgx[k].message.substr(0,2) == "O|"){

				if(msgx[k].message.length <= 100){

					msgy.push({
						message 	: msgx[k].message,
						time 		: msgx[k].time,
						number 		: msgx[k].number
					})
					
				}else{
					for(var l  = 0 ; l < msgx.length ; l++){
						if(k == l){
							
							var fstr = "";
							var estr = "";

							// console.log(msgx[l].message);

							var str2 = msgx[l].message;
							str2 = str2.split("|");

							for(var r  = 0 ; r < str2.length ; r++){
								if(r == 0){
									estr = estr + "" + str2[0];
								}else{
									estr = estr + "|" + str2[r];
								}
							}

							msgy.push({
								message 	: fstr + "" + estr,
								time 		: msgx[k].time,
								number 		: msgx[k].number
							})


						}else{

							if(msgx[k].ref_code == msgx[l].ref_code){

								var str1 = msgx[k].message;
								str1 = str1.split("|");

								var str2 = msgx[l].message;
								str2 = str2.split("|");

								var fstr = "";
								var estr = "";

								for(var g  = 0 ; g < str1.length-1 ; g++){
									if(g == 0){
										fstr = fstr + "" + str1[0];
									}else{
										fstr = fstr + "|" + str1[g];
									}
								}

								for(var r  = 0 ; r < str2.length-1 ; r++){
									if(r == 0){
										estr = estr + "" + str2[0];
									}else{
										estr = estr + "|" + str2[r];
									}
								}

								msgy.push({
									message 	: fstr + "" + estr,
									time 		: msgx[k].time,
									number 		: msgx[k].number
								})
								break;
							}
						}
					}
				}
			}

		}

		for(i = 0 ; i < msgy.length ; i++){
			messages.push({
				message 	: msgy[i].message,
				time 		: msgy[i].time,
				number 		: msgy[i].number
			});
		}

		for(i = 0 ; i < a.length ; i++){

			if(a[i].sms_text.substr(0,2) != "E|" && a[i].sms_text.substr(0,2) != "X|" && a[i].sms_text.substr(0,2) != "O|"){

				messages.push({
					message 	: a[i].sms_text,
					time 		: a[i].sent_dt,
					number 		: a[i].sender_number
				});
			}

		}

		for(var m = 0 ; m < messages.length ; m++){

			if(messages[m].message.substr(0,2) == "E|" || messages[m].message.substr(0,2) == "C|" || messages[m].message.substr(0,2) == "X|" || messages[m].message.substr(0,2) == "D|" || messages[m].message.substr(0,2) == "O|"){
				finmsg.push({
					id 			: m,
					message 	: messages[m].message,
					time 		: messages[m].time,
					number 		: messages[m].number
				});
			}

		}

		af = finmsg.sort(function(obj1, obj2) {
			// Ascending: first age less than the previous
			return new Date(obj2.time) - new Date(obj1.time);

		});

		//console.log(af);
		// for(var n = 0 ; n < finmsg_r.length ; n++){

		// }

		$('#divinbox').empty();

		for(var o = 0 ; o < finmsg.length ; o++){

			var fmsg = finmsg[o].message;
			var fmsg = fmsg.split("|");



			if(finmsg[o].message.substr(0,2) == "E|"){

///////////////////////////////////////////////////////////////////////

				$('#msg_ecstatus tbody').append(
					"<tr>"+
						"<td>"+fmsg[8]+"</td>"+
						"<td>"+fmsg[1]+"</td>"+
						"<td>"+fmsg[2]+"</td>"+
						"<td>"+fmsg[9]+"</td>"+
						"<td>"+fmsg[3]+"</td>"+
						"<td>"+fmsg[4]+"</td>"+
						"<td>"+fmsg[5]+"</td>"+
						"<td>"+fmsg[6]+"</td>"+
						"<td>"+fmsg[7]+"</td>"+
						"<td>"+finmsg[o].time+"</td>"+
						"<td>"+fmsg[10]+"</td>"+
						"<td>"+
							//"<button type='button' style='text-align:center' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Add to disaster report' onclick='AddtoDisasterReport("+finmsg[o].id+")'><span class='fa fa-plus-circle'></span></button>"+
						"</td>"+
					"</tr>"
				)

///////////////////////////////////////////////////////////////////////

				$('#divinbox').append(
					"<div class='col-sm-8'>"+
						"<div class='alert alert-info' style='text-align: left'>"+

								" <h4> <strong> Evacuation Center Status </strong> </h4> " +

								"Evacuation Center Name : " + fmsg[3] +
								"<br> Province Name:  " + fmsg[1] +
								"<br> Municipality Name: " + fmsg[2] +
								"<br> Brgy. Located (EC) : " + fmsg[9] +
								"<br> EC Status : " + fmsg[4] +
								"<br> Families Affected : " + fmsg[5] +
								"<br> Persons Affected : " + fmsg[6] +
								"<br> Place of Origin (Evacuees) : " + fmsg[7] +
						"</div>"+
					"</div>"
				)

				$('#divinbox').append(
					"<div class='col-sm-4'>"+
						"<small class='pull-right'> Disaster Name: " + fmsg[8] + "</small>" +
						"<br> <small class='pull-right'> Date/Time: " + finmsg[o].time + "</small>" +
						"<br> <small class='pull-right'> From: " + isnull(fmsg[10]) + " | " +  "+" + finmsg[o].number + "</small>"+
					"</div>"
				)



			}else if(finmsg[o].message.substr(0,2) == "X|"){

//////////////////////////////////////////////////////////////////////////////

				$('#msg_castatus tbody').append(
					"<tr>"+
						"<td>"+fmsg[1]+"</td>"+
						"<td>"+fmsg[2]+"</td>"+
						"<td>"+fmsg[3]+"</td>"+
						"<td>"+fmsg[4]+"</td>"+
						"<td>"+fmsg[5]+"</td>"+
						"<td>"+fmsg[6]+"</td>"+
						"<td>"+fmsg[7]+"</td>"+
						"<td>"+fmsg[8]+"</td>"+
						"<td>"+fmsg[9]+"</td>"+
						"<td>"+fmsg[10]+"</td>"+
						"<td>"+finmsg[o].time+"</td>"+
						"<td>"+fmsg[11]+"</td>"+
						"<td>"+
							//"<button type='button' style='text-align:center' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Add to disaster report' onclick='AddtoDisasterReport("+finmsg[o].id+")'><span class='fa fa-plus-circle'></span></button>"+
						"</td>"+
					"</tr>"
				)

//////////////////////////////////////////////////////////////////////////////

				$('#divinbox').append(
					"<div class='col-sm-8'>"+
						"<div class='alert alert-info' style='text-align: left'>"+
								" <h4> <strong> Casualty Status </strong> </h4> " +
								"Fullname : " + fmsg[5] + " " + fmsg[6] + " " + fmsg[4] +
								"<br> Location: " + fmsg[3] + ", " + fmsg[2] +
								"<br> Age : " + fmsg[7] +
								" | Sex : " + fmsg[8] +
								"<br> Place of Origin : " + fmsg[9] +
								"<br> Status : " + fmsg[10] +
						"</div>"+
					"</div>"
				)

				$('#divinbox').append(
					"<div class='col-sm-4'>"+
						"<small class='pull-right'> Disaster Name: " + fmsg[1] + "</small>" +
						"<br> <small class='pull-right'> Date/Time: " + finmsg[o].time + "</small>" +
						"<br> <small class='pull-right'> From: " + isnull(fmsg[11]) + " | " +  "+" + finmsg[o].number + "</small>"+
					"</div>"
				)

			}else if(finmsg[o].message.substr(0,2) == "C|"){

////////////////////////////////////////////////////////////////////////
				$('#msg_coststatus tbody').append(
					"<tr>"+
						"<td>"+fmsg[1]+"</td>"+
						"<td>"+fmsg[2]+"</td>"+
						"<td>"+fmsg[3]+"</td>"+
						"<td>"+fmsg[4]+"</td>"+
						"<td>"+fmsg[5]+"</td>"+
						"<td>"+finmsg[o].time+"</td>"+
						"<td>"+fmsg[6]+"</td>"+
						"<td>"+
							//"<button type='button' style='text-align:center' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Add to disaster report' onclick='AddtoDisasterReport("+finmsg[o].id+")'><span class='fa fa-plus-circle'></span></button>"+
						"</td>"+
					"</tr>"
				)
////////////////////////////////////////////////////////////////////////

				$('#divinbox').append(
					"<div class='col-sm-8'>"+
						"<div class='alert alert-info' style='text-align: left'>"+
								" <h4> <strong> Cost of Assistance Status </strong> </h4> " +
								"Province Name : " + fmsg[2] +
								"<br> Municipality Name: " + fmsg[3] + 
								"<br> Cost of Assistance from LGU : " + fmsg[4] +
								"<br> Cost of Assistance from NGO/NGA/Other GOs : " + fmsg[5] +
						"</div>"+
					"</div>"
				)

				$('#divinbox').append(
					"<div class='col-sm-4'>"+
						"<small class='pull-right'> Disaster Name: " + fmsg[1] + "</small>" +
						"<br> <small class='pull-right'> Date/Time: " + finmsg[o].time + "</small>" +
						"<br> <small class='pull-right'> From: " + isnull(fmsg[6]) + " | " +  "+" + finmsg[o].number + "</small>" +
					"</div>"
				)

			}else if(finmsg[o].message.substr(0,2) == "O|"){
//////////////////////////////////////////////////////////////////////////
				$('#msg_outecstatus tbody').append(
					"<tr>"+
						"<td>"+fmsg[6]+"</td>"+
						"<td>"+fmsg[1]+"</td>"+
						"<td>"+fmsg[2]+"</td>"+
						"<td>"+fmsg[3]+"</td>"+
						"<td>"+fmsg[4]+"</td>"+
						"<td>"+fmsg[5]+"</td>"+
						"<td>"+finmsg[o].time+"</td>"+
						"<td>"+fmsg[7]+"</td>"+
						"<td>"+fmsg[8]+"</td>"+
						"<td>"+fmsg[9]+"</td>"+
						"<td>"+fmsg[10]+"</td>"+
						"<td>"+
							//"<button type='button' style='text-align:center' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Add to disaster report' onclick='AddtoDisasterReport("+finmsg[o].id+")'><span class='fa fa-plus-circle'></span></button>"+
						"</td>"+
					"</tr>"
				)
//////////////////////////////////////////////////////////////////////////
				
				$('#divinbox').append(
					"<div class='col-sm-8'>"+
						"<div class='alert alert-info' style='text-align: left'>"+
								" <h4> <strong> Outside Evacuation Status </strong> </h4> " +
								"Host LGU (Place of Displacemnet) : " + fmsg[3] + ", " + fmsg[2] + ", " + fmsg[1] +
								"<br> Affected Families: " + fmsg[4] + 
								"<br> Affected Persons : " + fmsg[5] +
								"<br> Place of Origin (Evacuees) : " + fmsg[9] + ", " + fmsg[8] + ", " + fmsg[7] +
								
						"</div>"+
					"</div>"
				)

				$('#divinbox').append(
					"<div class='col-sm-4'>"+
						"<small class='pull-right'> Disaster Name: " + fmsg[6] + "</small>" +
						"<br> <small class='pull-right'> Date/Time: " + finmsg[o].time + "</small>" +
						"<br> <small class='pull-right'> From: " + isnull(fmsg[10]) + " | " +  "+" + finmsg[o].number + "</small>" +
					"</div>"
				)
	

			}else if(finmsg[o].message.substr(0,2) == "D|"){
////////////////////////////////////////////////////////////////////////
				$('#msg_damstatus tbody').append(
					"<tr>"+
						"<td>"+fmsg[3]+"</td>"+
						"<td>"+fmsg[1]+"</td>"+
						"<td>"+fmsg[2]+"</td>"+
						"<td>"+fmsg[4]+"</td>"+
						"<td>"+fmsg[5]+"</td>"+
						"<td>"+fmsg[6]+"</td>"+
						"<td>"+fmsg[7]+"</td>"+
						"<td>"+fmsg[8]+"</td>"+
						"<td>"+fmsg[9]+"</td>"+
						"<td>"+finmsg[o].time+"</td>"+
						"<td>"+fmsg[10]+"</td>"+
						"<td>"+
							//"<button type='button' style='text-align:center' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Add to disaster report' onclick='AddtoDisasterReport("+finmsg[o].id+")'><span class='fa fa-plus-circle'></span></button>"+
						"</td>"+
					"</tr>"
				)
////////////////////////////////////////////////////////////////////////

				$('#divinbox').append(
					"<div class='col-sm-8'>"+
						"<div class='alert alert-info' style='text-align: left'>"+
								" <h4> <strong> Damages Status </strong> </h4> " +
								"Province Name : " + fmsg[1] +
								"<br> Municipality Name: " + fmsg[2] + 
								"<br> Barangay : " + fmsg[4] +
								"<br> Partially Damaged : " + fmsg[5] + " | " + "Totally Damaged : " + fmsg[6] +
								"<br> Dead : " + fmsg[7] + " | " + "Missing : " + fmsg[8] + " | " + "Injured : " + fmsg[9] + 
								
						"</div>"+
					"</div>"
				)

				$('#divinbox').append(
					"<div class='col-sm-4'>"+
						"<small class='pull-right'> Disaster Name: " + fmsg[3] + "</small>" +
						"<br> <small class='pull-right'> Date/Time: " + finmsg[o].time + "</small>" +
						"<br> <small class='pull-right'> From: " + isnull(fmsg[10]) + " | " +  "+" + finmsg[o].number + "</small>" +
					"</div>"
				)

			}

		}

		$('[data-toggle="tooltip"]').tooltip();

		$('#msg_ecstatus').DataTable({
			pageLength 		: 5,
			bLengthChange 	: !1
		});

		$('#msg_castatus').DataTable({
			pageLength 		: 5,
			bLengthChange 	: !1
		});

		$('#msg_coststatus').DataTable({
			pageLength 		: 5,
			bLengthChange 	: !1
		});

		$('#msg_outecstatus').DataTable({
			pageLength 		: 5,
			bLengthChange 	: !1
		});

		$('#msg_damstatus').DataTable({
			pageLength 		: 5,
			bLengthChange 	: !1
		});

	});

}

function AddtoDisasterReport(i){

	$('#AddtoDisasterReport').modal({
		backdrop: 'static',
    	keyboard: false
	});
	$('#savetodisasterreport').val(i);

}

$('#savetodisasterreport').click(function(){

	var i = $('#savetodisasterreport').val();

	for(var t = 0 ; t < finmsg.length ; t++){
		if(i == finmsg[t].id){
			var text = finmsg[t].message;
			break;
		}
	}

	text = text.split("|");

	var datas = {
		data : {
			dromic_id 	: $('#disasterreportstitle').val(),
			message 	: text	
		}
	}

	if(datas.data.dromic_id == ""){
		$('#disasterreportstitlelabel').show();
		setTimeout(function(){
			$('#disasterreportstitlelabel').hide(500);
		},2000)
	}else{

		$.getJSON(serverip+"savetoDisasterReport",datas,function(a){
			if(a == 0){
				msgbox("No latest report created with the selected disaster title.")
			}else{
				console.log(1);
			}
		})

	}


})

$('#exporttoexcel').click(function(){
	if(toexcel == 1){
		tbl = "tbl_masterquery_revss";
		name = "DROMIC Master Excel";
	}else if(toexcel == 2){
		tbl = "tbl_damage_assistances";
		name = "Damages and Assistance";
	}else if(toexcel == 3){
		tbl = "tbl_evac_statss";
		name = "Inside Evacuation Status";
	}else if(toexcel == 4){
		tbl = "tbl_evacuation_stats_outsides";
		name = "Outside Evacuation Status";
	}else if(toexcel == 5){
		tbl = "tbl_ccasualties";
		name = "Casualties";
	} 

	ExportToExcel(tbl,name);
})

$('#toexcel1').click(function(){
	toexcel = 1;
})

$('#toexcel2').click(function(){
	toexcel = 2;
})

$('#toexcel3').click(function(){
	toexcel = 3;
})

$('#toexcel4').click(function(){
	toexcel = 4;
})

$('#toexcel5').click(function(){
	toexcel = 5;
})


function ExportToExcel(tableid,downloadname) {
    var tab_text = "<table><tr>";
    var textRange; var j = 0;
    tab = document.getElementById(tableid);//.getElementsByTagName('table'); // id of table
    if (tab==null) {
        return false;
    }
    if (tab.rows.length == 0) {
        return false;
    }

    for (j = 0 ; j < tab.rows.length ; j++) {
        tab_text = tab_text + tab.rows[j].innerHTML + "</tr>";
        //tab_text=tab_text+"</tr>";
    }

    tab_text = tab_text + "</table>";
    tab_text = tab_text.replace(/<A[^>]*>|<\/A>/g, "");//remove if u want links in your table
    tab_text = tab_text.replace(/<img[^>]*>/gi, ""); // remove if u want images in your table
    tab_text = tab_text.replace(/<input[^>]*>|<\/input>/gi, ""); // reomves input params

    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))      // If Internet Explorer
    {
        txtArea1.document.open("txt/html", "replace");
        txtArea1.document.write(tab_text);
        txtArea1.document.close();
        txtArea1.focus();
        sa = txtArea1.document.execCommand("SaveAs", true, "download.xls");
    }
    else                 //other browser not tested on IE 11
        //sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));
        try {
            var blob = new Blob([tab_text], { type: "application/vnd.ms-excel" });
            window.URL = window.URL || window.webkitURL;
            link = window.URL.createObjectURL(blob);
            a = document.createElement("a");
            if (document.getElementById("caption")!=null) {
                a.download=document.getElementById("caption").innerText;
            }
            else
            {
                a.download = downloadname + " " + asof;
            }

            a.href = link;

            document.body.appendChild(a);

            a.click();

            document.body.removeChild(a);
        } catch (e) {
        }


    return false;
    //return (sa);
}

var toExcelTable = function(tbl,name){

	$("#"+tbl).table2excel({
		exclude 	: ".noExl",
		name 		: name,
		filename 	: name+"@"+asof
	});

}

// Mask 

$('#newreporttime').mask('00:00 AA');
$('#newreportdate').mask('0000-00-00')

$('#ecicum').mask('0');
$('#ecinow').mask('0');

function getquake(){

	$.getJSON(serverip+"get_allquake",function(a){
		if(a['quake'].length > 0){
			for(var j in a['quake']){
			  var body = "Earthquake Alert: Location: "+a['quake'][j].location+" Mag.: "+a['quake'][j].magnitude+" Depth: "+a['quake'][j].depth;
			  notify(body,"earthquake");
			}
		}
	});

}

var tblearthquake = $('#tblearthquake');
if(tblearthquake.length){
	getEarthquake();
}

function totime(item){
	var a = new Date(item);
	return a.timeNow();
}

Date.prototype.timeNow = function(){

    return ((this.getHours() < 10)?"0":"") + ((this.getHours()>12)?(this.getHours()-12):this.getHours()) +":"+ ((this.getMinutes() < 10)?"0":"") + this.getMinutes() +":"+ ((this.getSeconds() < 10)?"0":"") + this.getSeconds() + ((this.getHours()>=12)?(' PM'):' AM'); 

};

function getEarthquake(){

	$.getJSON(serverip+"getEarthquake",function(a){
		for(var g in a){
			$('#tblearthquake tbody').append(
				"<tr>"+
					"<td style='font-size:12px'>"+(Number(g)+1)+"</td>"+
					"<td style='font-size:12px'>"+a[g].location.toUpperCase()+"</td>"+
					"<td style='font-size:12px'>"+a[g].depth+"</td>"+
					"<td style='font-size:12px'>"+a[g].latitude+"</td>"+
					"<td style='font-size:12px'>"+a[g].longitude+"</td>"+
					"<td style='font-size:12px'>"+a[g].magnitude+"</td>"+
					"<td style='font-size:12px'>"+todate(a[g].date_time)+"</td>"+
					"<td style='font-size:12px'>"+totime(a[g].date_time)+"</td>"+
					"<td><button class='btn btn-danger btn-xs' onclick='viewOnMap("+a[g].latitude+","+a[g].longitude+")'><i class='fa fa-eye'></i></button></td>"+
				"</tr>"
			)
		}
		$('#tblearthquake').DataTable({
			pageLength : 20,
			bLengthChange : !1
		});
	})

}

function weathertextforecast(){

	$.getJSON(serverip+"getWeather",function(response){

		console.log(response);

		$('#issuedat').append(todate(" "+response.result[1].date)+" "+response.result[1].time);
		$('#weathertextforecast').append(
		    "<p style='text-align:justify'>"+response.result[1].filipino+"</p> <hr class='line'>"+
		    "<p style='text-align:justify'>"+response.result[1].forecast+"</p> <hr class='line'>"+
		    "<p style='text-align:justify'>"+response.result[1].synopsis+"</p> <hr class='line'>"+
		    "<p style='text-align:justify'>"+response.result[1].sun_first+"</p>"+
		    "<p style='text-align:justify'>"+response.result[1].sun_second+"</p>"+
		    "<p style='text-align:justify'>"+response.result[1].moon_first+"</p>"+
		    "<p style='text-align:justify'>"+response.result[1].moon_second+"</p>"
		)

		$('#weathertextforecasts').append(
		    "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].filipino+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].forecast+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].synopsis+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].sun_first+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].sun_second+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].moon_first+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"+
	         "<li>"+
	            "<div class='block'>"+
	              "<div class='block_content'>"+
	                "<h2 class='title'>"+
	                    "<a>"+response.result[1].moon_second+"</a>"+
	                "</h2>"+
	              "</div>"+
	            "</div>"+
	         "</li>"
		)

	})

}


var weathertextforecasts = $('#weathertextforecast');
var wcast = $('#weathertextforecasts');	
if(weathertextforecasts.length || wcast.length){
	weathertextforecast();
}


windowHeight = $(window).height();

$('#weatherradars').css('min-height', Number(windowHeight)-100);
$('#picmap').css('min-height', Number(windowHeight)-300);

// Desktop Notifications ===========================================================================================================================================

function notify(body,page){

	if (Notification.permission !== "granted"){
		Notification.requestPermission();
	}else {
	var notification = new Notification('DSWD DROMIC', {
	  icon: base_url+"images/dromic1.jpg",
	  body:body,
	});

	notification.onclick = function () {
	  window.open(base_url+page);
	  this.close();
	};

	}

}

$('#map').css('min-height', Number(windowHeight)-150);
$('#drrmap').css('min-height', Number(windowHeight)-50);

$('#animate').click(function(){

	var animate = $(this);

	if(animate[0].checked == 1){
		$('#weatherobj').attr('data',"http://121.58.193.148/repo/mtsat-colored/24hour/latest-him-colored.gif");
		$('#toanimate').attr('title',"Click to stop animation of weather image and view latest weather image.");
	}else{
		$('#weatherobj').attr('data',"http://121.58.193.148/repo/mtsat-colored/24hour/1-him-colored.png");
		$('#toanimate').attr('title',"Click to view animation of weather image and view recent weather images.");
	}

})

var radarphp = $('#radarphp');

$('#addnew_qrtsstaff').click(function(){
	$('#tbl_qrtsstaff tbody').append(
		"<tr>"+
			"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Support Staff' name='qrtsstaff'> </td>"+
      		"<td> <button type='button' class='btn btn-primary btn-sm removeSStaff'><span class='fa fa-minus'></button> </td>"+
		"</tr>"
	)
})

$('#addnew_qrtdriver').click(function(){
	$('#tbl_qrtdriver tbody').append(
		"<tr>"+
			"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Driver' name='qrtdriver'> </td>"+
      		"<td> <button type='button' class='btn btn-warning btn-sm removeDriver'><span class='fa fa-minus'></button> </td>"+
		"</tr>"
	)
})

$("#tbl_qrtsstaff").on('click','.removeSStaff',function(){

	var rowCount = $('#tbl_qrtsstaff >tbody >tr').length;

	if(rowCount <= 1){
		alertRowErr();
	}else{
		if($(this).val() != ""){
			var datas = {
				id : $(this).val()
			}
			$.confirm({
			    title: '<span class="red">Confirm Action!</span>',
			    content: 'Are you sure you want to delete this data? This action cannot be undone.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Yes',
			    		btnClass: 'btn-red',
			    		keys: ['enter', 'shift'],
			    		action: function(){
			    			$.getJSON(serverip+"deleteQRTTeamDriverStaff",datas,function(a){
			    				QRTTeams();
			    			});
			            }
			    	},
			    	cancelAction: {
			    		text: '<i class="fa fa-times-circle"></i> No',
			    		btnClass: 'btn-blue'
			    	}
			    }
			});
		}else{
			$(this).closest('tr').remove();
		}
	}

});

$("#tbl_qrtdriver").on('click','.removeDriver',function(){
	var rowCount = $('#tbl_qrtdriver >tbody >tr').length;
	if(rowCount <= 1){
		alertRowErr();
	}else{
		if($(this).val() != ""){
			var datas = {
				id : $(this).val()
			}
			$.confirm({
			    title: '<span class="red">Confirm Action!</span>',
			    content: 'Are you sure you want to delete this data? This action cannot be undone.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Yes',
			    		btnClass: 'btn-red',
			    		keys: ['enter', 'shift'],
			    		action: function(){
			    			$.getJSON(serverip+"deleteQRTTeamDriverStaff",datas,function(a){
			    				QRTTeams();
			    			});
			            }
			    	},
			    	cancelAction: {
			    		text: '<i class="fa fa-times-circle"></i> No',
			    		btnClass: 'btn-blue'
			    	}
			    }
			});
		}else{
			$(this).closest('tr').remove();
		}
	}
});

$('#qrtteamnumber').change(function(){

	var datas = {
		number : $(this).val()
	}

	$.getJSON(serverip+"checkQRTNumber",datas,function(response){
		if(response.length >= 1){
			alertQRTNumberExist();
			$('#qrtteamnumber').val("");
		}
	})

})	

$('#savedata_qrt').click(function(){

	var staff = $('[name="qrtsstaff"]');
	var driver = $('[name="qrtdriver"]');

	var qstaff = [];
	var qdriver = [];

	if($('#qrtteamnumber').val() == "" || $('#qrtleader').val() == "" || $('#qrtstatistician').val() == ""){
		alertnoQRTNumber();
	}else{

		for(var i = 0 ; i < staff.length ; i++){
			qstaff.push({
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: staff[i].value,
				qrt_position_id 	: 4
			});
		}

		for(var i = 0 ; i < driver.length ; i++){
			qdriver.push({
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: driver[i].value,
				qrt_position_id 	: 5
			});
		}

		var datas = {
			leader : {
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: $('#qrtleader').val(),
				qrt_position_id 	: 1,
			},
			statistician : {
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: $('#qrtstatistician').val(),
				qrt_position_id 	: 2,
			},
			smu : {
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: $('#qrtsmu').val(),
				qrt_position_id 	: 6,
			},
			aa : {
				qrt_team_id 		: $('#qrtteamnumber').val(),
				fullname 			: $('#qrtaa').val(),
				qrt_position_id 	: 3,
			},
			qstaff,
			qdriver
		}

		$.getJSON(serverip+"saveQRT",datas,function(response){
			if(response == 1){
				alerts();
				$('#resetdata_qrt').trigger('click');
			}else{
				alertError();
			}
		})
	}

})

$('#updatedata_qrt').click(function(){

	var staff = $('[name="qrtsstaff"]');
	var driver = $('[name="qrtdriver"]');

	var qstaff = [];
	var qdriver = [];

	if($('#qrtteamnumber').val() == "" || $('#qrtleader').val() == "" || $('#qrtstatistician').val() == ""){
		alertnoQRTNumber();
	}else{

		for(var i = 0 ; i < staff.length ; i++){
			qstaff.push({
				fullname 			: staff[i].value,
				id 					: staff[i].title
			});
		}

		for(var i = 0 ; i < driver.length ; i++){
			qdriver.push({
				fullname 			: driver[i].value,
				id 					: driver[i].title
			});
		}

		var datas = {
			leader : {
				fullname 			: $('#qrtleader').val(),
				id 					: $('#qrtleader').attr("title")
			},
			statistician : {
				fullname 			: $('#qrtstatistician').val(),
				id 					: $('#qrtstatistician').attr("title")
			},
			smu : {
				fullname 			: $('#qrtsmu').val(),
				id 					: $('#qrtsmu').attr("title")
			},
			aa : {
				fullname 			: $('#qrtaa').val(),
				id 					: $('#qrtaa').attr("title")
			},
			qstaff,
			qdriver
		}

		$.getJSON(serverip+"updateQRT",datas,function(response){
			if(response == 1){
				alerts();
				QRTTeams();
			}else{
				alertError();
			}
		})
	}

})
var qrtteamspanel = $('#qrtteamspanel');
if(qrtteamspanel.length){
	QRTTeams();
}

function QRTTeams(){

	$('#qrtteamspanel').empty();

	$.getJSON(serverip+"getAllQRT",function(response){
		for(var i = 0; i < response['team'].length ; i++){
			if(i == 0){
				var ins = "in";
			}else{
				var ins  = "out";
			}
			$('#qrtteamspanel').append(
				"<div class='panel panel-primary' style='border-radius:0px'>"+
			      "<div class='panel-heading' style='border-radius:0px'>"+
			        "<h4 class='panel-title'>"+
			          "<a data-toggle='collapse' data-parent='#qrtteamspanel' href='#collapse"+response['team'][i].id+"'>"+response['team'][i].qrt_team+"</a>"+
			        "</h4>"+
			      "</div>"+
			      "<div id='collapse"+response['team'][i].id+"' class='panel-collapse collapse "+ins+"'>"+
			        "<div class='panel-body'>"+
			        	"<table id='tbl_qrt"+response['team'][i].id+"' class='table'>"+
			        		"<thead>"+
			        			"<tr>"+
			        				"<th> Name </th>"+
			        				"<th> Role </th>"+
			        			"</tr>"+
			        		"</thead>"+
			        		"<tbody>"+
			        		"</tbody>"+
			        	"</table>"+
			        "</div>"+
			        "<div class='panel-footer'>"+
			        	"<button type='button' class='btn btn-danger btn-sm' onclick='UpdateQRTTeam("+response['team'][i].id+")'><i class='fa fa-edit'></i> Update QRT Team Composition</button>"+
			        "</div>"+ 
			      "</div>"+
			    "</div>"
			)
		}

		for(var i = 0; i < response['members'].length ; i++){
			$('#tbl_qrt'+response['members'][i].qrt_team_id+' tbody').append(
				"<tr>"+
    				"<td>"+response['members'][i].fullname+"</td>"+
    				"<td>"+response['members'][i].position_name+"</td>"+
    			"</tr>"
			)
		}

	});

}

function UpdateQRTTeam(id){

	var datas = {
		id 	: id
	};

	$.getJSON(serverip+"getSpecQRT",datas,function(a){
		$('#tbl_qrtsstaff tbody').empty();
		$('#tbl_qrtdriver tbody').empty();
		$('#qrtteamnumber').val(a['members'][0].qrt_team_id);

		$('#qrtteamnumber').attr("disabled",1);
		$('#savedata_qrt').attr("disabled",1);
		$('#updatedata_qrt').attr("disabled",!1);
		$('#deletedata_qrt').attr("disabled",!1);

		for(var i in a['members']){
			if(a['members'][i].qrt_position_id == 1){
				$('#qrtleader').val(a['members'][i].fullname);
				$('#qrtleader').attr("title",a['members'][i].id);
			}
			if(a['members'][i].qrt_position_id == 2){
				$('#qrtstatistician').val(a['members'][i].fullname);
				$('#qrtstatistician').attr("title",a['members'][i].id);
			}
			if(a['members'][i].qrt_position_id == 6){
				$('#qrtsmu').val(a['members'][i].fullname);
				$('#qrtsmu').attr("title",a['members'][i].id);
			}
			if(a['members'][i].qrt_position_id == 3){
				$('#qrtaa').val(a['members'][i].fullname);
				$('#qrtaa').attr("title",a['members'][i].id);
			}

			if(a['members'][i].qrt_position_id == 4){
				$('#tbl_qrtsstaff tbody').append(
					"<tr>"+
						"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Support Staff' name='qrtsstaff' value='"+a['members'][i].fullname+"' title="+a['members'][i].id+"> </td>"+
			      		"<td> <button type='button' class='btn btn-primary btn-sm removeSStaff' value='"+a['members'][i].id+"'><span class='fa fa-minus'></button> </td>"+
					"</tr>"
				)
			}
			if(a['members'][i].qrt_position_id == 5){
				$('#tbl_qrtdriver tbody').append(
					"<tr>"+
						"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Driver' name='qrtdriver' value='"+a['members'][i].fullname+"' title="+a['members'][i].id+"> </td>"+
			      		"<td> <button type='button' class='btn btn-warning btn-sm removeDriver' value='"+a['members'][i].id+"'><span class='fa fa-minus'></button> </td>"+
					"</tr>"
				)
			}
		}

	})
}

$('#resetdata_qrt').click(function(){

	$('#tbl_qrtsstaff >tbody >tr').remove();
	$('#tbl_qrtsstaff tbody').append(
		"<tr>"+
			"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Support Staff' name='qrtsstaff'> </td>"+
      		"<td> <button type='button' class='btn btn-primary btn-sm removeSStaff'><span class='fa fa-minus'></button> </td>"+
		"</tr>"
	)

	$('#tbl_qrtdriver >tbody >tr').remove();
	$('#tbl_qrtdriver tbody').append(
		"<tr>"+
			"<td style='width:99%'> <input type='text' class='form-control input-sm' placeholder='QRT Team Driver' name='qrtdriver'> </td>"+
      		"<td> <button type='button' class='btn btn-warning btn-sm removeDriver'><span class='fa fa-minus'></button> </td>"+
		"</tr>"
	)

	$('#qrtteamnumber').attr("disabled",!1);
	$('#savedata_qrt').attr("disabled",!1);
	$('#updatedata_qrt').attr("disabled",1);
	$('#deletedata_qrt').attr("disabled",1);

})

$('#deletedata_qrt').click(function(){

	var datas = {
		id 	: $('#qrtteamnumber').val()
	}

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Are you sure you want to delete this data? This action cannot be undone.',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-red',
			    keys: ['enter', 'shift'],
	    		action: function(){
	    			$.getJSON(serverip+"deleteQRTTeam",datas,function(a){
	    				$('#resetdata_qrt').trigger("click");
	    			});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-blue'
	    	}
	    }
	});

});

var aff_families = $('#aff_families');
if(aff_families.length){
	dashboard();
}

function dashboard(){

	$.getJSON(serverip+"getDashboardData",function(response){

		$('#aff_families').text(response.aff_family.toLocaleString());
		$('#aff_individuals').text(response.aff_person.toLocaleString());
		$('#tot_assistance').text(response.dswd_asst.toLocaleString());
		$('#aff_brgy').text(response.aff_brgy.toLocaleString());
		$('#aff_inec').text(response.aff_familyinec.toLocaleString());
		$('#aff_outec').text(response.aff_familyoutec.toLocaleString());

		piechart(response.pie_aff_family,response.pie_aff_family_drill,'tot_family_graph','Graph of Affected Families','Since Armed Conflict in Marawi City','Total Affected Families');

		piechart(response.pie_dswd_asst,response.pie_asst_drill,'tot_assistance_graph','Graph of DSWD Augmentation Assistance','Since Armed Conflict in Marawi City','Monetized Amount');

		columnchart(response.pie_aff_family,response.pie_aff_family_drill,'tot_family_graph_column','Graph of Affected Families','Since Armed Conflict in Marawi City','Total Affected Families');
		
	});

}

var piechart = function(data,datadrill,container, title, subtitle,label){

	var $div = $('#'+container);

	if($div.length){

		Highcharts.createElement('link', {
		   href: 'https://fonts.googleapis.com/css?family=Signika:400,700',
		   rel: 'stylesheet',
		   type: 'text/css'
		}, null, document.getElementsByTagName('head')[0]);

		// Add the background image to the container
		Highcharts.wrap(Highcharts.Chart.prototype, 'getContainer', function (proceed) {
		   proceed.call(this);
		   this.container.style.background = 'url(http://www.highcharts.com/samples/graphics/sand.png)';
		});


		Highcharts.theme = {
		   colors: ['#B0E0E6',
					'#800080',
					'#663399',
					'#FF0000',
					'#BC8F8F',
					'#4169E1',
					'#8B4513',
					'#FA8072',
					'#F4A460',
					'#2E8B57',
					'#DB7093',
					'#A0522D',
					'#C0C0C0',
					'#87CEEB',
					'#6A5ACD',
					'#708090',
					'#708090',
					'#008000',
					'#00FF7F',
					'#4682B4',
					'#D2B48C',
					'#008080',
					'#D8BFD8',
					'#FF6347',
					'#40E0D0',
					'#EE82EE',
					'#F5DEB3',
					'#006400',
					'#BDB76B',
					'#8B008B',
					'#556B2F',
					'#FF8C00',
					'#9932CC',
					'#8B0000',
					'#E9967A',
					'#8FBC8F',
					'#483D8B',
					'#2F4F4F',
					'#2F4F4F',
					'#00CED1',
					'#9400D3',
					'#FF1493',
					'#00BFFF'
				],
		   chart: {
		      backgroundColor: 'rgba(0, 0, 0, 0.85)',
		      style: {
		         fontFamily: 'Signika, serif'
		      }
		   },
		   title: {
		      style: {
		         color: '#fff',
		         fontSize: '16px',
		         fontWeight: 'lighter'
		      }
		   },
		   subtitle: {
		      style: {
		         color: '#fff'
		      }
		   },
		   tooltip: {
		      borderWidth: 0
		   },
		   legend: {
		      itemStyle: {
		         fontWeight: 'lighter',
		         fontSize: '13px',
		         color: '#fff'
		      }
		   },
		   xAxis: {
		      labels: {
		         style: {
		            color: '#6e6e70'
		         }
		      }
		   },
		   yAxis: {
		      labels: {
		         style: {
		            color: '#6e6e70'
		         }
		      }
		   },
		   plotOptions: {
		      series: {
		         shadow: true
		      },
		      candlestick: {
		         lineColor: '#404048'
		      },
		      map: {
		         shadow: false
		      }
		   },

		   // Highstock specific
		   navigator: {
		      xAxis: {
		         gridLineColor: '#D0D0D8'
		      }
		   },
		   rangeSelector: {
		      buttonTheme: {
		         fill: 'white',
		         stroke: '#C0C0C8',
		         'stroke-width': 1,
		         states: {
		            select: {
		               fill: '#D0D0D8'
		            }
		         }
		      }
		   },
		   scrollbar: {
		      trackBorderColor: '#C0C0C8'
		   },

		   // General
		   background2: 'rgba(0, 0, 0, 0.85)',

		};

		Highcharts.setOptions(Highcharts.theme);


		Highcharts.chart(container, {
		    chart: {
		        type: 'pie',
		        options3d: {
		            enabled: !1,
		            alpha: 45,
		            beta: 0
		        }
		    },
		    title: {
		        text: title
		    },
		    subtitle: {
		    	text: null
		    },
		    tooltip: {
		        pointFormat: '{series.name}: <b>{point.y}</b>'
		    },
		    plotOptions: {
		        pie: {
		            allowPointSelect: true,
		            cursor: 'pointer',
		            dataLabels: {
		                enabled: false,
		                format: '{point.name}'
		            },
		            innerSize: 0,
		            depth: 30,
		            showInLegend: true
		        }
		    },
		    series: [{
		        name: label,
		        colorByPoint: true,
		        data: data
		    }],
		    drilldown : {
		    	series : datadrill
		    }
		});

	}

}

var columnchart = function(data,datadrill,container, title, subtitle,label){

	var $div = $('#'+container);

	if($div.length){

			Highcharts.createElement('link', {
			   href: 'https://fonts.googleapis.com/css?family=Unica+One',
			   rel: 'stylesheet',
			   type: 'text/css'
			}, null, document.getElementsByTagName('head')[0]);

			Highcharts.theme = {
			   colors: ['#2b908f', '#90ee7e', '#f45b5b', '#7798BF', '#aaeeee', '#ff0066',
			      '#eeaaee', '#55BF3B', '#DF5353', '#7798BF', '#aaeeee'],
			   chart: {
			      backgroundColor: {
			         linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },
			         stops: [
			            [0, '#2a2a2b'],
			            [1, '#3e3e40']
			         ]
			      },
			      style: {
			         fontFamily: 'Arial'
			      },
			      plotBorderColor: '#606063'
			   },
			   title: {
			      style: {
			         color: '#E0E0E3',
			         textTransform: 'uppercase',
			         fontSize: '20px'
			      }
			   },
			   subtitle: {
			      style: {
			         color: '#E0E0E3',
			         textTransform: 'uppercase'
			      }
			   },
			   xAxis: {
			      gridLineColor: '#707073',
			      labels: {
			         style: {
			            color: '#E0E0E3'
			         }
			      },
			      lineColor: '#707073',
			      minorGridLineColor: '#505053',
			      tickColor: '#707073',
			      title: {
			         style: {
			            color: '#A0A0A3'

			         }
			      },
			      categories : [
			      	data.name
			      ]
			   },
			   yAxis: {
			      gridLineColor: '#707073',
			      labels: {
			         style: {
			            color: '#E0E0E3'
			         }
			      },
			      lineColor: '#707073',
			      minorGridLineColor: '#505053',
			      tickColor: '#707073',
			      tickWidth: 1,
			      title: {
			         style: {
			            color: '#A0A0A3',
			         }
			      }
			   },
			   tooltip: {
			      backgroundColor: 'rgba(0, 0, 0, 0.85)',
			      style: {
			         color: '#F0F0F0'
			      }
			   },
			   plotOptions: {
			      series: {
			         dataLabels: {
			            color: '#B0B0B3'
			         },
			         marker: {
			            lineColor: '#333'
			         }
			      },
			      boxplot: {
			         fillColor: '#505053'
			      },
			      candlestick: {
			         lineColor: 'white'
			      },
			      errorbar: {
			         color: 'white'
			      }
			   },
			   legend: {
			      itemStyle: {
			         color: '#E0E0E3'
			      },
			      itemHoverStyle: {
			         color: '#FFF'
			      },
			      itemHiddenStyle: {
			         color: '#606063'
			      }
			   },
			   credits: {
			      style: {
			         color: '#666'
			      }
			   },
			   labels: {
			      style: {
			         color: '#707073'
			      }
			   },

			   drilldown: {
			      activeAxisLabelStyle: {
			         color: '#F0F0F3'
			      },
			      activeDataLabelStyle: {
			         color: '#F0F0F3'
			      }
			   },

			   navigation: {
			      buttonOptions: {
			         symbolStroke: '#DDDDDD',
			         theme: {
			            fill: '#505053'
			         }
			      }
			   },

			   // scroll charts
			   rangeSelector: {
			      buttonTheme: {
			         fill: '#505053',
			         stroke: '#000000',
			         style: {
			            color: '#CCC'
			         },
			         states: {
			            hover: {
			               fill: '#707073',
			               stroke: '#000000',
			               style: {
			                  color: 'white'
			               }
			            },
			            select: {
			               fill: '#000003',
			               stroke: '#000000',
			               style: {
			                  color: 'white'
			               }
			            }
			         }
			      },
			      inputBoxBorderColor: '#505053',
			      inputStyle: {
			         backgroundColor: '#333',
			         color: 'silver'
			      },
			      labelStyle: {
			         color: 'silver'
			      }
			   },

			   navigator: {
			      handles: {
			         backgroundColor: '#666',
			         borderColor: '#AAA'
			      },
			      outlineColor: '#CCC',
			      maskFill: 'rgba(255,255,255,0.1)',
			      series: {
			         color: '#7798BF',
			         lineColor: '#A6C7ED'
			      },
			      xAxis: {
			         gridLineColor: '#505053'
			      }
			   },

			   scrollbar: {
			      barBackgroundColor: '#808083',
			      barBorderColor: '#808083',
			      buttonArrowColor: '#CCC',
			      buttonBackgroundColor: '#606063',
			      buttonBorderColor: '#606063',
			      rifleColor: '#FFF',
			      trackBackgroundColor: '#404043',
			      trackBorderColor: '#404043'
			   },

			   // special colors for some of the
			   legendBackgroundColor: 'rgba(0, 0, 0, 0.5)',
			   background2: '#505053',
			   dataLabelsColor: '#B0B0B3',
			   textColor: '#C0C0C0',
			   contrastTextColor: '#F0F0F3',
			   maskColor: 'rgba(255,255,255,0.3)'
			};

		Highcharts.setOptions(Highcharts.theme);


		Highcharts.chart(container, {
		    chart: {
		        type: 'column',
		        options3d: {
		            enabled: true,
		            alpha: 0,
		            beta: 15,
		            depth: 100,
		            viewDistance: 25
		        }
		    },
		    title: {
		        text: title
		    },
		    subtitle: {
		    	text: null
		    },
		    yAxis: {
		        min: 0,
		        title: {
		            text: 'Affected Families'
		        }
		    },
		    tooltip: {
		        pointFormat: '{series.name}: <b>{point.y}</b>'
		    },
		    plotOptions: {
	            allowPointSelect: true,
	            cursor: 'pointer',
	            dataLabels: {
	                enabled: true,
	                format: '{point.name}'
	            },
	            innerSize: 0,
	            depth: 30,
	            showInLegend: true
		    },
		    series: [{
		        name: label,
		        colorByPoint: true,
		        data: data
		    }],
		    drilldown : {
		    	series : datadrill
		    }
		});

	}

}

$('#editasstfnfi').click(function(){

	if($('#fnfiassistance').val() == "" || $('#fnficost').val() == "" || $('#fnfiquantity').val() == "" || $('#fnfistype').val() == "" || $('#provinceAssistance').val() == "" || $('#cityAssistance').val() == "" || $('#single_cal3').val() == ""){

		$.confirm({
		    title: '',
		    content: '<i class="fa fa-info-circle"></i> Kindly fill province, municipality, augmentation date and augmentation assistance list to continue',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter','shift']
		    	}
		    }
		});

	}else{

		fnfi_list = [];

		$('#updateassistance_spec').prop("disabled", 0);

		fnfi_list.push({
			fnfi_name 		: $('#fnfiassistance').val(),
			fnfi_cost 		: $('#fnficost').val(),
			fnfi_quantity 	: $('#fnfiquantity').val(),
			fnfi_type 		: $('#fnfistype').val()
		});

		fnfi_list_item();

	}

})

$('#addasstfnfi').click(function(){

	if($('#fnfiassistance').val() == "" || $('#fnficost').val() == "" || $('#fnfiquantity').val() == "" || $('#fnfistype').val() == "" || $('#provinceAssistance').val() == "" || $('#cityAssistance').val() == "" || $('#single_cal3').val() == ""){

		$.confirm({
		    title: '',
		    content: '<i class="fa fa-info-circle"></i> Kindly fill province, municipality, augmentation date and augmentation assistance list to continue',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter','shift']
		    	}
		    }
		});

	}else{

		fnfi_list.push({
			fnfi_name 		: $('#fnfiassistance').val(),
			fnfi_cost 		: $('#fnficost').val(),
			fnfi_quantity 	: $('#fnfiquantity').val(),
			fnfi_type 		: $('#fnfistype').val()
		});

		fnfi_list_item();

		$('#fnfiassistance').val('');
		$('#fnficost').val('');
		$('#fnfiquantity').val('');
		$('#fnfistype').val('');
	}

})

var fnfi_list_item = function(){

	var rtotal = 0;

	$('#tbl_assistance_list tbody').empty();
	for(var i in fnfi_list){
		rtotal = parseFloat(rtotal) + (parseFloat(fnfi_list[i].fnfi_cost) * parseFloat(fnfi_list[i].fnfi_quantity));
		stotal = parseFloat(fnfi_list[i].fnfi_cost) * parseFloat(fnfi_list[i].fnfi_quantity);
		$('#tbl_assistance_list tbody').append(
			"<tr>"+
				"<td>"+
					fnfi_list[i].fnfi_name+
				"</td>"+
				"<td>"+
					fnfi_list[i].fnfi_cost+
				"</td>"+
				"<td style='text-align:right'>"+
					fnfi_list[i].fnfi_quantity+
				"</td>"+
				"<td style='text-align:center'>"+
					getfnfitype(fnfi_list[i].fnfi_type)+
				"</td>"+
				"<td style='text-align:right'>"+
					stotal.toLocaleString()+
				"</td>"+
				"<td style='vertical-align:middle; text-align:center'> <button type='button' class='btn btn-danger btn-xs removefnfi' value='"+i+"'><span class='fa fa-remove'></button> </td>"+
			"</tr>"
		)
	}

	$('#fnfi_running_total').text(rtotal.toLocaleString());

}

function getfnfitype(d) {

    return d.toString() == 'ffp' 			? 'Family Food Pack' 	:
           d.toString() == 'heb' 			? 'High Energy Biscuit' :
           d.toString() == 'rtef' 			? 'Ready to Eat Foods' 	:
           d.toString() == 'shelter' 		? 'Shelter Kit' 		:
           d.toString() == 'hygiene' 		? 'Hygiene Kit' 		:
           d.toString() == 'sleeping' 		? 'Sleeping Kit' 		:
           d.toString() == 'kitchen' 		? 'Kitchen Kit' 		:
           d.toString() == 'family' 		? 'Family Kit' 			:
           d.toString() == 'potablewater' 	? 'Potable Water' 		:
								  				'Other' ;
}

$("#tbl_assistance_list").on('click','.removefnfi',function(){

	var a = $(this).val();
	$(this).closest('tr').remove();

	fnfi_list.splice(a,1);

	fnfi_list_item();

});

$('#saveassistance').click(function(){

	var datas = {
		details : {
			disaster_title_id 			: URLID(),
			provinceid 					: $('#provinceAssistance').val(),
			municipality_id 			: $('#cityAssistance').val(),
			family_served 				: $('#families_served').val(),
			remarks 					: $('#fnfi_remarks').val()
		},

		date_augmented 					: todate2($('#single_cal3').val()),
		fnfi_list
	};

	var urlid = URLID();

	

	if(datas.provinceid == "" || datas.municipality_id == "" || datas.date_augmented == "" || fnfi_list.length < 1){
		$.confirm({
		    title: '',
		    content: '<i class="fa fa-info-circle"></i> Kindly fill province, municipality, augmentation date and augmentation assistance list to continue',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-times-circle-o"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys : ['enter', 'shift']
		    	}
		    }
		});
	}else{
		$.getJSON(serverip+"saveFNFILIST",datas,function(response){
			if(response == 1){
				alerts();
				get_dromic(urlid);
				$('#provinceAssistance').val('');
				$('#cityAssistance').val('');
				$('#families_served').val('');
				$('#fnfi_remarks').val('');
				$('#single_cal3').val('');
				fnfi_list = [];
				fnfi_list_item();
			}
		});
	}

})

var tbl_augmentation_list = $('#tbl_augmentation_list');

if(tbl_augmentation_list.length){

	var assttyperelief = $('#assttyperelief').val();

	var yearss = new Date();
	y = $.datepicker.formatDate('yy', new Date(yearss));
	m = $.datepicker.formatDate('mm', new Date(yearss));

	get_augmentation_list(m,y,assttyperelief);
}

function get_augmentation_list(month,year,assttyperelief){

	$('#tbl_augmentation_list tbody').empty();

	var datas = {
		month 			: month,
		year 			: year,
		assttyperelief 	: assttyperelief
	};

	$.getJSON(serverip+"get_augmentation_assistance",datas,function(a){

		for(var i in a){

			if(i == 0){
				$('#tbl_augmentation_list tbody').append(
					"<tr style='cursor:pointer'>"+
						"<td data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].municipality_name+"</td>"+
						"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].number_served+"</td>"+
						"<td style='text-align:right' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+addComma(Number(a[i].cost) * Number(a[i].quantity))+"</td>"+
						"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].assistance_name+"</td>"+
						"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].asst_type+"</td>"+
						"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+todate(a[i].date_augmented)+"</td>"+
					"</tr>"
				)
			}else{
				if(a[i].municipality_id == a[i-1].municipality_id){
					if((a[i].municipality_id == a[i-1].municipality_id) && (a[i].number_served == a[i-1].number_served) && (a[i].date_augmented == a[i-1].date_augmented)){
						var serve = "";
					}else{
						var serve = a[i].number_served;
					}
					$('#tbl_augmentation_list tbody').append(
						"<tr style='cursor:pointer'>"+
							"<td data-toggle='tooltip' title='"+a[i].remarks_particulars+"' style='color:#fff'>"+a[i].municipality_name+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+serve+"</td>"+
							"<td style='text-align:right' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+addComma(Number(a[i].cost) * Number(a[i].quantity))+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].assistance_name+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].asst_type+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+todate(a[i].date_augmented)+"</td>"+
						"</tr>"
					)
				}else{
					$('#tbl_augmentation_list tbody').append(
						"<tr style='cursor:pointer'>"+
							"<td data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].municipality_name+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].number_served+"</td>"+
							"<td style='text-align:right' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+addComma(Number(a[i].cost) * Number(a[i].quantity))+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].assistance_name+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+a[i].asst_type+"</td>"+
							"<td style='text-align:center' data-toggle='tooltip' title='"+a[i].remarks_particulars+"'>"+todate(a[i].date_augmented)+"</td>"+
						"</tr>"
					)
				}
			}

		}
		$('[data-toggle="tooltip"]').tooltip();

	});

}

var tbl_reliefassistance = $('#tbl_reliefassistance');
if(tbl_reliefassistance.length){

	var edate = new Date();

	get_reliefassistance_report(edate.getFullYear());

	$('#asstloader').hide();
}

$('#get_augmentation_assistanceyear').keydown(function(e){
	if(e.keyCode == 13){
	    if($('#get_augmentation_assistanceyear').val() == ""){

	    	var edate = new Date();
			get_reliefassistance_report(edate.getFullYear());

	    }else{

	    	var thisval = $('#get_augmentation_assistanceyear').val();
	    	get_reliefassistance_report(thisval);

	    }

	    $('#asstloader').show();
	}
})

function get_reliefassistance_report(yearss){

	$('#asstloader').show();

	$('#tbl_reliefassistance tbody').empty();

	var datas = {
		tyears : yearss
	}

	$.getJSON(serverip+"get_augmentation_assistance1",datas,function(a){

		var lgus = a;

		var lguserved = 0;
		var lguservedo = 0;
		var famserved = 0;
		var famservedo = 0;
		var amountserved = 0;
		var fpackserved = 0;
		var amountservedo = 0;
		var fpackservedo = 0;

		var serveperlgu = 0;
		var amountserveperlgu = 0;

		var famserveperlgu = 0;
		var amtserveperlgu = 0;

		var fpacks = "Family Food Pack";

		for(var i in provinces){

			for(var qq in lgus){

				var plgu = lgus[qq].municipality_id;

				if(lgus[qq].provinceid == provinces[i].id){
					if(lgus[qq].asst_id == 1){
						if(qq == 0){
							if(plgu == lgus[qq].municipality_id){
								famserveperlgu = lgus[qq].number_served;
								amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
							}
						}else{
							if(plgu == lgus[qq].municipality_id){
								if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
									amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
								}else{
									famserveperlgu = famserveperlgu + lgus[qq].number_served;
									amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
								}
							}
						}
					}
				}
			}

			$('#tbl_reliefassistance tbody').append(
				"<tr style='cursor:pointer; background-color:#34A853; color:#000; font-weight:bold; font-size:16px'>"+
					"<td>"+provinces[i].name+"</td>"+
					"<td style='text-align:right'>"+addComma(famserveperlgu)+"</td>"+
					"<td style='text-align:right'>"+addComma(amtserveperlgu)+"</td>"+
					"<td></td>"+
					"<td></td>"+
					"<td></td>"+
				"</tr>"
			)
			for(var j in a){
				if(a[j].asst_id == 1){
					if(provinces[i].id == a[j].provinceid){
						if(j == 0){

							var plgu = a[0].municipality_id;

							lguserved += 1;

							for(var qq in lgus){
								if(lgus[qq].asst_id == 1){
									if(qq == 0){
										if(plgu == lgus[qq].municipality_id){
											famserveperlgu = lgus[qq].number_served;
											amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
										}
									}else{
										if(plgu == lgus[qq].municipality_id){
											if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
												amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
											}else{
												famserveperlgu = famserveperlgu + lgus[qq].number_served;
												amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
											}
										}
									}
								}
							}

							$('#tbl_reliefassistance tbody').append(
								"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
									"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
									"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
								"</tr>"
							)

							$('#tbl_reliefassistance tbody').append(
								"<tr style='cursor:pointer'>"+
									"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
									"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
									"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
									"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
								"</tr>"
							)
							famserved = famserved + a[j].number_served;
							famserveperlgu = 0;
							amtserveperlgu = 0;
						}else{
							if(a[j].municipality_id == a[j-1].municipality_id){
								if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].number_served == a[j-1].number_served) && (a[j].date_augmented == a[j-1].date_augmented)){
									var serve = "";
								}else{

									var serve = a[j].number_served;

									if(a[j].provinceid < 6){
										lguserved = lguserved + 1;
										famserved = famserved + a[j].number_served;
									}else{
										if(a[j].provinceid > 5){
											if(a[j].municipality_id != a[j-1].municipality_id){
												lguservedo = lguservedo + 1;
											}
											famservedo = famservedo + a[j].number_served;
										}
									}

								}

								$('#tbl_reliefassistance tbody').append(
									"<tr style='cursor:pointer'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"' style='color:#fff'>"+a[j].municipality_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+serve+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
									"</tr>"
								)
							}else{

								famserveperlgu = 0;
								amtserveperlgu = 0;

								if(a[j].provinceid < 6){
									lguserved = lguserved + 1;
									famserved = famserved + a[j].number_served;
								}else{
									if(a[j].provinceid > 5){
										if(a[j].municipality_id != a[j-1].municipality_id){
											lguservedo = lguservedo + 1;
										}
										famservedo = famservedo + a[j].number_served;
									}
								}

								var plgu = a[j].municipality_id;

								for(var qq in lgus){
									if(lgus[qq].asst_id == 1){
										if(qq == 0){
											if(plgu == lgus[qq].municipality_id){
												famserveperlgu = lgus[qq].number_served;
												amtserveperlgu = Number(a[j].cost) * Number(a[j].quantity);
											}
										}else{
											if(plgu == lgus[qq].municipality_id){
												if((lgus[qq].municipality_id == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
												}else{
													famserveperlgu = famserveperlgu + lgus[qq].number_served;
													
												}
												amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
											}
										}
									}
								}

								$('#tbl_reliefassistance tbody').append(
									"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"</tr>"
								)

								$('#tbl_reliefassistance tbody').append(
									"<tr style='cursor:pointer'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
									"</tr>"
								)

								famserveperlgu = 0;
								amtserveperlgu = 0;

							}
						}

						if(a[j].provinceid < 6){

							amountserved = amountserved + (Number(a[j].cost) * Number(a[j].quantity));
							if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
								fpackserved = fpackserved + a[j].quantity;
							}
							
						}else{
							if(a[j].provinceid > 5){
								amountservedo = amountservedo + (Number(a[j].cost) * Number(a[j].quantity));
								if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
									fpackservedo = fpackservedo + a[j].quantity;
								}
							}
						}
					}
				}
			}
		}

		$('#lguserved').text(addComma(lguserved));
		$('#lguservedo').text(addComma(lguservedo));
		$('#famserved').text(addComma(famserved));
		$('#famservedo').text(addComma(famservedo));
		$('#amountserved').text(addComma(amountserved));
		$('#fpackserved').text(addComma(fpackserved));
		$('#amountservedo').text(addComma(amountservedo));
		$('#fpackservedo').text(addComma(fpackservedo));

		$('#sum_famserved_aug').text(addComma(famserved));
		$('#sum_lguserved_aug').text(addComma(lguserved));
		$('#sum_amount_aug').text(addCommaMoney(amountserved));

		$('#sum_lguserved_aug_o').text(addComma(lguservedo));
		$('#sum_amount_aug_o').text(addCommaMoney(amountservedo));

		$('#gfamserved').text(famserved);
		$('#glguserved').text(lguserved);
		$('#gtotalamount').text(amountserved+amountservedo);

		$('[data-toggle="tooltip"]').tooltip();

	});

	setTimeout(function(){

		$('#tbl_ffwassistance tbody').empty();

		$.getJSON(serverip+"get_augmentation_assistanceffw",datas,function(a){

			var lgus = a;

			var lguserved = 0;
			var lguservedo = 0;
			var famserved = 0;
			var famservedo = 0;
			var amountserved = 0;
			var fpackserved = 0;
			var amountservedo = 0;
			var fpackservedo = 0;

			var serveperlgu = 0;
			var amountserveperlgu = 0;

			var famserveperlgu = 0;
			var amtserveperlgu = 0;

			var fpacks = "Family Food Pack";

			for(var i in provinces){

				for(var qq in lgus){

					var plgu = lgus[qq].municipality_id;

					if(lgus[qq].provinceid == provinces[i].id){
						if(lgus[qq].asst_id == 2){
							if(qq == 0){
								if(plgu == lgus[qq].municipality_id){
									famserveperlgu = lgus[qq].number_served;
									amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
								}
							}else{
								if(plgu == lgus[qq].municipality_id){
									if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}else{
										famserveperlgu = famserveperlgu + lgus[qq].number_served;
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}
								}
							}
						}
					}
				}

				$('#tbl_ffwassistance tbody').append(
					"<tr style='cursor:pointer; background-color:#34A853; color:#000; font-weight:bold; font-size:16px'>"+
						"<td>"+provinces[i].name+"</td>"+
						"<td style='text-align:right'>"+addComma(famserveperlgu)+"</td>"+
						"<td style='text-align:right'>"+addComma(amtserveperlgu)+"</td>"+
						"<td></td>"+
						"<td></td>"+
						"<td></td>"+
					"</tr>"
				)
				for(var j in a){
					if(a[j].asst_id == 2){
						if(provinces[i].id == a[j].provinceid){
							if(j == 0){

								var plgu = a[0].municipality_id;

								lguserved += 1;

								for(var qq in lgus){
									if(lgus[qq].asst_id == 2){
										if(qq == 0){
											if(plgu == lgus[qq].municipality_id){
												famserveperlgu = lgus[qq].number_served;
												amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
											}
										}else{
											if(plgu == lgus[qq].municipality_id){
												if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}else{
													famserveperlgu = famserveperlgu + lgus[qq].number_served;
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}
								}

								$('#tbl_ffwassistance tbody').append(
									"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"</tr>"
								)

								$('#tbl_ffwassistance tbody').append(
									"<tr style='cursor:pointer'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
									"</tr>"
								)
								famserved = famserved + a[j].number_served;
								famserveperlgu = 0;
								amtserveperlgu = 0;
							}else{
								if(a[j].municipality_id == a[j-1].municipality_id){
									if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].number_served == a[j-1].number_served) && (a[j].date_augmented == a[j-1].date_augmented)){
										var serve = "";
									}else{

										var serve = a[j].number_served;

										if(a[j].provinceid < 6){
											lguserved = lguserved + 1;
											famserved = famserved + a[j].number_served;
										}else{
											if(a[j].provinceid > 5){
												if(a[j].municipality_id != a[j-1].municipality_id){
													lguservedo = lguservedo + 1;
												}
												famservedo = famservedo + a[j].number_served;
											}
										}

									}

									$('#tbl_ffwassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"' style='color:#fff'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+serve+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)
								}else{

									famserveperlgu = 0;
									amtserveperlgu = 0;

									if(a[j].provinceid < 6){
										lguserved = lguserved + 1;
										famserved = famserved + a[j].number_served;
									}else{
										if(a[j].provinceid > 5){
											if(a[j].municipality_id != a[j-1].municipality_id){
												lguservedo = lguservedo + 1;
											}
											famservedo = famservedo + a[j].number_served;
										}
									}

									var plgu = a[j].municipality_id;

									for(var qq in lgus){
										if(lgus[qq].asst_id == 2){
											if(qq == 0){
												if(plgu == lgus[qq].municipality_id){
													famserveperlgu = lgus[qq].number_served;
													amtserveperlgu = Number(a[j].cost) * Number(a[j].quantity);
												}
											}else{
												if(plgu == lgus[qq].municipality_id){
													if((lgus[qq].municipality_id == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													}else{
														famserveperlgu = famserveperlgu + lgus[qq].number_served;
														
													}
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}

									$('#tbl_ffwassistance tbody').append(
										"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"</tr>"
									)

									$('#tbl_ffwassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].quantity+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)

									famserveperlgu = 0;
									amtserveperlgu = 0;

								}
							}

							if(a[j].provinceid < 6){

								amountserved = amountserved + (Number(a[j].cost) * Number(a[j].quantity));
								if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
									fpackserved = fpackserved + a[j].quantity;
								}
								
							}else{
								if(a[j].provinceid > 5){
									amountservedo = amountservedo + (Number(a[j].cost) * Number(a[j].quantity));
									if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
										fpackservedo = fpackservedo + a[j].quantity;
									}
								}
							}
						}
					}
				}
			}

			$('#ffwlguserved').text(addComma(lguserved));
			$('#ffwfamserved').text(addComma(famserved));
			$('#ffwamountserved').text(addComma(amountserved));
			$('#ffwfpackserved').text(addComma(fpackserved));

			$('#sum_famserved_ffw').text(addComma(famserved));
			$('#sum_lguserved_ffw').text(addComma(lguserved));
			$('#sum_amount_ffw').text(addCommaMoney(amountserved));

			var gfamserved = $('#gfamserved').text();
			gfamserved = Number(gfamserved) + Number(famserved);
			$('#gfamserved').text(gfamserved);

			var glguserved = $('#glguserved').text();
			glguserved = Number(glguserved) + Number(lguserved);
			$('#glguserved').text(glguserved);

			var gtotalamount = $('#gtotalamount').text();
			gtotalamount = Number(gtotalamount) + Number(amountserved);
			$('#gtotalamount').text(gtotalamount);

			$('[data-toggle="tooltip"]').tooltip();

		});
	},1500);
	

	setTimeout(function(){

		$('#tbl_esaassistance tbody').empty();

		$.getJSON(serverip+"get_augmentation_assistanceesa",datas,function(a){

			var lgus = a;

			var lguserved = 0;
			var lguservedo = 0;
			var famserved = 0;
			var famservedo = 0;
			var amountserved = 0;
			var fpackserved = 0;
			var amountservedo = 0;
			var fpackservedo = 0;

			var serveperlgu = 0;
			var amountserveperlgu = 0;

			var famserveperlgu = 0;
			var amtserveperlgu = 0;

			var fpacks = "Family Food Pack";

			for(var i in provinces){

				for(var qq in lgus){

					var plgu = lgus[qq].municipality_id;

					if(lgus[qq].provinceid == provinces[i].id){
						if(lgus[qq].asst_id == 5 || lgus[qq].asst_id == 6){
							if(qq == 0){
								if(plgu == lgus[qq].municipality_id){
									famserveperlgu = lgus[qq].number_served;
									amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
								}
							}else{
								if(plgu == lgus[qq].municipality_id){
									if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}else{
										famserveperlgu = famserveperlgu + lgus[qq].number_served;
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}
								}
							}
						}
					}
				}

				$('#tbl_esaassistance tbody').append(
					"<tr style='cursor:pointer; background-color:#34A853; color:#000; font-weight:bold; font-size:16px'>"+
						"<td>"+provinces[i].name+"</td>"+
						"<td style='text-align:right'>"+addComma(famserveperlgu)+"</td>"+
						"<td style='text-align:right'>"+addComma(amtserveperlgu)+"</td>"+
						"<td></td>"+
						"<td></td>"+
					"</tr>"
				)
				for(var j in a){
					if(a[j].asst_id == 5 || a[j].asst_id == 6){
						if(provinces[i].id == a[j].provinceid){
							if(j == 0){

								var plgu = a[0].municipality_id;

								lguserved += 1;

								for(var qq in lgus){
									if(lgus[qq].asst_id == 5 || lgus[qq].asst_id == 6){
										if(qq == 0){
											if(plgu == lgus[qq].municipality_id){
												famserveperlgu = lgus[qq].number_served;
												amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
											}
										}else{
											if(plgu == lgus[qq].municipality_id){
												if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}else{
													famserveperlgu = famserveperlgu + lgus[qq].number_served;
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}
								}

								$('#tbl_esaassistance tbody').append(
									"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"</tr>"
								)

								$('#tbl_esaassistance tbody').append(
									"<tr style='cursor:pointer'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(a[j].number_served)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
									"</tr>"
								)

								famserved = famserved + a[j].number_served;
								famserveperlgu = 0;
								amtserveperlgu = 0;

							}else{
								if(a[j].municipality_id == a[j-1].municipality_id){
									if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].number_served == a[j-1].number_served) && (a[j].date_augmented == a[j-1].date_augmented)){
										var serve = "";
									}else{

										var serve = a[j].number_served;

										if(a[j].provinceid < 6){
											famserved = famserved + a[j].number_served;
										}
									}

									$('#tbl_esaassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"' style='color:#fff'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(serve)+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)
								}else{

									famserveperlgu = 0;
									amtserveperlgu = 0;

									if(a[j].provinceid < 6){
										lguserved = lguserved + 1;
										famserved = famserved + a[j].number_served;
									}

									var plgu = a[j].municipality_id;

									for(var qq in lgus){
										if(lgus[qq].asst_id == 5 || lgus[qq].asst_id == 6){
											if(qq == 0){
												if(plgu == lgus[qq].municipality_id){
													famserveperlgu = lgus[qq].number_served;
													amtserveperlgu = Number(a[j].cost) * Number(a[j].quantity);
												}
											}else{
												if(plgu == lgus[qq].municipality_id){
													if((lgus[qq].municipality_id == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													}else{
														famserveperlgu = famserveperlgu + lgus[qq].number_served;
														
													}
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}

									$('#tbl_esaassistance tbody').append(
										"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"</tr>"
									)

									$('#tbl_esaassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)

									famserveperlgu = 0;
									amtserveperlgu = 0;

								}
							}

							if(a[j].provinceid < 6){

								amountserved = amountserved + (Number(a[j].cost) * Number(a[j].quantity));
								if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
									fpackserved = fpackserved + a[j].quantity;
								}
								
							}else{
								if(a[j].provinceid > 5){
									amountservedo = amountservedo + (Number(a[j].cost) * Number(a[j].quantity));
									if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
										fpackservedo = fpackservedo + a[j].quantity;
									}
								}
							}
						}
					}
				}
			}

			$('#esalguserved').text(addComma(lguserved));
			$('#esafamserved').text(addComma(famserved));
			$('#esaamountserved').text(addComma(amountserved));

			$('#sum_famserved_esa').text(addComma(famserved));
			$('#sum_lguserved_esa').text(addComma(lguserved));
			$('#sum_amount_esa').text(addCommaMoney(amountserved));

			var gfamserved = $('#gfamserved').text();
			gfamserved = Number(gfamserved) + Number(famserved);
			$('#gfamserved').text(gfamserved);

			var glguserved = $('#glguserved').text();
			glguserved = Number(glguserved) + Number(lguserved);
			$('#glguserved').text(glguserved);

			var gtotalamount = $('#gtotalamount').text();
			gtotalamount = Number(gtotalamount) + Number(amountserved);
			$('#gtotalamount').text(gtotalamount);

			$('[data-toggle="tooltip"]').tooltip();

		});
	},2500);

	setTimeout(function(){
		$('#tbl_cfwassistance tbody').empty();

		$.getJSON(serverip+"get_augmentation_assistancecfw",datas,function(a){

			var lgus = a;

			var lguserved = 0;
			var lguservedo = 0;
			var famserved = 0;
			var famservedo = 0;
			var amountserved = 0;
			var fpackserved = 0;
			var amountservedo = 0;
			var fpackservedo = 0;

			var serveperlgu = 0;
			var amountserveperlgu = 0;

			var famserveperlgu = 0;
			var amtserveperlgu = 0;

			var fpacks = "Family Food Pack";

			for(var i in provinces){

				for(var qq in lgus){

					var plgu = lgus[qq].municipality_id;

					if(lgus[qq].provinceid == provinces[i].id){
						if(lgus[qq].asst_id == 3 || lgus[qq].asst_id == 4){
							if(qq == 0){
								if(plgu == lgus[qq].municipality_id){
									famserveperlgu = lgus[qq].number_served;
									amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
								}
							}else{
								if(plgu == lgus[qq].municipality_id){
									if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}else{
										famserveperlgu = famserveperlgu + lgus[qq].number_served;
										amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
									}
								}
							}
						}
					}
				}

				$('#tbl_cfwassistance tbody').append(
					"<tr style='cursor:pointer; background-color:#34A853; color:#000; font-weight:bold; font-size:16px'>"+
						"<td>"+provinces[i].name+"</td>"+
						"<td style='text-align:right'>"+addComma(famserveperlgu)+"</td>"+
						"<td style='text-align:right'>"+addComma(amtserveperlgu)+"</td>"+
						"<td></td>"+
						"<td></td>"+
					"</tr>"
				)
				for(var j in a){
					if(a[j].asst_id == 3 || a[j].asst_id == 4){
						if(provinces[i].id == a[j].provinceid){
							if(j == 0){

								var plgu = a[0].municipality_id;

								lguserved += 1;

								for(var qq in lgus){
									if(lgus[qq].asst_id == 3 || lgus[qq].asst_id == 4){
										if(qq == 0){
											if(plgu == lgus[qq].municipality_id){
												famserveperlgu = lgus[qq].number_served;
												amtserveperlgu = Number(lgus[qq].cost) * Number(lgus[qq].quantity);
											}
										}else{
											if(plgu == lgus[qq].municipality_id){
												if((plgu == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}else{
													famserveperlgu = famserveperlgu + lgus[qq].number_served;
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}
								}

								$('#tbl_cfwassistance tbody').append(
									"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
									"</tr>"
								)

								$('#tbl_cfwassistance tbody').append(
									"<tr style='cursor:pointer'>"+
										"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(a[j].number_served)+"</td>"+
										"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
										"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
									"</tr>"
								)

								famserved = famserved + a[j].number_served;
								famserveperlgu = 0;
								amtserveperlgu = 0;

							}else{
								if(a[j].municipality_id == a[j-1].municipality_id){
									if((a[j].municipality_id == a[j-1].municipality_id) && (a[j].number_served == a[j-1].number_served) && (a[j].date_augmented == a[j-1].date_augmented)){
										var serve = "";
									}else{

										var serve = a[j].number_served;

										if(a[j].provinceid < 6){
											famserved = famserved + a[j].number_served;
										}
									}

									$('#tbl_cfwassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"' style='color:#fff'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(serve)+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)
								}else{

									famserveperlgu = 0;
									amtserveperlgu = 0;

									if(a[j].provinceid < 6){
										lguserved = lguserved + 1;
										famserved = famserved + a[j].number_served;
									}

									var plgu = a[j].municipality_id;

									for(var qq in lgus){
										if(lgus[qq].asst_id == 3 || lgus[qq].asst_id == 4){
											if(qq == 0){
												if(plgu == lgus[qq].municipality_id){
													famserveperlgu = lgus[qq].number_served;
													amtserveperlgu = Number(a[j].cost) * Number(a[j].quantity);
												}
											}else{
												if(plgu == lgus[qq].municipality_id){
													if((lgus[qq].municipality_id == lgus[qq-1].municipality_id) && (lgus[qq].number_served == lgus[qq-1].number_served) && (lgus[qq].date_augmented == lgus[qq-1].date_augmented)){
													}else{
														famserveperlgu = famserveperlgu + lgus[qq].number_served;
														
													}
													amtserveperlgu = amtserveperlgu + (Number(lgus[qq].cost) * Number(lgus[qq].quantity));
												}
											}
										}
									}

									$('#tbl_cfwassistance tbody').append(
										"<tr style='cursor:pointer; font-weight:bold; font-size:15px; background-color:#7AB900; color: #000'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].municipality_name+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(famserveperlgu)+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(amtserveperlgu)+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
										"</tr>"
									)

									$('#tbl_cfwassistance tbody').append(
										"<tr style='cursor:pointer'>"+
											"<td data-toggle='tooltip' title='"+a[j].remarks_particulars+"'></td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].number_served+"</td>"+
											"<td style='text-align:right' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+addComma(Number(a[j].cost) * Number(a[j].quantity))+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+a[j].assistance_name+"</td>"+
											"<td style='text-align:center' data-toggle='tooltip' title='"+a[j].remarks_particulars+"'>"+todate(a[j].date_augmented)+"</td>"+
										"</tr>"
									)

									famserveperlgu = 0;
									amtserveperlgu = 0;

								}
							}

							if(a[j].provinceid < 6){

								amountserved = amountserved + (Number(a[j].cost) * Number(a[j].quantity));
								if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
									fpackserved = fpackserved + a[j].quantity;
								}
								
							}else{
								if(a[j].provinceid > 5){
									amountservedo = amountservedo + (Number(a[j].cost) * Number(a[j].quantity));
									if(a[j].assistance_name.toLowerCase() == fpacks.toLowerCase()){
										fpackservedo = fpackservedo + a[j].quantity;
									}
								}
							}
						}
					}
				}
			}

			$('#cfwlguserved').text(addComma(lguserved));
			$('#cfwfamserved').text(addComma(famserved));
			$('#cfwamountserved').text(addComma(amountserved));

			$('#sum_famserved_cfw').text(addComma(famserved));
			$('#sum_lguserved_cfw').text(addComma(lguserved));
			$('#sum_amount_cfw').text(addCommaMoney(amountserved));

			var gfamserved = $('#gfamserved').text();
			gfamserved = Number(gfamserved) + Number(famserved);
			$('#gfamserved').text(addComma(gfamserved));

			var glguserved = $('#glguserved').text();
			glguserved = Number(glguserved) + Number(lguserved);
			$('#glguserved').text(addComma(glguserved));

			var gtotalamount = $('#gtotalamount').text();
			gtotalamount = Number(gtotalamount) + Number(amountserved);
			$('#gtotalamount').text(addCommaMoney(gtotalamount));

			// console.log(gtotalamount);

			$('[data-toggle="tooltip"]').tooltip();

		});


		$.getJSON(serverip+"get_unique_lgus",datas,function(a){
			$('#glguservedu').text(addComma(a[0].count));
		});

	},3500)

	


	setTimeout(function(){

		var nserve = 0;
		var namount = 0;
		var fpacks = 0;
		var nfpacks = 0;
		var nfipacks = 0;

		$('#tbl_assistanceperdisaster tbody').empty();

		$.getJSON(serverip+"get_augmentation_assistanceperd",datas,function(a){

			console.log(a);

			var aug_types = [
				{
					code 	: "aug",
					name 	: "Augmentation Assistance"
				},
				{
					code 	: "aug_ffw",
					name 	: "Food-for-Work"
				},
				{
					code 	: "cfw",
					name 	: "Cash-for-Work"
				},
				{
					code 	: "esa",
					name 	: "Emergency Shelter Assistance"
				}
			];	

			for(var i in a.perd){

				var tnserve = 0;
				var tnamount = 0;

				for(var kk in a.asst){
					if(a.perd[i].disaster_event == a.asst[kk].disaster_event){
						if(kk == 0){
							tnserve = Number(a.asst[kk].number_served);
						}else{

							if(a.asst[kk-1].municipality_id == a.asst[kk].municipality_id){
								if((a.asst[kk-1].number_served == a.asst[kk].number_served) && (a.asst[kk-1].date_augmented == a.asst[kk].date_augmented)){
								}else{
									tnserve += Number(a.asst[kk].number_served);
								}
							}else{
								if((a.asst[kk-1].number_served == a.asst[kk].number_served) && (a.asst[kk-1].date_augmented == a.asst[kk].date_augmented)){
								}else{
									tnserve += Number(a.asst[kk].number_served);
								}
							}
						}

						tnamount += Number(a.asst[kk].quantity) * Number(a.asst[kk].cost);

					}
				}


				$('#tbl_assistanceperdisaster tbody').append(

					"<tr style='font-weight: bold'>"+
						"<td style='border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+a.perd[i].disaster_name+ " <sup>"+ todate(a.perd[i].disaster_date) + "</sup></td>"+
						"<td style='text-align:center; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
						"<td style='text-align:center; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
						"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+addComma(tnserve)+"</td>"+
						"<td style='text-align:center; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
						"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
						"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
						"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+addCommaMoney(tnamount)+"</td>"+
					"</tr>"

				);



					for(var k in a.asst){

						if(k == 0){

							if(a.perd[i].disaster_event == a.asst[k].disaster_event){

								if(a.asst[k].augment_list_code == 'aug'){
									var string = "Augmentation Assistance";
								}else if(a.asst[k].augment_list_code == 'aug_ffw'){
									var string = "Food-for-Work";
								}else if(a.asst[k].augment_list_code == 'cfw'){
									var string = "Cash-for-Work";
								}else if(a.asst[k].augment_list_code == 'esa'){
									var string = "Emergency Shelter Assistance";
								}

								var amt = Number(a.asst[k].quantity) * Number(a.asst[k].cost);

								nserve = Number(a.asst[k].number_served);
								namount += amt;

								var strpacks = a.asst[k].assistance_name.toLowerCase();

								if(strpacks.includes("family food pack")){
									fpacks += a.asst[k].quantity;
									nfpacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
								}else{
									nfipacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
								}


								$('#tbl_assistanceperdisaster tbody').append(

									"<tr>"+
										"<td style='border: 1px solid #000'></td>"+
										"<td style='text-align:center; border: 1px solid #000'>"+string+"</td>"+
										"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].municipality_name+", "+a.asst[k].province_name+"</td>"+
										"<td style='text-align:right; border: 1px solid #000'>"+isnullperd(a.asst[k].number_served)+"</td>"+
										"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].assistance_name+"</td>"+
										"<td style='text-align:right; border: 1px solid #000'>"+addComma(a.asst[k].quantity)+"</td>"+
										"<td style='text-align:center; border: 1px solid #000'>"+todate(a.asst[k].date_augmented)+"</td>"+
										"<td style='text-align:right; border: 1px solid #000'>"+addCommaMoney(amt)+"</td>"+
									"</tr>"

								);	

								namount = 0;

							}

						}else{

							if(a.asst[k-1].municipality_id == a.asst[k].municipality_id){

								if((a.asst[k-1].number_served == a.asst[k].number_served) && (a.asst[k-1].date_augmented == a.asst[k].date_augmented)){
									var served =  "";
								}else{
									var served =  a.asst[k].number_served;
									nserve += Number(a.asst[k].number_served);

								}

								if(a.perd[i].disaster_event == a.asst[k].disaster_event){

									if(a.asst[k].augment_list_code == 'aug'){
										var string = "Augmentation Assistance";
									}else if(a.asst[k].augment_list_code == 'aug_ffw'){
										var string = "Food-for-Work";
									}else if(a.asst[k].augment_list_code == 'cfw'){
										var string = "Cash-for-Work";
									}else if(a.asst[k].augment_list_code == 'esa'){
										var string = "Emergency Shelter Assistance";
									}

									var amt = Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									namount += amt;

									var strpacks = a.asst[k].assistance_name.toLowerCase();

									if(strpacks.includes("family food pack")){
										fpacks += a.asst[k].quantity;
										nfpacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									}else{
										nfipacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									}

									$('#tbl_assistanceperdisaster tbody').append(

										"<tr>"+
											"<td style='border: 1px solid #000'></td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+string+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].municipality_name+", "+a.asst[k].province_name+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+isnullperd(served)+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].assistance_name+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addComma(a.asst[k].quantity)+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+todate(a.asst[k].date_augmented)+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addCommaMoney(amt)+"</td>"+
										"</tr>"

									);	

									namount = 0;

								}

								

							}else{

								if((a.asst[k-1].number_served == a.asst[k].number_served) && (a.asst[k-1].date_augmented == a.asst[k].date_augmented)){
									var served =  "";
								}else{
									var served =  a.asst[k].number_served;
									nserve += Number(a.asst[k].number_served);
								}

								if(a.perd[i].disaster_event == a.asst[k].disaster_event){

									if(a.asst[k].augment_list_code == 'aug'){
										var string = "Augmentation Assistance";
									}else if(a.asst[k].augment_list_code == 'aug_ffw'){
										var string = "Food-for-Work";
									}else if(a.asst[k].augment_list_code == 'cfw'){
										var string = "Cash-for-Work";
									}else if(a.asst[k].augment_list_code == 'esa'){
										var string = "Emergency Shelter Assistance";
									}

									var strpacks = a.asst[k].assistance_name.toLowerCase();

									if(strpacks.includes("family food pack")){
										fpacks += a.asst[k].quantity;
										nfpacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									}else{
										nfipacks += Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									}

									var amt = Number(a.asst[k].quantity) * Number(a.asst[k].cost);
									namount += amt;

									$('#tbl_assistanceperdisaster tbody').append(

										"<tr>"+
											"<td style='border: 1px solid #000'></td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+string+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].municipality_name+", "+a.asst[k].province_name+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+isnullperd(served)+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+a.asst[k].assistance_name+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addComma(a.asst[k].quantity)+"</td>"+
											"<td style='text-align:center; border: 1px solid #000'>"+todate(a.asst[k].date_augmented)+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addCommaMoney(amt)+"</td>"+
										"</tr>"

									);	

									namount = 0;

								}

							}


						}

					}
			}

				$('#tbl_assistanceperdisaster tbody').append(

					"<tr style='font-weight: bold; font-size: 15px; border: 1px solid #000'>"+
						"<td style='background-color: #A6A6A6; color: #000; border: 1px solid #000' colspan='5'>TOTAL Family Food Packs <sup>(# of Food Packs and Amount)</sup></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'>"+addComma(fpacks)+"</td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'>"+addCommaMoney(nfpacks)+"</td>"+
					"</tr>"

				);

				$('#tbl_assistanceperdisaster tbody').append(

					"<tr style='font-weight: bold; font-size: 15px'>"+
						"<td style='background-color: #A6A6A6; color: #000; border: 1px solid #000' colspan='7'>TOTAL Food and Non-Food Items <sup>(Amount)</sup></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'>"+addCommaMoney(nfipacks)+"</td>"+
					"</tr>"

				);

				$('#tbl_assistanceperdisaster tbody').append(

					"<tr style='font-weight: bold; font-size: 15px'>"+
						"<td style='background-color: #A6A6A6; color: #000; border: 1px solid #000' colspan='3'>TOTAL <sup> (Families Served and Amount) </sup></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'>"+addComma(nserve)+"</td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000' colspan='3'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						// "<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'></td>"+
						"<td style='text-align:right; background-color: #A6A6A6; color: #000; border: 1px solid #000'>"+addCommaMoney(namount)+"</td>"+
					"</tr>"

				);

				$('#tbl_assistanceperdisastercons tbody').empty();


				for(var i in a.perd){

					var tnserve = 0;
					var tnamount = 0;

					for(var kk in a.asst){
						if(a.perd[i].disaster_event == a.asst[kk].disaster_event){
							if(kk == 0){
								tnserve = Number(a.asst[kk].number_served);
							}else{

								if(a.asst[kk-1].municipality_id == a.asst[kk].municipality_id){
									if((a.asst[kk-1].number_served == a.asst[kk].number_served) && (a.asst[kk-1].date_augmented == a.asst[kk].date_augmented)){
									}else{
										tnserve += Number(a.asst[kk].number_served);
									}
								}else{
									if((a.asst[kk-1].number_served == a.asst[kk].number_served) && (a.asst[kk-1].date_augmented == a.asst[kk].date_augmented)){
									}else{
										tnserve += Number(a.asst[kk].number_served);
									}
								}
							}

							tnamount += Number(a.asst[kk].quantity) * Number(a.asst[kk].cost);

						}
					}


					$('#tbl_assistanceperdisastercons tbody').append(

						"<tr style='font-weight: bold'>"+
							"<td style='border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+a.perd[i].disaster_name+ " <sup>"+ todate(a.perd[i].disaster_date) + "</sup></td>"+
							"<td style='text-align:center; border: 1px solid #000; background-color: #A6A6A6; color: #000'></td>"+
							"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+addComma(tnserve)+"</td>"+
							"<td style='text-align:right; border: 1px solid #000; background-color: #A6A6A6; color: #000'>"+addCommaMoney(tnamount)+"</td>"+
						"</tr>"

					);

					for(var q in aug_types){


						var amserves = 0;
						var amamount = 0;


						for(var zz in a.asst){

							if(a.asst[zz].disaster_event == a.perd[i].disaster_event){


								if(zz == 0){
									if((a.asst[zz].augment_list_code == aug_types[q].code)){
										amserves = Number(a.asst[zz].number_served);
									}
								}else{

										if((a.asst[zz].augment_list_code == aug_types[q].code)){
											if(a.asst[zz-1].municipality_id == a.asst[zz].municipality_id){
												if((a.asst[zz-1].number_served == a.asst[zz].number_served) && (a.asst[zz-1].date_augmented == a.asst[zz].date_augmented)){
												}else{
													amserves += Number(a.asst[zz].number_served);
												}
											}else{
												if((a.asst[zz-1].number_served == a.asst[zz].number_served) && (a.asst[zz-1].date_augmented == a.asst[zz].date_augmented)){
												}else{
													amserves += Number(a.asst[zz].number_served);
												}
											}
										}

								}

								if((a.asst[zz].augment_list_code == aug_types[q].code)){
									amamount += Number(a.asst[zz].quantity) * Number(a.asst[zz].cost);
								}
							}	

						}
					
						$('#tbl_assistanceperdisastercons tbody').append(

							"<tr style='font-weight: bold'>"+
								"<td style='border: 1px solid #000; background-color: #EEEEEE; color: #000'>"+aug_types[q].name+"</td>"+
								"<td style='text-align:center; border: 1px solid #000; background-color: #EEEEEE; color: #000'></td>"+
								"<td style='text-align:right; border: 1px solid #000; background-color: #EEEEEE; color: #000'>"+addComma(amserves)+"</td>"+
								"<td style='text-align:right; border: 1px solid #000; background-color: #EEEEEE; color: #000'>"+addCommaMoney(amamount)+"</td>"+
							"</tr>"

						);

						amamount = 0;

						

						for(var m in a.muni){

							var mserves = 0;
							var mamount = 0;
							

							if(a.muni[m].disaster_event == a.perd[i].disaster_event){

								if(a.muni[m].augment_list_code == aug_types[q].code){

									for(var yy in a.asst){


										if(yy == 0){
											if((a.muni[m].municipality_id == a.asst[yy].municipality_id) && (a.asst[yy].augment_list_code == aug_types[q].code) && (a.muni[m].disaster_event == a.asst[yy].disaster_event)){
												mserves = Number(a.asst[yy].number_served);
												mamount += Number(a.asst[yy].quantity) * Number(a.asst[yy].cost);
											}
										}else{

												if((a.muni[m].municipality_id == a.asst[yy].municipality_id) && (a.asst[yy].augment_list_code == aug_types[q].code) && (a.muni[m].disaster_event == a.asst[yy].disaster_event)){
													if(a.asst[yy-1].municipality_id == a.asst[yy].municipality_id){
														if((a.asst[yy-1].number_served == a.asst[yy].number_served) && (a.asst[yy-1].date_augmented == a.asst[yy].date_augmented)){
															mamount += Number(a.asst[yy].quantity) * Number(a.asst[yy].cost);
														}else{
															mserves += Number(a.asst[yy].number_served);
															mamount += Number(a.asst[yy].quantity) * Number(a.asst[yy].cost);
														}
													}else{
														if((a.asst[yy-1].number_served == a.asst[yy].number_served) && (a.asst[yy-1].date_augmented == a.asst[yy].date_augmented)){
															mamount += Number(a.asst[yy].quantity) * Number(a.asst[yy].cost);
														}else{
															mserves += Number(a.asst[yy].number_served);
															mamount += Number(a.asst[yy].quantity) * Number(a.asst[yy].cost);
														}
													}
												}


										}

										

									}

									$('#tbl_assistanceperdisastercons tbody').append(

										"<tr style='font-weight: bold'>"+
											"<td style='border: 1px solid #000'></td>"+
											"<td style='text-align:left; border: 1px solid #000'>"+a.muni[m].municipality_name+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addComma(mserves)+"</td>"+
											"<td style='text-align:right; border: 1px solid #000'>"+addCommaMoney(mamount)+"</td>"+
										"</tr>"

									);



								}

							}

							mamount = 0;

						}


					}


				}


				$('#asstloader').hide();

				// $('#tbl_assistanceperdisaster').DataTable();

		});

		

	},4500)



}

$('#ecplaceorigin').keyup(function(){
	if($('#ecname').val() == ""){
		$('#ecplaceorigin').val('');
	}
})

$('#ecplaceorigin').change(function(){

	$('#ecplaceorigin1').val($('#ecplaceorigin option:selected').text());

})

$('#ecinow').keyup(function(){

	if($('#ecinow').val() == "" || $('#ecinow').val() == 0){

		$('#ecistatus').val("Closed");
		$('#ecfamnow').val(0);
		$('#ecpernow').val(0);

	}

})


$('#ecistatus').change(function(){

	if($('#ecistatus').val() == "Closed"){

		$('#ecinow').val(0);
		$('#ecfamnow').val(0);
		$('#ecpernow').val(0);

	}

})

var bub_count_issues = $('#bub_count_issues');

if(bub_count_issues.length){
	// issuesfound();
}

// function issuesfound(){

// 	var datas = {
// 		id : URLID()
// 	};

// 	var bub_count = 0;
// 	$('#issuesfound').empty();
// 	$.getJSON(serverip+"issuesfound",datas,function(a){
// 		for(var i in a){
// 			if(a[i].person_cum > a[i].tot_population){
// 				bub_count = bub_count + 1;
// 				$('#issuesfound').append(
// 					"<li>"+
// 	                  "<a>"+
// 	                    "<span class='message'>"+
// 	                      "Affected Population in Brgy."+a[i].brgy_name+" exceeds its total population as of 2015"+
// 	                    "</span>"+
// 	                  "</a>"+
// 	                "</li>"
// 				)
// 			}
// 		}
// 		$('#bub_count_issues').empty().append(bub_count);
// 	});

// }

function get_brgy_session(){

	var uriID = URLID();

	var cid = $('#city_dam_per_brgy').val();

	var datas = {
		uriID 	: uriID,
		cid 	: cid	
	};

	$('#brgy_dam_per_brgy').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$.getJSON(serverip+"getAllOrigin",datas,function(a){

		for(var t in a){
			$('#brgy_dam_per_brgy').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);
		}

	});

}

$('#city_dam_per_brgy').change(function(){

	var uriID = URLID();

	var cid = $('#city_dam_per_brgy').val();
	var datas = {
		uriID 	: uriID,
		cid 	: cid	
	};

	$('#brgy_dam_per_brgy').empty().append(
		"<option value=''>-- Select Barangay --</option>"
	);

	$.getJSON(serverip+"getAllOrigin",datas,function(a){

		for(var t in a){
			$('#brgy_dam_per_brgy').append(
				"<option value='"+a[t].id+"'>"+a[t].brgy_name+"</option>"
			);
		}

	});

})


$('#savedata_dam_per_brgy').click(function(){

	// $('#province_dam_per_brgy').val();
	// $('#city_dam_per_brgy').val();
	// $('#brgy_dam_per_brgy').val();
	// $('#damperbrgy_totally').val();
	// $('#damperbrgy_partially').val();
	// $('#damperbrgy_dead').val();
	// $('#damperbrgy_injured').val();
	// $('#damperbrgy_missing').val();

	var uriID = URLID();

	var datas = {

		disaster_title_id 			: uriID,
		provinceid 					: $('#province_dam_per_brgy').val(), 
		municipality_id 	 		: $('#city_dam_per_brgy').val(), 		
		brgy_id 					: $('#brgy_dam_per_brgy').val(), 
		totally_damaged 			: $('#damperbrgy_totally').val(), 
		partially_damaged 			: $('#damperbrgy_partially').val(), 
		dead 						: '',
		injured 					: '', 
		missing 					: '',
		costasst_brgy 				: $('#costasst_brgy').val() 

	};

	if($('#province_dam_per_brgy').val() == "" || $('#city_dam_per_brgy').val() == "" || $('#brgy_dam_per_brgy').val() == ""){
		msgbox("Kindly Fill in [Province], [Municipality] and [Barangay] to continue!");
	}else{

		if($('#damperbrgy_totally').val() == "" && $('#damperbrgy_partially').val() == "" && $('#costasst_brgy').val() == ""){

			msgbox("Kindly Fill in [Totally Damaged], [Partially Damaged] or [Barangay Cost of Assistance to continue!]");

		}else{

			$.getJSON(serverip+"saveDamageperBrgy",datas,function(a){

				if(a == 1){
					if($('#user_level_access_session').text() == 'national'){
						$('#province_dam_per_brgy').val('');
						$('#city_dam_per_brgy').val('');
					}else if($('#user_level_access_session').text() == 'province'){
						$('#city_dam_per_brgy').val('');
					}
					
					$('#damperbrgy_totally').val('');
					$('#damperbrgy_partially').val('');
					$('#damperbrgy_dead').val('');
					$('#damperbrgy_injured').val('');
					$('#damperbrgy_missing').val('');
					
					$('#brgy_dam_per_brgy').val('');
					$('#costasst_brgy').val('');
					alerts();
					get_dromic(uriID);

				}else{

					msgbox("Ooops!!! Something went wrong while saving your data. Municipality or Barangay may already exist!")

				}
			});

		}

	}

})

var assistancetype_li = $('#assistancetype');

if(assistancetype_li.length){

	$('#assistancetype').empty().append(
		"<option value=''>-- Assistance Type --</option>"
	);

	$.getJSON(serverip+"get_assistancetype_li",function(a){
		for(var i in a){
			$('#assistancetype').append(
				"<option value='"+a[i].assistance_type_sub_gen+"'>"+a[i].assistance_name+"</option>"
			)
		}
	});

	$.getJSON(serverip+"get_disaster_events",function(a){
		for(var i in a){
			$('#disasterevent').append(
				"<option value='"+a[i].id+"'>"+a[i].disaster_name+"</option>"
			)
		}
	});

}

var ass;
var asst_list = [];

$('#assistancetype').change(function(){
	
	ass = $('#assistancetype').val();

	if(ass == "aug" || ass == "aug_ffw" || ass == "aug_fsub" || ass == "prep"){
		$('#chooseasst').empty().append(
			"<option value=''>--- Select Assistance ---</option>"
		)
		$.getJSON(serverip+"get_fnfi",function(a){
			for(var i in a){
				$('#chooseasst').append(
					"<option value='"+a[i].id+"'>"+a[i].fnfi_name+"</option>"
				)
			}
		});
	}else{
		$('#chooseasst').empty();
		$.getJSON(serverip+"get_assistancetype_li",function(a){
			for(var i in a){
				if(a[i].assistance_type_sub_gen == ass){
					$('#chooseasst').append(
						"<option value='"+a[i].assistance_type_sub_gen+"'>"+a[i].assistance_name+"</option>"
					)
					$('#acost').val(a[i].cost);
				}
				
			}
		});
	}

})



$('#addasst').click(function(){

	asst_list.push({
		assistance_sub_gen 		 	: ass,
		assistance_name 			: $('#chooseasst option:selected').text(),
		cost 						: $('#acost').val(),
		quantity 					: $('#quantity').val(),
		date_aug 					: todate2($('#single_cal1').val())
	})

	asst_list_item();

})

function asst_list_item(){

	$('#tbl_asstlist tbody').empty();

	for(var i in asst_list){
		$('#tbl_asstlist tbody').append(
			"<tr>"+
				"<td>"+asst_list[i].assistance_name+"</td>"+
				"<td style='text-align:right'>"+asst_list[i].cost+"</td>"+
				"<td style='text-align:right'>"+asst_list[i].quantity+"</td>"+
				"<td style='text-align:right'>"+(Number(asst_list[i].quantity) * Number(asst_list[i].cost)).toLocaleString()+"</td>"+
				"<td style='text-align:center; vertical-align:middle'><button type='button' class='btn btn-danger btn-xs removeasst_li' value='"+i+"'><i class='fa fa-times-circle'></i></button></td>"+
			"</tr>"
		)
	}

}

$("#tbl_asstlist").on('click','.removeasst_li',function(){

	var k = $(this).val();

	$(this).closest('tr').remove();

	asst_list.splice(k,1);

	asst_list_item();

});

$('#saveasst_spec').click(function(){

	var tot = 0;

	for(var l in asst_list){
		tot = tot + (Number(asst_list[l].cost) * Number(asst_list[l].quantity));
	}

	var datas = {
		details :{
			provinceid  			: $('#province').val(),
			municipality_id 		: $('#city').val(),
			number_served 			: $('#augnumberserved').val(),
			amount 					: tot,
			assistance_type_code 	: $('#assistancetype').val(),
			remarks_particulars 	: $('#remarks_particulars').val(),
			disaster_event 			: $('#disasterevent').val()
		},
		asst_list
	}

	if(datas.details.provinceid == "" || datas.details.municipality_id == "" || datas.details.number_served == "" || datas.details.amount == ""){
		msgbox("Kindly fill province, municipality, number served, assistance type and augmentation date to continue!");
	}else{

		$.getJSON(serverip+"save_augmentation_assistance",datas,function(a){

			var assttyperelief = $('#assttyperelief').val();

			var yearss = new Date();

			y = $.datepicker.formatDate('yy', new Date(yearss));
			m = $.datepicker.formatDate('mm', new Date(yearss));

			get_augmentation_list(m,y,assttyperelief);

			$('#province').val('');
			$('#city').val('');
			$('#augnumberserved').val('');
			$('#assistancetype').val('');
			$('#remarks_particulars').val('');
			$('#single_cal1').val('');
			$('#chooseasst').val('');
			$('#acost').val('');
			$('#quantity').val('');
			$('#disasterevent').val('');

			asst_list = [];
			asst_list_item();
		});
	}

})

var tbl_congressional = $('#tbl_congressional');

$('#exporttoexcelcongy').click(function(){

	var cyimplementy = $('#cyimplementy').text();

	toExcelTableCong("tbl_congressional_year","Yearly Congressional Report "+cyimplementy);

})

$('#exporttoexcelcongq').click(function(){

	var quarters = ["1st","2nd","3rd","4th"];

	if($('#quarterpicker').val() == ""){

		var today = new Date();
		var month = today.getMonth() + 1;
	    var quarter = Math.ceil(month / 3);
	    y = $.datepicker.formatDate('yy', today);

	    for(var i in quarters){
			if(Number(quarter-1) == i){
				toExcelTableCong("tbl_congressional_quarter",quarters[i]+" Quarter " +y+ " Congressional Report");
				break;
			}
		}

		
	}else{

		var quarter = $('#quarterpicker').val();

		quarter = quarter.split("-");

		m = quarter[0];
		y = quarter[1];

		if(isnull(m) == "-" || isnull(y) == "-"){
			$.confirm({
			    title: '<span class="red">Error!</span>',
			    content: 'The value you enter is invalid.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Okay',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift']
			    	}
			    }
			});
		}else{
			if(m > 4){
				$.confirm({
				    title: '<span class="red">Error!</span>',
				    content: 'The value you enter is invalid.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Okay',
				    		btnClass: 'btn-danger',
				    		keys: ['enter', 'shift']
				    	}
				    }
				});
			}else{
				for(var i in quarters){
					if(Number(m-1) == i){
						toExcelTableCong("tbl_congressional_quarter",quarters[i]+" Quarter " +y+ " Congressional Report");
						break;
					}
				}
			}
		}

	}

})

if(tbl_congressional.length){


	$('#exporttoexcelcong').click(function(){

		if($('#monthpicker').val() == ""){
			var year = new Date();
			y = $.datepicker.formatDate('yy', new Date(year));
			m = $.datepicker.formatDate('MM', new Date(year));

			toExcelTableCong("tbl_congressional","Congressional Database_Cale_"+y+"- DReAMU"+" "+m+ " "+y);
		}else{

			var months = ["January","February","March","April","May","June","July","August","September","October","November","December"];

			var month = $('#monthpicker').val();

			month = month.split("-");

			m = month[0];
			y = month[1];

			if(isnull(m) == "-" || isnull(y) == "-"){
				$.confirm({
				    title: '<span class="red">Error!</span>',
				    content: 'The value you enter is invalid.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Okay',
				    		btnClass: 'btn-danger',
				    		keys: ['enter', 'shift']
				    	}
				    }
				});
			}else{
				if(m > 12){
					$.confirm({
					    title: '<span class="red">Error!</span>',
					    content: 'The value you enter is invalid.',
					    buttons: {
					    	confirmAction: {
					    		text: '<i class="fa fa-check"></i> Okay',
					    		btnClass: 'btn-danger',
					    		keys: ['enter', 'shift']
					    	}
					    }
					});
				}else{
					for(var i in months){
						if(Number(m-1) == i){
							toExcelTableCong("tbl_congressional","Congressional Database_Cale_"+y+"- DReAMU"+" "+months[i]+ " "+y);
							break;
						}
					}
				}
			}

		}

	})

	var toExcelTableCong = function(tbl,name){
		$("#"+tbl).table2excel({
			exclude 	: ".noExl",
			name 		: 'Sheet1',
			filename 	: name
		});
	}

	$("#monthpicker").mask('00-0000');
	$("#quarterpicker").mask('00-0000');

	var year = new Date();
	y = $.datepicker.formatDate('yy', new Date(year));
	m = $.datepicker.formatDate('mm', new Date(year));

	congressional(m,y);

	var today = new Date();
	var month = today.getMonth() + 1;
    var quarter = Math.ceil(month / 3);

    quarterly_congressional(quarter,y);

} 

function congressional(month,year){

	var serve 	= "";
	var amount 	= "";

	var datas = {
		month 	: month,
		year 	: year
	}

	$('#tbl_congressional tbody').empty();

	$.getJSON(serverip+"get_congressional",datas,function(response){

		$('#congreloader').hide();

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.cfw2){
					if(response.cfw2[k].municipality_id == response.city[i].municipality_id){
						serve	= response.cfw2[k].serve;
						amount	= response.cfw2[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Cash for Work  is short term intervention aims for temporarry provision of employment to distress/displaced individualsby participating on preparedness,mitigation,relief,rehabilitaion or risk reduction activities , in exchange for service render profgram receipient will be provided cash assistance.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.esa){
					if(response.esa[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.esa[k].serve;
						amount	= response.esa[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Is provision of of emergency 'self build' shelter assistance thru limited material/financial assistance of affected families.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.ffw){
					if(response.ffw[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.ffw[k].serve;
						amount	= response.ffw[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			for(var k in response.aug){
				if(response.aug[k].municipality_id == response.city[i].municipality_id){
					serve 	= response.aug[k].serve;
					amount	= response.aug[k].amount;
				}
			}
			if(i == 0){
				$('#tbl_congressional tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='90'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}else{
				$('#tbl_congressional tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}

			serve 	= "";
			amount 	= "";
		}

	});


}

$('#monthpicker').keydown(function(e){
	if(e.keyCode == 13){
	    $('#monthsearch').trigger("click");
	}
})

$('#monthsearch').click(function(){

	var months = ["January","February","March","April","May","June","July","August","September","October","November","December"];

	var month = $('#monthpicker').val();

	month = month.split("-");

	m = month[0];
	y = month[1];

	if(isnull(m) == "-" || isnull(y) == "-"){
		$.confirm({
		    title: '<span class="red">Error!</span>',
		    content: 'The value you enter is invalid.',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
		if(m > 12){
			$.confirm({
			    title: '<span class="red">Error!</span>',
			    content: 'The value you enter is invalid.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Okay',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift']
			    	}
			    }
			});
		}else{
			$('#congreloader').show();
			$('#cyimplement').text(y);
			for(var i in months){
				if(Number(m-1) == i){
					$('#asofimplement').text(months[i]+" "+y);
					break;
				}
			}
			
			congressional(m,y);
		}
	}

})

$('#quarterpicker').keydown(function(e){
	if(e.keyCode == 13){
	    $('#quartersearch').trigger("click");
	}
})

$('#quartersearch').click(function(){

	var quarters = ["1<sup>st</sup>","2<sup>nd</sup>","3<sup>rd</sup>","4<sup>th</sup>"];

	var quarter = $('#quarterpicker').val();

	quarter = quarter.split("-");

	m = quarter[0];
	y = quarter[1];

	if(isnull(m) == "-" || isnull(y) == "-"){
		$.confirm({
		    title: '<span class="red">Error!</span>',
		    content: 'The value you enter is invalid.',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
		if(m > 4){
			$.confirm({
			    title: '<span class="red">Error!</span>',
			    content: 'The value you enter is invalid.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Okay',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift']
			    	}
			    }
			});
		}else{
			$('#congreloader').show();
			$('#cyimplementq').text(y);
			for(var i in quarters){
				if(Number(m-1) == i){
					$('#asofimplementq').empty().append(quarters[i]+ " Quarter "+" "+y);
					break;
				}
			}
			
			quarterly_congressional(m,y);
		}
	}

})

$('#yearpicker').keydown(function(e){
	if(e.keyCode == 13){
	    $('#yearsearch').trigger("click");
	}
})

$('#yearsearch').click(function(){

	var year = $('#yearpicker').val();

	if(isnull(year) == "-"){
		$.confirm({
		    title: '<span class="red">Error!</span>',
		    content: 'The value you enter is invalid.',
		    buttons: {
		    	confirmAction: {
		    		text: '<i class="fa fa-check"></i> Okay',
		    		btnClass: 'btn-danger',
		    		keys: ['enter', 'shift']
		    	}
		    }
		});
	}else{
		$('#congreloader').show();
		$('#cyimplementy').text(year);
		yearly_congressional(year);
	}

})

var tbl_congressional_year = $('#tbl_congressional_year');

if(tbl_congressional_year.length){

	var year = new Date();
	y = $.datepicker.formatDate('yy', new Date(year));
	yearly_congressional(y);

}

function yearly_congressional(year){

	var serve 	= "";
	var amount 	= "";

	var datas = {
		year 	: year
	}

	$('#tbl_congressional_year tbody').empty();

	$.getJSON(serverip+"get_congressional_yearly",datas,function(response){

		$('#congreloader').hide();

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.cfw2){
					if(response.cfw2[k].municipality_id == response.city[i].municipality_id){
						serve	= response.cfw2[k].serve;
						amount	= response.cfw2[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Cash for Work  is short term intervention aims for temporarry provision of employment to distress/displaced individualsby participating on preparedness,mitigation,relief,rehabilitaion or risk reduction activities , in exchange for service render profgram receipient will be provided cash assistance.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.esa){
					if(response.esa[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.esa[k].serve;
						amount	= response.esa[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Is provision of of emergency 'self build' shelter assistance thru limited material/financial assistance of affected families.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.ffw){
					if(response.ffw[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.ffw[k].serve;
						amount	= response.ffw[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_year tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			for(var k in response.aug){
				if(response.aug[k].municipality_id == response.city[i].municipality_id){
					serve 	= response.aug[k].serve;
					amount	= response.aug[k].amount;
				}
			}
			if(i == 0){
				$('#tbl_congressional_year tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='90'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}else{
				$('#tbl_congressional_year tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}

			serve 	= "";
			amount 	= "";
		}

	});

}

function quarterly_congressional(quarter,year){

	var serve 	= "";
	var amount 	= "";

	var datas = {
		quarter : quarter,
		year 	: year
	}

	$('#tbl_congressional_quarter tbody').empty();

	$.getJSON(serverip+"get_congressional_quart",datas,function(response){

		$('#congreloader').hide();

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.cfw2){
					if(response.cfw2[k].municipality_id == response.city[i].municipality_id){
						serve	= response.cfw2[k].serve;
						amount	= response.cfw2[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Cash for Work  is short term intervention aims for temporarry provision of employment to distress/displaced individualsby participating on preparedness,mitigation,relief,rehabilitaion or risk reduction activities , in exchange for service render profgram receipient will be provided cash assistance.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Cash-for-Work Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.esa){
					if(response.esa[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.esa[k].serve;
						amount	= response.esa[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Is provision of of emergency 'self build' shelter assistance thru limited material/financial assistance of affected families.</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Emergency Shelter Assistance)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			if(response.city[i].district != "Z"){
				for(var k in response.ffw){
					if(response.ffw[k].municipality_id == response.city[i].municipality_id){
						serve 	= response.ffw[k].serve;
						amount	= response.ffw[k].amount;
					}
				}
				if(i == 0){
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='73'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}else{
					$('#tbl_congressional_quarter tbody').append(
						"<tr>"+
							"<td style='padding:3px; border: 1px solid #000'>Disaster (Food for Work)</td>"+
							"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
							"<td style='padding:3px; border: 1px solid #000'></td>"+
						"</tr>"
					)
				}

				serve 	= "";
				amount 	= "";
			}
		}

		for(var i in response.city){
			for(var k in response.aug){
				if(response.aug[k].municipality_id == response.city[i].municipality_id){
					serve 	= response.aug[k].serve;
					amount	= response.aug[k].amount;
				}
			}
			if(i == 0){
				$('#tbl_congressional_quarter tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000; width:300px'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000; width: 100px; text-align:justify' rowspan='90'>Provision of food to disaster survivors in exchange to their effort in rendering a community volunteer work in restoring/rebuilding their damaged houses</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}else{
				$('#tbl_congressional_quarter tbody').append(
					"<tr>"+
						"<td style='padding:3px; border: 1px solid #000'>Disaster Relief Augmentation</td>"+
						"<td style='padding:3px; border: 1px solid #000'>"+response.city[i].province_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:center'>"+response.city[i].district+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:left'>"+response.city[i].municipality_name+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'>Families</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(serve.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000; text-align:right'>"+isnull(amount.toLocaleString())+"</td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
						"<td style='padding:3px; border: 1px solid #000'></td>"+
					"</tr>"
				)
			}

			serve 	= "";
			amount 	= "";
		}

	});

}


$('#famcumO').keyup(function(){

	$('#famnowO').val($('#famcumO').val());

	var ar = $('#famcumO').val();
	ar = Number(ar) * 5;

	$('#personcumO').val(ar);
	$('#personnowO').val(ar);

})

$('#famnowO').keyup(function(){

	var ar = $('#famnowO').val();
	ar = Number(ar) * 5;

	$('#personnowO').val(ar);

})

$('#personcumO').keyup(function(){

	var aa = $('#personcumO').val();

	$('#personnowO').val(aa);

})


$('#searchmonthrelief').mask('00-0000');

$('#searchmonthrelief').keyup(function(e){

	var val = $('#searchmonthrelief').val();
	var assttyperelief = $('#assttyperelief').val();

	val = val.split("-");

	if(e.keyCode == 13){

		if(isnull(val[0]) == "-" || isnull(val[1]) == "-"){
			$.confirm({
			    title: '<span class="red">Error!</span>',
			    content: 'The value you enter is invalid.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Okay',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift']
			    	}
			    }
			});
		}else{
			if(val[0] > 13){
				$.confirm({
				    title: '<span class="red">Error!</span>',
				    content: 'The value you enter is invalid.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Okay',
				    		btnClass: 'btn-danger',
				    		keys: ['enter', 'shift']
				    	}
				    }
				});
			}else{
				get_augmentation_list(val[0],val[1],assttyperelief);
			}
		}
      
    }

})

$('#assttyperelief').change(function(){

	var assttyperelief = $('#assttyperelief').val();

	if($('#searchmonthrelief').val() == ""){

		var yearss = new Date();
		y = $.datepicker.formatDate('yy', new Date(yearss));
		m = $.datepicker.formatDate('mm', new Date(yearss));

		get_augmentation_list(m,y,assttyperelief);

	}else{

		var val = $('#searchmonthrelief').val();

		val = val.split("-");

		if(isnull(val[0]) == "-" || isnull(val[1]) == "-"){
			$.confirm({
			    title: '<span class="red">Error!</span>',
			    content: 'The value you enter is invalid.',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Okay',
			    		btnClass: 'btn-danger',
			    		keys: ['enter', 'shift']
			    	}
			    }
			});
		}else{
			if(val[0] > 13){
				$.confirm({
				    title: '<span class="red">Error!</span>',
				    content: 'The value you enter is invalid.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Okay',
				    		btnClass: 'btn-danger',
				    		keys: ['enter', 'shift']
				    	}
				    }
				});
			}else{
				get_augmentation_list(val[0],val[1],assttyperelief);
			}
		}

	}

})

var my_webusers_list = $('#webusers');

if(my_webusers_list.length){
	getWebUsers();
	$('#loader').hide();
}

function getWebUsers(){

	$('#web_users_list tbody').empty();

	$.getJSON(serverip+"get_web_user",function(a){
		
		for(var i in a){

			if(a[i].isactivated == 't'){
				var style = 'background-color : #DFF0D8';
				var name = "deactivateuser";
			}else{
				var style = 'background-color : #F2DEDE';
				var name = "activateuser";
			}

			$('#web_users_list tbody').append(
				"<tr style='"+style+"'>"+
					"<td style='text-align:left'>"+a[i].fullname+"</td>"+
					"<td style='text-align:center'>"+a[i].position+"</td>"+
					"<td style='text-align:center'>"+a[i].agency+"</td>"+
					"<td style='text-align:center'>"+a[i].username+"</td>"+
					"<td style='text-align:center'>"+a[i].isactivated+"</td>"+
					"<td style='text-align:center'>"+
						"<input type='checkbox' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Click to select user' style='display: none' name='"+name+"' value='"+a[i].id+"'>"+
					"</td>"+
				"</tr>"
			);
		}

		$('[data-toggle="tooltip"]').tooltip();

		$('#btnactivateuser').click(function(){

			$('[name="activateuser"]').css({
				'display' : 'inline'
			})

			$('[name="deactivateuser"]').css({
				'display' : 'none'
			})

			useractivation = 1;

		})

		$('#btndeactivateuser').click(function(){

			$('[name="deactivateuser"]').css({
				'display' : 'inline'
			})

			$('[name="activateuser"]').css({
				'display' : 'none'
			})

			useractivation = 0;

		})

	});

}

var my_users_list = $('#my_users_list');

if(my_users_list.length){
	getMobileUsers();
	$('#loader').hide();
}

var useractivation = -1;

function getMobileUsers(){

	$('#my_users_list tbody').empty();

	$.getJSON(serverip+"get_mobile_user",function(a){

		for(var i in a){

			var string = a[i].time_registered;

			string = string.split(":");

			var h = string[0];

			var m = string[1];

			var s = string[2];

			s = s.split(".");

			var ss = s[0];

			var time_registered = h + ":" + m + ":" + ss;

			if(a[i].isactivated == 't'){
				var style = 'background-color : #DFF0D8';
				var name = "deactivateuser";
			}else{
				var style = 'background-color : #F2DEDE';
				var name = "activateuser";
			}

			$('#my_users_list tbody').append(
				"<tr style='"+style+"'>"+
					"<td style='text-align:left'>"+a[i].firstname+" "+a[i].lastname+"</td>"+
					"<td style='text-align:center'>"+a[i].address+"</td>"+
					"<td style='text-align:center'>"+a[i].agency+"</td>"+
					"<td style='text-align:center'>"+a[i].designation+"</td>"+
					"<td style='text-align:center'>"+a[i].emailaddress+"</td>"+
					"<td style='text-align:center'>"+a[i].mobile+"</td>"+
					"<td style='text-align:center'>"+a[i].username+"</td>"+
					"<td style='text-align:center'>"+todate(a[i].date_registered)+"</td>"+
					"<td style='text-align:center'>"+time_registered+"</td>"+
					"<td style='text-align:center'>"+
						"<input type='checkbox' class='btn btn-xs btn-danger' data-toggle='tooltip' title='Click to select user' style='display: none' name='"+name+"' value='"+a[i].id+"'>"+
					"</td>"+
				"</tr>"
			);

		}

		$('[data-toggle="tooltip"]').tooltip();

		$('#btnactivateuser').click(function(){

			$('[name="activateuser"]').css({
				'display' : 'inline'
			})

			$('[name="deactivateuser"]').css({
				'display' : 'none'
			})

			useractivation = 1;

		})

		$('#btndeactivateuser').click(function(){

			$('[name="deactivateuser"]').css({
				'display' : 'inline'
			})

			$('[name="activateuser"]').css({
				'display' : 'none'
			})

			useractivation = 0;

		})

	})

}

var cwebuserslist = [];

$('#btnsavewebactivation').click(function(){

	if(useractivation < 0){

		msgbox("Kindly select action to cotinue!");

	}else{

		if(useractivation == 0){

			var arr = $('[name="deactivateuser"]');

			var webuserslist = [];

			for(var i = 0 ; i < arr.length ; i++){

				if(arr[i].checked == 1){

					webuserslist.push({
						id : arr[i].value
					});

				}

			}


			if(webuserslist.length < 1){

				msgbox("Kindly select users to continue!");

			}else{

				$.confirm({
				    title: '<span class="red">Confirm Action!</span>',
				    content: 'Are you sure you to de-activate the selected user/s?',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-blue',
				    		keys: ['enter', 'shift'],
				    		action: function(){

				    			var datas = {
									webuserslist
								}

								$.getJSON(serverip+"deactivatewebuser",datas,function(a){
									getWebUsers();
									useractivation = -1;
								});
				            }
				    	},
				    	cancelAction: {
				    		text: '<i class="fa fa-times-circle"></i> No',
				    		btnClass: 'btn-red',
				    		action: function(){}
				    	}
				    }

				});

			}


		}else{

			var arr = $('[name="activateuser"]');

			for(var i = 0 ; i < arr.length ; i++){

				if(arr[i].checked == 1){

					cwebuserslist.push({
						id : arr[i].value
					});

				}

			}

			if(cwebuserslist.length < 1){

				msgbox("Kindly select users to continue!");

			}else{

				$('#addPrivilegesModal').modal({
					backdrop: 'static',
    				keyboard: false
				});

			}
		}

	}
	
})

$('#isadminpriv').change(function(){

	$('#iscancreatepriv').prop('checked',this.checked);
	$('#isdswd').prop('checked',this.checked);

})

function continueWebActivation(){

	$.confirm({
	    title: '<span class="red">Confirm Action!</span>',
	    content: 'Are you sure you to activate the selected user/s?',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-blue',
	    		keys: ['enter', 'shift'],
	    		action: function(){

	    			var datas = {
						isadminpriv 		: $('#isadminpriv').is(":checked"),
						iscancreatepriv		: $('#iscancreatepriv').is(":checked"),
						isdswd				: $('#isdswd').is(":checked"),
						cwebuserslist
					}

					console.log(cwebuserslist);

					$.getJSON(serverip+"activatewebuser",datas,function(a){
						$('#addPrivilegesModal').modal('hide');
						getWebUsers();
						useractivation = -1;
					});
	            }
	    	},
	    	cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> No',
	    		btnClass: 'btn-red',
	    		action: function(){}
	    	}
	    }

	});

}

$('#btnsaveactivation').click(function(){

	if(useractivation < 0){

		msgbox("Kindly select action to cotinue!");

	}else{

		if(useractivation == 0){

			var arr = $('[name="deactivateuser"]');

			var userslist = [];

			for(var i = 0 ; i < arr.length ; i++){

				if(arr[i].checked == 1){

					userslist.push({
						id : arr[i].value
					});

				}

			}


			if(userslist.length < 1){

				msgbox("Kindly select users to continue!");

			}else{

				var datas = {

					userslist

				}

				$.getJSON(serverip+"deactivateuser",datas,function(a){

					getMobileUsers();

					useractivation = -1;

				});

			}


		}else{

			var arr = $('[name="activateuser"]');

			var userslist = [];

			for(var i = 0 ; i < arr.length ; i++){

				

				if(arr[i].checked == 1){

					userslist.push({
						id : arr[i].value
					});

				}

			}

			if(userslist.length < 1){

				msgbox("Kindly select users to continue!");

			}else{

				var datas = {

					userslist

				}

				$.getJSON(serverip+"activateuser",datas,function(a){

					getMobileUsers();

					useractivation = -1;

				});


			}

		}

	}

})



var my_tbl_disaster = $('#my_tbl_disaster');


if(my_tbl_disaster.length){
	ReportsAssignment();
	$('#loader').hide();
}

function ReportsAssignment(){

	var datas = {

		username : $('#usernameid').text()

	};

	$('#my_tbl_disaster tbody').empty();

	$('#tbl_users_list tbody').empty();

	$.getJSON(serverip+"get_my_disaster",datas,function(a){

		for(var i = 0 ; i < a.disaster.length ; i++){

			$('#my_tbl_disaster tbody').append(
				"<tr>"+
					"<td style='text-align:center'>"+ Number(i+1) + "</td>"+
					"<td>"+a.disaster[i].disaster_name+"</td>"+
					"<td style='text-align:center'>"+todate(a.disaster[i].disaster_date)+"</td>"+
					"<td style='text-align:center'><input type='checkbox' value='"+a.disaster[i].id+"' name='checkdisaster'></td>"+
				"</tr>"
			)

		}

		for(var i in a.users){

			$('#tbl_users_list tbody').append(
				"<tr>"+
					"<td>"+a.users[i].fullname+"</td>"+
					"<td style='text-align:center'>"+a.users[i].province_name+"</td>"+
					"<td style='text-align:center'>"+a.users[i].municipality_name+"</td>"+
					"<td style='text-align:center'>"+a.users[i].agency+"</td>"+
					"<td style='text-align:center'>"+a.users[i].designation+"</td>"+
					"<td style='text-align:center'><input type='checkbox' value='"+a.users[i].username+"' name='checkuser'></td>"+
				"</tr>"
			)

		}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		// $('#tbl_users_list').DataTable({
		// 	bLengthChange : !1
		// });

		// $('#my_tbl_disaster').DataTable({
		// 	bLengthChange : !1,
		// 	bSort : !1
		// });

		// $("[name='checkdisaster']").click(function(){

		// 	var disaster_reports = [];

		// 	var d = $("[name='checkdisaster']");

		// 	for(var j = 0 ; j < d.length ; j++){

		// 		if(d[j].checked == true){
		// 			disaster_reports.push(d[j].value);
		// 		}

		// 	}

		// 	if(disaster_reports.length < 1){

		// 		var u = $("[name='checkuser']");

		// 		for(var j = 0 ; j < u.length ; j++){

		// 			u[j].checked = false;

		// 		}

		// 	}

		// });

		// $("[name='checkuser']").click(function(){

		// 	var disaster_reports = [];

		// 	var d = $("[name='checkdisaster']");

		// 	for(var j = 0 ; j < d.length ; j++){

		// 		if(d[j].checked == true){
		// 			disaster_reports.push(d[j].value);
		// 		}

		// 	}

		// 	if(disaster_reports.length < 1){

		// 		msgbox("Kindly select report/s to assign!");

		// 		var u = $("[name='checkuser']");

		// 		for(var j = 0 ; j < u.length ; j++){

		// 			u[j].checked = false;

		// 		}

		// 	}


		// })

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


	});

}

$('#btn_reportassignment').click(function(){

	var disaster_reports = [];

	var users_list = [];

	var data = [];

	var username = $('#usernameid').text();

	var d = $("[name='checkdisaster']");

	for(var j = 0 ; j < d.length ; j++){

		if(d[j].checked == true){
			disaster_reports.push({
				dromic_id : d[j].value
			});
		}

	}

	var u = $("[name='checkuser']");

	for(var j = 0 ; j < u.length ; j++){

		if(u[j].checked == true){
			users_list.push({
				can_access_username: u[j].value
			});
		}

	}


	if(disaster_reports.length < 1 || users_list.length < 1){

		msgbox("Kindly select Disaster Report and Users to continue!");

	}else{

		if($('#reportpriv').val() == ""){

			msgbox("Kindly select privileges to continue");

		}else{


			var datas = {
				disaster_reports 	: disaster_reports,
				users_list 			: users_list,
				username 			: username,
				can_edit 			: $('#reportpriv').val()
			};

		// console.log(datas);

			$.confirm({
			    title: '<span class="red">Confirm Action!</span>',
			    content: 'Are you sure you to assign the reports to selected user/s?',
			    buttons: {
			    	confirmAction: {
			    		text: '<i class="fa fa-check"></i> Yes',
			    		btnClass: 'btn-blue',
			    		keys: ['enter', 'shift'],
			    		action: function(){

			    			$('#loader').show();

			    			$.getJSON(serverip+"save_reports_assignment",datas,function(a){

			    				$('#loader').hide();

								if(a == 1){

									alerts();

									var d = $("[name='checkdisaster']");

									for(var j = 0 ; j < d.length ; j++){

										d[j].checked = false;

									}

									var u = $("[name='checkuser']");

									for(var j = 0 ; j < u.length ; j++){

										u[j].checked = false;

									}

								}else{

									msgbox("Ooops... Something went wrong while saving data!");

								}

							});
			            }
			    	},
			    	cancelAction: {
			    		text: '<i class="fa fa-times-circle"></i> No',
			    		btnClass: 'btn-red',
			    		action: function(){

			    			var d = $("[name='checkdisaster']");

							for(var j = 0 ; j < d.length ; j++){

								d[j].checked = false;

							}

							var u = $("[name='checkuser']");

							for(var j = 0 ; j < u.length ; j++){

								u[j].checked = false;

							}

			            }
			    	}
			    }

			});

		}


	}



})


$('#addCommentsbtn').click(function(){

	$('#addCommentsModal').dialog("open");

})

function saveComment(){

	var uriID = URLID();

	var datas = {

		msg 		: $('#txt_comment').val(),
		id 			: uriID,
		username 	: $('#usernameid').text()

	}

	if(datas.msg == ""){
		msgbox("Kindly input message to continue!");
	}else{

		$.getJSON(serverip+"save_report_comment",datas,function(a){

			if(a == 1){

				alerts("Comment successfully saved!");

				$('#txt_comment').val('');	

				get_comments();

			}else{

				msgbox("Ooops... something went wrong while trying to save the comment.");

			}

		});
	}

}

function get_comments(){
	
	var uriID = URLID();

	var datas = {

		id 		: uriID

	}

	$('#div_comment').empty();

	$.getJSON(serverip+"get_comments",datas,function(a){

		var c = 0;


		for(var i in a.comment){

			c += 1;

			var d = a.comment[i].time;

			d = d.split(':');

			var h = d[0];

			if(Number(h) > 12){

				var hr = Number(h) - 12;

			}else{

				var hr = d[0];

			}

			if(Number(h) >= 12){
				var postfix = "pm";
			}else{
				var postfix = "am";
			}

			var mr = d[1];

			if($('#usernameid').text() == a.comment[i].by_user){
				var string = "<button class='btn btn-xs btn-primary' style='border-radius: 100px'>Edit</button>";
			}else{
			 	var string = "";
			}

			var str = "";

			for(var j in a.reply){

				if(a.reply[j].comment_id == a.comment[i].id){

					var dd = a.reply[i].time;

					dd = dd.split(':');

					var hs = dd[0];

					if(Number(hs) > 12){

						var hrs = Number(hs) - 12;

					}else{

						var hrs = dd[0];

					}

					if(Number(hs) >= 12){
						var postfixs = "pm";
					}else{
						var postfixs = "am";
					}

					var mrs = dd[1];


					str += "<div class='col-sm-12' style='background-color: #f0f0f0; border-radius: 20px; padding: 3px; margin-bottom: 3px'><div class='col-sm-10'> <label style='cursor:pointer'>" + a.reply[j].by_user + "</label> " +a.reply[j].msg+"</div> <div class='col-sm-2 pull-right' style='text-align:right'>"+ todate(a.reply[i].date_added)+ " " +hrs+":"+mrs+" "+postfixs+"</div></div>";

				}

			}

			var string = "";

			$('#div_comment').append(

				"<div class='panel panel-danger'>"+
			      "<div class='panel-heading'>" + todate(a.comment[i].date) + " " + hr + ":" + mr + " " + postfix + "</div>"+
			      "<div class='panel-body'>"+
			      	"<div class='col-sm-12' style='background-color: #F0F8FF; border-radius: 20px; padding: 5px; vertical-align:middle'> <label style='cursor:pointer; margin-bottom: 3px'>" + a.comment[i].by_user + "</label> " +a.comment[i].msg+"</div>"+ //string +
			      	"<div class='col-sm-12' style='margin-top: 3px'><button class='btn btn-xs btn-primary' style='border-radius: 100px' onclick='showReply("+i+")'>Reply</button> " + string +" </div>"+
			      	str+
			      	// "<div class='col-sm-12'><div class='col-sm-12' style='background-color: #f0f0f0; border-radius: 20px; padding: 5px; margin-bottom: 3px'> <label style='cursor:pointer'>" + a.comment[i].by_user + "</label> " +a.comment[i].msg+"</div></div>"+ //string +
			      	"<div style='display:none' id='divreply_"+i+"'>"+
				      	"<div class='col-sm-11'><textarea data-autoresize class='form-control input-sm' style='border-radius: 5px; resize:none ; overflow: hidden' placeholder='Write a reply...' id='txtreply_"+i+"' rows='1'></textarea></div>"+
				      	"<div class='col-sm-1'><button class='btn btn-xs btn-success pull-right' style='border-radius: 100px; margin-top: 5px' onclick='saveReply("+i+","+a.comment[i].id+")'> <i class='fa fa-save'></i></button></div>"+
				    "</div>"+
			      "</div>"+
			    "</div>"

			)

			jQuery.each(jQuery('textarea[data-autoresize]'), function() {
			    var offset = this.offsetHeight - this.clientHeight;
			 
			    var resizeTextarea = function(el) {
			        jQuery(el).css('height', 'auto').css('height', el.scrollHeight + offset);
			    };
			    jQuery(this).on('keyup input', function() { resizeTextarea(this); }).removeAttr('data-autoresize');
			});

		}

		$('#commentcounter').text(c);

	});

}

jQuery.each(jQuery('textarea[data-autoresize]'), function() {
    var offset = this.offsetHeight - this.clientHeight;
 
    var resizeTextarea = function(el) {
        jQuery(el).css('height', 'auto').css('height', el.scrollHeight + offset);
    };
    jQuery(this).on('keyup input', function() { resizeTextarea(this); }).removeAttr('data-autoresize');
});

function showReply(i){

	$("#divreply_"+i).css({
		'display' : 'inline'
	})

}

function hideReply(i){

	$("#divreply_"+i).css({
		'display' : 'none'
	})

}

function saveReply(i,id){

	var uriID = URLID();

	var string = $('#txtreply_'+i).val();

	var datas = {

		id 			: uriID,
		msg  		: string,
		comment_id 	: id,
		username 	: $('#usernameid').text(),


	}

	if(datas.msg == ""){

		$('#txtreply_'+i).val('');
		$("#divreply_"+i).css({
			'display' : 'none'
		})

	}else{

		$.getJSON(serverip+"save_reply",datas,function(a){

			if(a == 1){

				$('#txtreply_'+i).val('');

				$("#divreply_"+i).css({
					'display' : 'none'
				})

				get_comments();

			}else{

				msgbox("Ooops... something went wrong while trying to save the comment.");

			}

		});
	}

}


function uploadFile(){

	if(!$('#txt_file').val()){

		$('#dropbox').html("<div class='alert alert-error'>Kindly select file...</div>");

     	setTimeout(function(){

     		$('#dropbox').html("");

     	},2000)

	}else{

		var datas = {
			id : URLID()
		}


		$.getJSON(serverip+"get_if_narrative",datas,function(a){

			console.log(a);

			if(a >= 1){

				$.confirm({
				    title: '<span class="red">Confirm Action!</span>',
				    content: 'There is an existing narrative report with this DROMIC Report. Do you wish to overwrite the existing file.',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-red',
				    		keys: ['enter', 'shift'],
				    		action: function(){
				    			
				    			var uriID 			= URLID(); 

								var property 		= document.getElementById('txt_file').files[0];

								var image_name 		= property.name;

								var extension  		= image_name.split('.').pop().toLowerCase();

								if(jQuery.inArray(extension,['doc','docx']) == -1){

									msgbox("Invalid File Extension. Kindly upload only word documents.");

								}

								var image_size = property.size;

								if(image_size > 2000000){

									msgbox("File size is too big!");

								}else{

									var form_data = new FormData();

									form_data.append('file',property);

									form_data.append('disaster_title_id',uriID);
									form_data.append('by_user',$('#usernameid').text());


									$.ajax({

										url 			: serverip+'upload_file',
										method 			: "POST",
										data 			: form_data,
										contentType 	: false,
										cache 			: false,
										processData 	: false,
										beforeSend 		: function(){
									     	$('#dropbox').html("<div class='alert alert-info'>File is uploading...</div>");
									    },   
									    success 		: function(data)
									    {
									     	$('#dropbox').html("<div class='alert alert-info'>File upload successful...</div>");

									     	setTimeout(function(){

									     		$('#dropbox').html("");

									     	},2000)

									     	$('#txt_file').val('');

									     	get_narrative_report();

									    }

									});

								}


				            }
				    	},
				    	cancelAction: {
				    		text: '<i class="fa fa-times-circle"></i> No',
				    		btnClass: 'btn-blue',
				    		action: function(){
				    			$('#txt_file').val('');
				    		}
				    	}
				    }
				});

			}else{

				var uriID 			= URLID(); 

				var property 		= document.getElementById('txt_file').files[0];

				var image_name 		= property.name;

				var extension  		= image_name.split('.').pop().toLowerCase();

				if(jQuery.inArray(extension,['doc','docx']) == -1){

					msgbox("Invalid File Extension. Kindly upload only word documents.");

				}

				var image_size = property.size;

				if(image_size > 2000000){

					msgbox("File size is too big!");

				}else{

					var form_data = new FormData();

					form_data.append('file',property);

					form_data.append('disaster_title_id',uriID);
					form_data.append('by_user',$('#usernameid').text());


					$.ajax({

						url 			: serverip+'upload_file',
						method 			: "POST",
						data 			: form_data,
						contentType 	: false,
						cache 			: false,
						processData 	: false,
						beforeSend 		: function(){
					     	$('#dropbox').html("<div class='alert alert-info'>File is uploading...</div>");
					    },   
					    success 		: function(data)
					    {
					     	$('#dropbox').html("<div class='alert alert-info'>File upload successful...</div>");

					     	setTimeout(function(){

					     		$('#dropbox').html("");

					     	},2000)

					     	$('#txt_file').val('');

					     	get_narrative_report();

					    }

					});
				}

			}

		});

	}


}	


$('#addnarrativebtn').click(function(){

	$('#addNarrativeModal').dialog("open");

})

function getColor(d) {
    return d > 1000 ? '#ff0000' :
           d > 500  ? '#ff4000' :
           d > 200  ? '#ff8000' :
           d > 100  ? '#ffbf00' :
           d > 50   ? '#ffff00' :
           d > 20   ? '#bfff00' :
           d > 0    ? '#80ff00' :
                      '#FFEFD5' ;
}

function style(feature) {
    return {
        fillColor: getColor(feature.properties.density),
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
    };
}

var map;

$('#map_per_region').hide();

$('#show_map_per_region').click(function(){

	$('#loader').show();

	var uriID = URLID();

	var datas = {

		id 			: uriID,
		regionid 	: $('#sel_regions').val()

	}

	$.getJSON(serverip+"get_map_region",datas,function(states){

		const options = {
			key : 'vJfnjvxXOQ7XdNkjcIWk1q1pTAqVgDtd'
		}

		if(map){
			map.remove();
		}

		$('#loader').hide();

		map = new L.map('mapid').setView([$('#xcoordinates').text(), $('#ycoordinates').text()], 7.5);

		// L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamxvbXBhZCIsImEiOiJjamV0ZG40N2YwNm40MzJxb3RxMnN5b2g4In0.q_GNXWnzRFMuPrZvHacgqA', {
		//     attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="http://mapbox.com">Mapbox</a>',
		//     maxZoom: 18,
		//     id: 'mapbox.light',
		//     accessToken: 'pk.eyJ1IjoiamxvbXBhZCIsImEiOiJjamV0ZG40N2YwNm40MzJxb3RxMnN5b2g4In0.q_GNXWnzRFMuPrZvHacgqA'
		// }).addTo(map);

		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
		    maxZoom: 18
		}).addTo(map);

		geojson = L.geoJson(states, {
		    style: style,
		    onEachFeature: onEachFeature
		}).addTo(map);

		var popup = L.popup();

		function highlightFeature(e) {
		    var layer = e.target;

		    layer.setStyle({
		        weight: 3,
		        color: '#666',
		        dashArray: '',
		        fillOpacity: 0.7
		    });

		    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
		        layer.bringToFront();
		    }
		    info.update(layer.feature.properties);
		}

		function resetHighlight(e) {
		    geojson.resetStyle(e.target);
		    info.update();
		}

		function zoomToFeature(e) {
			map.fitBounds(e.target.getBounds());
		    console.log(e.target.feature);
		}

		function onEachFeature(feature, layer) {
		    layer.on({
		        mouseover: highlightFeature,
		        mouseout: resetHighlight,
		        click: onMapClick
		    });
		}

		function onMapClick(e) {

		    var datas = {

		    	id 					: URLID(),
		    	municipality_id 	: e.target.feature.properties.municipality_id

		    };

		    $.getJSON(serverip+"get_feature_info",datas,function(a){

		    	var html = "<table class='table table-condensed table-bordered'>"+
		    					"<tbody>"+
		    						"<tr>"+
		    							"<th> Affected families (Inside EC) </th>"+
		    							"<th style='text-align: right'> "+addComma(a.inside[0].fam_cum)+" </th>"+
		    						"</tr>"+
		    						"<tr>"+
		    							"<th> Affected families (Outside EC) </th>"+
		    							"<th style='text-align: right'> "+addComma(a.outside[0].fam_cum)+" </th>"+
		    						"</tr>"+
		    						"<tr>"+
		    							"<th> Totally Damaged</th>"+
		    							"<th style='text-align: right'> "+addComma(a.dam_asst[0].totally_damaged)+" </th>"+
		    						"</tr>"+
		    						"<tr>"+
		    							"<th> Partially Damaged</th>"+
		    							"<th style='text-align: right'> "+addComma(a.dam_asst[0].partially_damaged)+" </th>"+
		    						"</tr>"+
		    						"<tr>"+
		    							"<th> Total Cost of DSWD Assistance</th>"+
		    							"<th style='text-align: right'> "+addCommaMoney(a.dam_asst[0].dswd_asst)+" </th>"+
		    						"</tr>"+
		    					"</tbody>"+
		    			   "</table>";

		    	popup
		        	.setLatLng(e.latlng)
		        	.setContent(html)
		        	.openOn(map);

		    });


		}

		var legend = L.control({position: 'bottomright'});

		legend.onAdd = function (map) {

		    var div = L.DomUtil.create('div', 'info legend'),
		        grades = [0, 10],
		        labels = [];

		    // // loop through our density intervals and generate a label with a colored square for each interval
		    // for (var i = 0; i < grades.length; i++) {
		    //     div.innerHTML +=
		    //         '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
		    //         grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
		    // }

	           	div.innerHTML += '<i style="background-color: #ff0000"></i> > 1000 families <br>';
	           	div.innerHTML += '<i style="background-color: #ff4000"></i> > 500 but less than 1001 families <br>';
	           	div.innerHTML += '<i style="background-color: #ff8000"></i> > 200 but less than 501 families <br>';
	           	div.innerHTML += '<i style="background-color: #ffbf00"></i> > 100 but less than 201 families <br>';
	           	div.innerHTML += '<i style="background-color: #ffff00"></i> > 50 but less than 101 families <br>';
	           	div.innerHTML += '<i style="background-color: #bfff00"></i> > 20 but less than 51 families <br>';
			    div.innerHTML += '<i style="background-color: #80ff00"></i> > 0 but less than 21 families <br>';
			    div.innerHTML += '<i style="background-color: #FFEFD5"></i>No Reported Displacement<br>';

		    return div;
		};

		legend.addTo(map);

		var info = L.control();

		info.onAdd = function (map) {
		    this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
		    this.update();
		    return this._div;
		};

		// method that we will use to update the control based on feature properties passed
		info.update = function (props) {
		    this._div.innerHTML = '<h4>Number of Displaced Families (Inside EC + Outside EC)</h4>' +  (props ?
		        '<span style="color: #FAEDB8"><b>' + props.municipality_name + ', ' + props.province_name + '</b> - ' + addCommaMap(props.density) + ' ' + family(props.density) + '</span> <h5>Click for more info.</h5> ' + ''
		        : 'Hover over a municipality');
		};

		info.addTo(map);

	});

})

$('#disaster_map').click(function(){

	if($('#user_level_access_session').text() == 'national'){

		$('#map_per_region').show();

		$('#sel_regions').empty().append("<option value=''>--- Select Region to View ---</option>")

		for(var i in regions){

			$('#sel_regions').append(
				"<option value='"+regions[i].id+"'>"+regions[i].name+"</option>"
			);

		}

	}else{

		$('#loader').show();

		var uriID = URLID();

		var datas = {

			id : uriID

		}

		$.getJSON(serverip+"get_map",datas,function(states){

			const options = {
				key : 'vJfnjvxXOQ7XdNkjcIWk1q1pTAqVgDtd'
			}

			if(map){
				map.remove();
			}

			$('#loader').hide();

			map = new L.map('mapid').setView([$('#xcoordinates').text(), $('#ycoordinates').text()], 7.5);

			// L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamxvbXBhZCIsImEiOiJjamV0ZG40N2YwNm40MzJxb3RxMnN5b2g4In0.q_GNXWnzRFMuPrZvHacgqA', {
			//     attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="http://mapbox.com">Mapbox</a>',
			//     maxZoom: 18,
			//     id: 'mapbox.light',
			//     accessToken: 'pk.eyJ1IjoiamxvbXBhZCIsImEiOiJjamV0ZG40N2YwNm40MzJxb3RxMnN5b2g4In0.q_GNXWnzRFMuPrZvHacgqA'
			// }).addTo(map);

			L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
			    maxZoom: 18
			}).addTo(map);

			geojson = L.geoJson(states, {
			    style: style,
			    onEachFeature: onEachFeature
			}).addTo(map);

			var popup = L.popup();

			function highlightFeature(e) {
			    var layer = e.target;

			    layer.setStyle({
			        weight: 3,
			        color: '#666',
			        dashArray: '',
			        fillOpacity: 0.7
			    });

			    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
			        layer.bringToFront();
			    }
			    info.update(layer.feature.properties);
			}

			function resetHighlight(e) {
			    geojson.resetStyle(e.target);
			    info.update();
			}

			function zoomToFeature(e) {
				map.fitBounds(e.target.getBounds());
			    console.log(e.target.feature);
			}

			function onEachFeature(feature, layer) {
			    layer.on({
			        mouseover: highlightFeature,
			        mouseout: resetHighlight,
			        click: onMapClick
			    });
			}

			function onMapClick(e) {

			    var datas = {

			    	id 					: URLID(),
			    	municipality_id 	: e.target.feature.properties.municipality_id

			    };

			    $.getJSON(serverip+"get_feature_info",datas,function(a){

			    	var html = "<table class='table table-condensed table-bordered'>"+
			    					"<tbody>"+
			    						"<tr>"+
			    							"<th> Affected families (Inside EC) </th>"+
			    							"<th style='text-align: right'> "+addComma(a.inside[0].fam_cum)+" </th>"+
			    						"</tr>"+
			    						"<tr>"+
			    							"<th> Affected families (Outside EC) </th>"+
			    							"<th style='text-align: right'> "+addComma(a.outside[0].fam_cum)+" </th>"+
			    						"</tr>"+
			    						"<tr>"+
			    							"<th> Totally Damaged</th>"+
			    							"<th style='text-align: right'> "+addComma(a.dam_asst[0].totally_damaged)+" </th>"+
			    						"</tr>"+
			    						"<tr>"+
			    							"<th> Partially Damaged</th>"+
			    							"<th style='text-align: right'> "+addComma(a.dam_asst[0].partially_damaged)+" </th>"+
			    						"</tr>"+
			    						"<tr>"+
			    							"<th> Total Cost of DSWD Assistance</th>"+
			    							"<th style='text-align: right'> "+addCommaMoney(a.dam_asst[0].dswd_asst)+" </th>"+
			    						"</tr>"+
			    					"</tbody>"+
			    			   "</table>";

			    	popup
			        	.setLatLng(e.latlng)
			        	.setContent(html)
			        	.openOn(map);

			    });


			}

			var legend = L.control({position: 'bottomright'});

			legend.onAdd = function (map) {

			    var div = L.DomUtil.create('div', 'info legend'),
			        grades = [0, 10],
			        labels = [];

			    // // loop through our density intervals and generate a label with a colored square for each interval
			    // for (var i = 0; i < grades.length; i++) {
			    //     div.innerHTML +=
			    //         '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
			    //         grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
			    // }

		           	div.innerHTML += '<i style="background-color: #ff0000"></i> > 1000 families <br>';
		           	div.innerHTML += '<i style="background-color: #ff4000"></i> > 500 but less than 1001 families <br>';
		           	div.innerHTML += '<i style="background-color: #ff8000"></i> > 200 but less than 501 families <br>';
		           	div.innerHTML += '<i style="background-color: #ffbf00"></i> > 100 but less than 201 families <br>';
		           	div.innerHTML += '<i style="background-color: #ffff00"></i> > 50 but less than 101 families <br>';
		           	div.innerHTML += '<i style="background-color: #bfff00"></i> > 20 but less than 51 families <br>';
				    div.innerHTML += '<i style="background-color: #80ff00"></i> > 0 but less than 21 families <br>';
				    div.innerHTML += '<i style="background-color: #FFEFD5"></i>No Reported Displacement<br>';

			    return div;
			};

			legend.addTo(map);

			var info = L.control();

			info.onAdd = function (map) {
			    this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
			    this.update();
			    return this._div;
			};

			// method that we will use to update the control based on feature properties passed
			info.update = function (props) {
			    this._div.innerHTML = '<h4>Number of Displaced Families (Inside EC + Outside EC)</h4>' +  (props ?
			        '<span style="color: #FAEDB8"><b>' + props.municipality_name + ', ' + props.province_name + '</b> - ' + addCommaMap(props.density) + ' ' + family(props.density) + '</span> <h5>Click for more info.</h5> ' + ''
			        : 'Hover over a municipality');
			};

			info.addTo(map);

		});
	}

})

function addCommaMap(item){
	if(isnull(item) == '-'){
		return item;
	}else{
		item = Number(item);
		return item.toLocaleString();
	}
}

function family(item){

	if(item <= 1){
		return 'family'; 
	}else{
		return 'families'
	}


}

var updateEC_rightclick = 0;

$('#openModalEC').click(function(){

	updateEC(contextmenuvalue);

	updateEC_rightclick = 1;

})

function updateECSexProfile(i){

	console.log(i);

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator");
	}else{

		$('#loader').show();


		$('#infant_male_cum').val('');
		$('#infant_male_now').val('');
		$('#infant_female_cum').val('');
		$('#infant_female_now').val('');
		$('#toddler_male_cum').val('');
		$('#toddler_male_now').val('');
		$('#toddler_female_cum').val('');
		$('#toddler_female_now').val('');
		$('#preschooler_male_cum').val('');
		$('#preschooler_male_now').val('');
		$('#preschooler_female_cum').val('');
		$('#preschooler_female_now').val('');
		$('#schoolage_male_cum').val('');
		$('#schoolage_male_now').val('');
		$('#schoolage_female_cum').val('');
		$('#schoolage_female_now').val('');
		$('#teenage_male_cum').val('');
		$('#teenage_male_now').val('');
		$('#teenage_female_cum').val('');
		$('#teenage_female_now').val('');
		$('#adult_male_cum').val('');
		$('#adult_male_now').val('');
		$('#adult_female_cum').val('');
		$('#adult_female_now').val('');
		$('#senior_male_cum').val('');
		$('#senior_male_now').val('');
		$('#senior_female_cum').val('');
		$('#senior_female_now').val('');
		$('#pregnant_cum').val('');
		$('#pregnant_now').val('');
		$('#lactating_cum').val('');
		$('#lactating_now').val('');
		$('#solo_cum').val('');
		$('#solo_now').val('');
		$('#ip_cum').val('');
		$('#ip_now').val('');
		$('#disable_male_cum').val('');
		$('#disable_male_now').val('');
		$('#disable_female_cum').val('');
		$('#disable_female_now').val('');

		var datas = {
			id : i
		}

		evac_id = i;

		$.getJSON(serverip+"getECDetailProfile",datas,function(a){

			evacuation_center_id = a.rs[0].evacuation_name;

			$('#addfaminsideECprovprofile').val(a.rs[0].provinceid);

			var pid = $('#addfaminsideECprovprofile').val();	

			$('#addfaminsideECcityprofile').empty();
			$('#addfaminsideECcityprofile').append(
			    "<option value=''>-- Select City/Municipality --</option>"
			);

		    for(var i in a.city){
	    		$('#addfaminsideECcityprofile').append(
			        "<option value='"+a.city[i].id+"'>"+a.city[i].municipality_name+"</option>"
			    )
		    }

		    $('#addfaminsideECcityprofile').val(a.rs[0].municipality_id);

		    autocompleteEC();

			$('#ecnameprofile').val(a.rs[0].ec_name);

			if(a.ecprofile.length > 0){

				$('#infant_male_cum').val(a.ecprofile[0].infant_male_cum);
				$('#infant_male_now').val(a.ecprofile[0].infant_male_now);
				$('#infant_female_cum').val(a.ecprofile[0].infant_female_cum);
				$('#infant_female_now').val(a.ecprofile[0].infant_female_now);
				$('#toddler_male_cum').val(a.ecprofile[0].toddler_male_cum);
				$('#toddler_male_now').val(a.ecprofile[0].toddler_male_now);
				$('#toddler_female_cum').val(a.ecprofile[0].toddler_female_cum);
				$('#toddler_female_now').val(a.ecprofile[0].toddler_female_now);
				$('#preschooler_male_cum').val(a.ecprofile[0].preschooler_male_cum);
				$('#preschooler_male_now').val(a.ecprofile[0].preschooler_male_now);
				$('#preschooler_female_cum').val(a.ecprofile[0].preschooler_female_cum);
				$('#preschooler_female_now').val(a.ecprofile[0].preschooler_female_now);
				$('#schoolage_male_cum').val(a.ecprofile[0].schoolage_male_cum);
				$('#schoolage_male_now').val(a.ecprofile[0].schoolage_male_now);
				$('#schoolage_female_cum').val(a.ecprofile[0].schoolage_female_cum);
				$('#schoolage_female_now').val(a.ecprofile[0].schoolage_female_now);
				$('#teenage_male_cum').val(a.ecprofile[0].teenage_male_cum);
				$('#teenage_male_now').val(a.ecprofile[0].teenage_male_now);
				$('#teenage_female_cum').val(a.ecprofile[0].teenage_female_cum);
				$('#teenage_female_now').val(a.ecprofile[0].teenage_female_now);
				$('#adult_male_cum').val(a.ecprofile[0].adult_male_cum);
				$('#adult_male_now').val(a.ecprofile[0].adult_male_now);
				$('#adult_female_cum').val(a.ecprofile[0].adult_female_cum);
				$('#adult_female_now').val(a.ecprofile[0].adult_female_now);
				$('#senior_male_cum').val(a.ecprofile[0].senior_male_cum);
				$('#senior_male_now').val(a.ecprofile[0].senior_male_now);
				$('#senior_female_cum').val(a.ecprofile[0].senior_female_cum);
				$('#senior_female_now').val(a.ecprofile[0].senior_female_now);
				$('#pregnant_cum').val(a.ecprofile[0].pregnant_cum);
				$('#pregnant_now').val(a.ecprofile[0].pregnant_now);
				$('#lactating_cum').val(a.ecprofile[0].lactating_cum);
				$('#lactating_now').val(a.ecprofile[0].lactating_now);
				$('#solo_cum').val(a.ecprofile[0].solo_cum);
				$('#solo_now').val(a.ecprofile[0].solo_now);
				$('#ip_cum').val(a.ecprofile[0].ip_cum);
				$('#ip_now').val(a.ecprofile[0].ip_now);
				$('#disable_male_cum').val(a.ecprofile[0].disable_male_cum);
				$('#disable_male_now').val(a.ecprofile[0].disable_male_now);
				$('#disable_female_cum').val(a.ecprofile[0].disable_female_cum);
				$('#disable_female_now').val(a.ecprofile[0].disable_female_now);

			}else{

				console.log(0);

			}

		});

		setTimeout(function(){
			$('#addfaminsideECProfile').dialog("open")
			$('#loader').hide();
		},500);
	}

}

function updateECFacilities(i){

	if($('#can_edit').text() == 'f'){
		msgbox("You're not allowed to edit this entry. Kindly contact the administrator");
	}else{

		$('#loader').show();

		var datas = {
			id : i
		}

		evac_id = i;

		$('#bathingmale').val('');
		$('#bathingfemale').val('');
		$('#compostpit').val('');
		$('#sealedtype').val('');
		$('#portaletmale').val('');
		$('#portaletfemale').val('');
		$('#portaletcommon').val('');
		$('#bathingcommon').val('');
		$('#childfriendly').val('');
		$('#womenfriendly').val('');
		$('#coupleroom').val('');
		$('#prayerroom').val('');
		$('#communitykitchen').val('');
		$('#wash').val('');
		$('#ramps').val('');
		$('#helpdesk').val('');
		$('#capacity').val('');
		$('#norooms').val('');

		$.getJSON(serverip+"getECDetailFacility",datas,function(a){

			evacuation_center_id = a.rs[0].evacuation_name;

			$('#addfaminsideECprovfacility').val(a.rs[0].provinceid);

			var pid = $('#addfaminsideECprovfacility').val();	

			$('#addfaminsideECcityfacility').empty();
			$('#addfaminsideECcityfacility').append(
			    "<option value=''>-- Select City/Municipality --</option>"
			);

		    for(var i in a.city){
	    		$('#addfaminsideECcityfacility').append(
			        "<option value='"+a.city[i].id+"'>"+a.city[i].municipality_name+"</option>"
			    )
		    }

		    $('#addfaminsideECcityfacility').val(a.rs[0].municipality_id);

			$('#ecnamefacility').val(a.rs[0].ec_name);

			if(a.ecfacility.length > 0){

				$('#bathingmale').val(a.ecfacility[0].bathing_cubicles_male);
				$('#bathingfemale').val(a.ecfacility[0].bathing_cubicles_female);
				$('#compostpit').val(a.ecfacility[0].compost_pit);
				$('#sealedtype').val(a.ecfacility[0].sealed);
				$('#portaletmale').val(a.ecfacility[0].portalets_male);
				$('#portaletfemale').val(a.ecfacility[0].portalets_female);
				$('#portaletcommon').val(a.ecfacility[0].portalets_common);
				$('#bathingcommon').val(a.ecfacility[0].bathing_cubicles_common);
				$('#childfriendly').val(a.ecfacility[0].child_space);
				$('#womenfriendly').val(a.ecfacility[0].women_space);
				$('#coupleroom').val(a.ecfacility[0].couple_room);
				$('#prayerroom').val(a.ecfacility[0].prayer_room);
				$('#communitykitchen').val(a.ecfacility[0].community_kitchen);
				$('#wash').val(a.ecfacility[0].wash);
				$('#ramps').val(a.ecfacility[0].ramps);
				$('#helpdesk').val(a.ecfacility[0].help_desk);
				$('#capacity').val(a.ecfacility[0].capacity);
				$('#norooms').val(a.ecfacility[0].no_of_rooms);
			}

		});

		setTimeout(function(){
			$('#addfaminsideECFacilities').dialog("open");
			$('#loader').hide();
		},500);

	}

}

function addFamIECFacilities(){

	if($('#bathingmale').val() == "" && $('#bathingfemale').val() == "" && $('#compostpit').val() == "" && $('#sealedtype').val() == "" && $('#portaletmale').val() == "" && $('#portaletfemale').val() == "" &&
		$('#portaletcommon').val() == "" && $('#bathingcommon').val() == "" && $('#childfriendly').val() == "" && $('#womenfriendly').val() == "" && $('#coupleroom').val() == "" && $('#prayerroom').val() == "" &&
		$('#communitykitchen').val() == "" && $('#wash').val() == "" && $('#ramps').val() == "" && $('#helpdesk').val() == "" && $('#capacity').val() == "" && $('#norooms').val() == ""
	){
		msgbox("Kindly fill some of the entries to continue!")
	}else{

		var datas = {
			province_id 				: $('#addfaminsideECprovfacility').val(),
			municipality_id 			: $('#addfaminsideECcityfacility').val(),
			disaster_title_id 			: URLID(),
			evac_id 					: evacuation_center_id,

			bathing_cubicles_male 		: $('#bathingmale').val(),
			bathing_cubicles_female 	: $('#bathingfemale').val(),
			compost_pit 				: $('#compostpit').val(),
			sealed 						: $('#sealedtype').val(),
			portalets_male 				: $('#portaletmale').val(),
			portalets_female 			: $('#portaletfemale').val(),
			portalets_common 			: $('#portaletcommon').val(),
			bathing_cubicles_common 	: $('#bathingcommon').val(),
			child_space 				: $('#childfriendly').val(),
			women_space 				: $('#womenfriendly').val(),
			couple_room 				: $('#coupleroom').val(),
			prayer_room 				: $('#prayerroom').val(),
			community_kitchen 			: $('#communitykitchen').val(),
			wash 						: $('#wash').val(),
			ramps 						: $('#ramps').val(),
			help_desk 					: $('#helpdesk').val(),
			capacity 					: $('#capacity').val(),
			no_of_rooms 				: $('#norooms').val()
		};

		$.getJSON(serverip+"saveFacilityData",datas,function(a){

			if(a == 1){
				alerts("Data successfully saved");

				$('#bathingmale').val('');
				$('#bathingfemale').val('');
				$('#compostpit').val('');
				$('#sealedtype').val('');
				$('#portaletmale').val('');
				$('#portaletfemale').val('');
				$('#portaletcommon').val('');
				$('#bathingcommon').val('');
				$('#childfriendly').val('');
				$('#womenfriendly').val('');
				$('#coupleroom').val('');
				$('#prayerroom').val('');
				$('#communitykitchen').val('');
				$('#wash').val('');
				$('#ramps').val('');
				$('#helpdesk').val('');
				$('#capacity').val('');
				$('#norooms').val('');

				$('#addfaminsideECFacilities').dialog("close")
				get_dromic(URLID());

			}else{

				msgbox("Ooops... something went wrong!!!");

			}

		});


	}
	
}

function updateSexandAge(ecid){

	updateECSexProfile(ecid);

}

function updateFacilities(ecid){

	updateECFacilities(ecid);

}

$('#openModalProfile').click(function(){

	updateECSexProfile(contextmenuvalue);

})


$('#openModalFacilities').click(function(){

	updateECFacilities(contextmenuvalue);

})

$('#pregnant_cum').blur(function(){

	$('#pregnant_now').val(this.value);

})

$('#lactating_cum').blur(function(){

	$('#lactating_now').val(this.value);

})

$('#solo_cum').blur(function(){

	$('#solo_now').val(this.value);

})

$('#ip_cum').blur(function(){

	$('#ip_now').val(this.value);

})

$('#ip_cum').blur(function(){

	$('#ip_now').val(this.value);

})

$('#infant_male_cum').blur(function(){

	$('#infant_male_now').val(this.value);

})

$('#infant_female_cum').blur(function(){

	$('#infant_female_now').val(this.value);

})

$('#toddler_male_cum').blur(function(){

	$('#toddler_male_now').val(this.value);

})

$('#toddler_female_cum').blur(function(){

	$('#toddler_female_now').val(this.value);

})

$('#preschooler_male_cum').blur(function(){

	$('#preschooler_male_now').val(this.value);

})

$('#preschooler_female_cum').blur(function(){

	$('#preschooler_female_now').val(this.value);

})

$('#schoolage_male_cum').blur(function(){

	$('#schoolage_male_now').val(this.value);

})

$('#schoolage_female_cum').blur(function(){

	$('#schoolage_female_now').val(this.value);

})

$('#teenage_male_cum').blur(function(){

	$('#teenage_male_now').val(this.value);

})

$('#teenage_female_cum').blur(function(){

	$('#teenage_female_now').val(this.value);

})

$('#adult_male_cum').blur(function(){

	$('#adult_male_now').val(this.value);

})

$('#adult_female_cum').blur(function(){

	$('#adult_female_now').val(this.value);

})

$('#senior_male_cum').blur(function(){

	$('#senior_male_now').val(this.value);

})

$('#senior_female_cum').blur(function(){

	$('#senior_female_now').val(this.value);

})

$('#disable_male_cum').blur(function(){

	$('#disable_male_now').val(this.value);

})

$('#disable_female_cum').blur(function(){

	$('#disable_female_now').val(this.value);

})

$( function() {

    $( "#dialog" ).dialog({
      autoOpen 		: false,
      width 		: 750,
      dialogClass 	: 'alert'
    });

    $('#adddamageasst').dialog({
      autoOpen 		: false,
      width 		: 750,
      dialogClass 	: 'alert'
    });

    $('#addfaminsideEC').dialog({
      autoOpen 		: false,
      width 		: 1100,
      dialogClass 	: 'alert'
    });

    $('#addfaminsideECProfile').dialog({
      autoOpen 		: false,
      width 		: 1100,
      dialogClass 	: 'alert'
    });

    $('#addfaminsideECFacilities').dialog({
      autoOpen 		: false,
      width 		: 1100,
      dialogClass 	: 'alert'
    });

    $('#addfamOEC').dialog({
      autoOpen 		: false,
      width 		: 1100,
      dialogClass 	: 'alert'
    });

    $('#addfamnInside').dialog({
      autoOpen 		: false,
      width 		: 750,
      dialogClass 	: 'alert'
    });

    $('#addNarrativeModal').dialog({
      autoOpen 		: false,
      width 		: 750,
      dialogClass 	: 'alert'
    });

    $('#addCommentsModal').dialog({
      autoOpen 		: false,
      width 		: 1100,
      dialogClass 	: 'alert'
    });
 
    $( "#saveasnewrecord" ).on( "click", function() {
      $( "#dialog" ).dialog( "open" );
    });

} );


$(function() {

	$.contextMenu({
        selector: '.contextmenu_click', 
        callback: function(key, options) {

        	if(key == "cost"){

	            var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					$('#adddamageasst').dialog("open");
					$('#upDamAss').show();
					$('#deleteDamAss').show();
					$('#saveDamAss').hide();

					var datas = {

		            	municipality_id : str,
		            	URLID 			: URLID()

		            }

					upDamAssid = [];

					$.getJSON(serverip+"getDamAssMain",datas,function(a){

						upDamAssid.push(a.rs[0].id);

						$('#addDamprov').val(a.city[0].provinceid);

						$('#addDamcity').empty().append(
							"<option value=''>-- Select City/Municipality --</option>"
						);
						for(var j in a.city){
							$('#addDamcity').append(
								"<option value='"+a.city[j].id+"'>"+a.city[j].municipality_name+"</option>"
							);
						}

						$('#addDamcity').val(a.rs[0].municipality_id);			
						$('#ntotally').val(a.rs[0].totally_damaged);
						$('#npartially').val(a.rs[0].partially_damaged);
						$('#ndead').val(a.rs[0].dead);
						$('#nmising').val(a.rs[0].missing);
						$('#ninjured').val(a.rs[0].injured);
						$('#ndswd').val(a.rs[0].dswd_asst);
						$('#nlgu').val(a.rs[0].lgu_asst);
						$('#nngo').val(a.rs[0].ngo_asst);

						$('#addDamprov').prop("disabled",1);
						$('#addDamcity').prop("disabled",1);

						if(typeof a.rs[0].id === "undefined" || a.rs[0].id == null){

							$('#upDamAss').hide();
							$('#deleteDamAss').hide();
							$('#saveDamAss').show();

						}

					});
				}

	        }else if(key == "all_affected"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

				if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					$('#addfamnInside').dialog("open");

					var datas = {

		            	municipality_id : str,
		            	URLID 			: URLID()

		            }

					$.getJSON(serverip+"getAllAffected",datas,function(a){

						$('#addfamNinsideECprov').val(a.city[0].provinceid);

						$('#addfamNinsideECcity').empty().append(
							"<option value=''>-- Select City/Municipality --</option>"
						);

						for(var j in a.city){
							$('#addfamNinsideECcity').append(
								"<option value='"+a.city[j].id+"'>"+a.city[j].municipality_name+"</option>"
							);
						}

						$('#addfamNinsideECcity').val(a.rs[0].municipality_id);
						$('#ecnbrgy').val(a.rs[0].brgy_affected);
						$('#ecnfamcum').val(a.rs[0].fam_no);
						$('#ecnpercum').val(a.rs[0].person_no);

					});
				}

	        }else if(key == "dswd_assistance"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					var datas = {

		            	municipality_id : str

		            }

					$.getJSON(serverip+"getmunicipality",datas,function(a){

						$('#provinceAssistance').val(a[0].provinceid);

						$('#cityAssistance').empty().append(
							"<option value=''>-- Select City/Municipality --</option>"
						);

						for(var j in a){
							$('#cityAssistance').append(
								"<option value='"+a[j].id+"'>"+a[j].municipality_name+"</option>"
							);
						}

						$('#cityAssistance').val(str);

						activaTab('assistance');

					});
				}
	        }else if(key == "house_damage"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					var datas = {

		            	municipality_id : str

		            }

					$.getJSON(serverip+"getmunicipality",datas,function(a){

						$('#province_dam_per_brgy').val(a[0].provinceid);

						$('#city_dam_per_brgy').empty().append(
							"<option value=''>-- Select City/Municipality --</option>"
						);

						for(var j in a){
							$('#city_dam_per_brgy').append(
								"<option value='"+a[j].id+"'>"+a[j].municipality_name+"</option>"
							);
						}

						$('#city_dam_per_brgy').val(str);

						activaTab('damagesperbrgy');

					});
				}

	        }

        },
        items: {
            "cost": {name: "Update Cost of Assistance Data (LGU)", icon: "fa-money"},
            "sep": "------------------",
            "all_affected": {name: "Update Total Affected Families and Persons", icon: "fa-users"},
            "sep1": "------------------",
            "dswd_assistance": {name: "Add/Update DSWD Assistance Data", icon: "fa-heart"},
            "sep2": "------------------",
            "house_damage": {name: "Add/Update House Damages Data", icon: "fa-home"},
        }
    });

    $('.contextmenu_click').on('click', function(e){
        console.log('clicked', this);
    })

    $.contextMenu({
        selector: '.contextmenu_click_ec', 
        callback: function(key, options) {

        	if(key == "ec"){

	            var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{
					updateEC(str);
				}

	        }else if(key == "ec_sex"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	        	if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{
					updateECSexProfile(str);
				}

	        }else if(key == "ec_facilities"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	        	if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{
					updateECFacilities(str);
				}

	        }else if(key == "ec_clear"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	        	if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{
					clearECUpdate(str);
				}

	        }

        },
        items: {
            "ec": {name: "Update Evacuation Center Data", icon: "fa-home"},
            "sep": "------------------",
            "ec_clear": {name: "Clear field and add evacuees in this EC", icon: "fa-trash"},
            "sep1": "------------------",
            "ec_sex": {name: "Update Sex and Age Ditribution Data", icon: "fa-intersex"},
            "sep2": "------------------",
            "ec_facilities": {name: "Update Evacuation Center Facilities Data", icon: "fa-building-o"},

        }
    });

    $('.contextmenu_click_ec').on('click', function(e){
        console.log('clicked', this);
    }) 

});

function activaTab(tab){
    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
};


$('#addfamaffected').click(function(){

	$('#addfamnInside').dialog('open');

	if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

		$('#addfamNinsideECprov').val("");
		$('#addfaminsideECcity').val('');

	}else if($('#user_level_access_session').text() == 'province'){

		$('#addfamNinsideECcity').val("");

	}

	$('#ecnfamcum').val("");
	$('#ecnpercum').val("");

})

function addnFamIEC(){

	if($('#addfamNinsideECprov').val() == "" || $('#addfamNinsideECcity').val() == "" || $('#ecnfamcum').val() == "" || $('#ecnpercum').val() == "" || $('#ecnbrgy').val() == ""){

		msgbox("Kindly fill, province, municipality, affected families and affected persons to continue!");

	}else{

		var datas = {

			provinceid 			: $('#addfamNinsideECprov').val(),
			municipality_id 	: $('#addfamNinsideECcity').val(),
			fam_no 				: $('#ecnfamcum').val(),
			person_no 			: $('#ecnpercum').val(),
			disaster_title_id 	: URLID(),
			brgy_affected  		: $('#ecnbrgy').val()
 
		};

		$.getJSON(serverip+"save_affected",datas,function(a){

			if(a == 1){

				$.confirm({
				    title: '<span class="green">Success</span>',
				    content: 'Data sucessfully saved!',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-success',
				    		keys: ['enter'],
				    		action: function(){

				    			if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

				    				$('#addfamNinsideECprov').val("");
									$('#addfamNinsideECcity').val("");

				    			}else if($('#user_level_access_session').text() == 'province'){

				    				$('#addfamNinsideECcity').val("");

				    			}

				    			$('#ecnbrgy').val("");
								$('#ecnfamcum').val("");
								$('#ecnpercum').val("");

								$('#addfamnInside').dialog('close');

								get_dromic(URLID());

				            }
				    	}
				    }
				});


			}else if(a == 2){

				$.confirm({
				    title: '<span class="red">Warning</span>',
				    content: 'Municipality already exist! Do you want to update existing data?',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-danger',
				    		keys: ['enter'],
				    		action: function(){

				    			$.getJSON(serverip+"save_affected2",datas,function(a){

				    				$.confirm({
									    title: '<span class="green">Success</span>',
									    content: 'Data sucessfully saved!',
									    buttons: {
									    	confirmAction: {
									    		text: '<i class="fa fa-check"></i> Yes',
									    		btnClass: 'btn-success',
									    		keys: ['enter'],
									    		action: function(){

									    			if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

									    				$('#addfamNinsideECprov').val("");
														$('#addfamNinsideECcity').val("");

									    			}else if($('#user_level_access_session').text() == 'province'){

									    				$('#addfamNinsideECcity').val("");
									    				
									    			}

									    			$('#ecnbrgy').val("");
													$('#ecnfamcum').val("");
													$('#ecnpercum').val("");

													$('#addfamnInside').dialog('close');

													get_dromic(URLID());

									            }
									    	}
									    }
									});

				    			});
				            }
				    	},cancelAction: {
				    		text: '<i class="fa fa-times-circle"></i> Cancel',
				    		btnClass: 'btn-blue'
				    	}
				    }
				});

			}else{

				alertError();

			}

		});

	}

}

function addnFamAECS(){

	if($('#addfamNinsideECprov').val() == "" || $('#addfamNinsideECcity').val() == "" || $('#ecnfamcum').val() == "" || $('#ecnpercum').val() == "" || $('#ecnbrgy').val() == ""){

		msgbox("Kindly fill, province, municipality, affected families and affected persons to continue!");

	}else{

		var datas = {

			provinceid 			: $('#addfamNinsideECprov').val(),
			municipality_id 	: $('#addfamNinsideECcity').val(),
			fam_no 				: $('#ecnfamcum').val(),
			person_no 			: $('#ecnpercum').val(),
			disaster_title_id 	: URLID(),
			brgy_affected  		: $('#ecnbrgy').val()
 
		};

		$.getJSON(serverip+"save_affected",datas,function(a){

			if(a == 1){

				$.confirm({
				    title: '<span class="green">Success</span>',
				    content: 'Data sucessfully saved!',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-success',
				    		keys: ['enter'],
				    		action: function(){

				    			if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

				    				$('#addfamNinsideECprov').val("");
									$('#addfamNinsideECcity').val("");

				    			}else if($('#user_level_access_session').text() == 'province'){

				    				$('#addfamNinsideECcity').val("");
				    				
				    			}

				    			$('#ecnbrgy').val("");
								$('#ecnfamcum').val("");
								$('#ecnpercum').val("");

								get_dromic(URLID());

				            }
				    	}
				    }
				});


			}else if(a == 2){

				$.confirm({
				    title: '<span class="red">Warning</span>',
				    content: 'Municipality already exist! Do you want to update existing data?',
				    buttons: {
				    	confirmAction: {
				    		text: '<i class="fa fa-check"></i> Yes',
				    		btnClass: 'btn-danger',
				    		keys: ['enter'],
				    		action: function(){

				    			$.getJSON(serverip+"save_affected2",datas,function(a){

				    				$.confirm({
									    title: '<span class="green">Success</span>',
									    content: 'Data sucessfully saved!',
									    buttons: {
									    	confirmAction: {
									    		text: '<i class="fa fa-check"></i> Yes',
									    		btnClass: 'btn-success',
									    		keys: ['enter'],
									    		action: function(){

									    			if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

									    				$('#addfamNinsideECprov').val("");
														$('#addfamNinsideECcity').val("");

									    			}else if($('#user_level_access_session').text() == 'province'){

									    				$('#addfamNinsideECcity').val("");
									    				
									    			}

									    			$('#ecnbrgy').val("");
													$('#ecnfamcum').val("");
													$('#ecnpercum').val("");

													get_dromic(URLID());

									            }
									    	}
									    }
									});

				    			});
				            }
				    	},cancelAction: {
				    		text: '<i class="fa fa-times-circle"></i> Cancel',
				    		btnClass: 'btn-blue'
				    	}
				    }
				});

			}else{

				alertError();

			}

		});

	}

}

function delnFamAECS(){

	var datas = {
		municipality_id 	: $('#addfamNinsideECcity').val(),
		disaster_title_id 	: URLID(),
	};

	$.confirm({
	    title: '<span class="red">Warning</span>',
	    content: 'Do you realy want to delete this data?',
	    buttons: {
	    	confirmAction: {
	    		text: '<i class="fa fa-check"></i> Yes',
	    		btnClass: 'btn-danger',
	    		keys: ['enter'],
	    		action: function(){

	    			$.getJSON(serverip+"delete_affected",datas,function(a){

	    				if(a == 1){

		    				$.confirm({
							    title: '<span class="green">Success</span>',
							    content: 'Data sucessfully saved!',
							    buttons: {
							    	confirmAction: {
							    		text: '<i class="fa fa-check"></i> Yes',
							    		btnClass: 'btn-success',
							    		keys: ['enter'],
							    		action: function(){

							    			if($('#user_level_access_session').text() == 'region' || $('#user_level_access_session').text() == 'national'){

							    				$('#addfamNinsideECprov').val("");
												$('#addfamNinsideECcity').val("");

							    			}else if($('#user_level_access_session').text() == 'province'){

							    				$('#addfamNinsideECcity').val("");
							    				
							    			}

							    			$('#ecnbrgy').val("");
											$('#ecnfamcum').val("");
											$('#ecnpercum').val("");

											$('#addfamnInside').dialog('close');

											get_dromic(URLID());

							            }
							    	}
							    }
							});

		    			}else{

		    				$.confirm({
							    title: '<span class="red">Error</span>',
							    content: 'Error in saving data, please try again!',
							    buttons: {
							    	confirmAction: {
							    		text: '<i class="fa fa-check"></i> Ok',
							    		btnClass: 'btn-danger',
							    		keys: ['enter'],
							    		action: function(){

							    			console.log(1);

							            }
							    	}
							    }
							});

		    			}

	    			});
	            }
	    	},cancelAction: {
	    		text: '<i class="fa fa-times-circle"></i> Cancel',
	    		btnClass: 'btn-blue'
	    	}
	    }
	});

}

var contextmenuvalue = 0;


$(function() {

	$.contextMenu({
        selector: '.evacstat', 
        callback: function(key, options) {

        	if(key == "updatec"){

	            var str = options.$trigger[0].classList[1];

	            console.log(str);
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					contextmenuvalue = str;

					updateEC(contextmenuvalue);

					updateEC_rightclick = 1;

				}

	        }else if(key == "clearec"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

				if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					contextmenuvalue = str;
					clearECUpdate(contextmenuvalue);

				}

	        }else if(key == "sexec"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					contextmenuvalue = str;

					updateECSexProfile(contextmenuvalue);

				}
	        }else if(key == "facilityex"){

	        	var str = options.$trigger[0].classList[1];
	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					contextmenuvalue = str;

					updateECFacilities(contextmenuvalue);

				}

	        }

        },
        items: {
            "updatec": {name: "Update/Delete Evacuation Center Data", icon: "fa-home"},
            "sep": "------------------",
            "clearec": {name: "Clear field and add evacuees in this EC", icon: "fa-trash"},
            "sep1": "------------------",
            "sexec": {name: "Add/Update Sex and Age Distribution Data", icon: "fa-intersex"},
            "sep2": "------------------",
            "facilityex": {name: "Add/Update Evacuation Center Facility", icon: "fa-building-o"},
        }
    });

    $('.evacstat').on('click', function(e){
        console.log('clicked', this);
    })
});


$(function() {

	$.contextMenu({
        selector: '.contextmenu_brgy', 
        callback: function(key, options) {

        	if(key == "updatebrgy_damage"){

	            var str = options.$trigger[0].classList[1];

	            str = str.split(".");
	            str = str[1];

	            if($('#can_edit').text() == 'f'){

					msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

				}else{

					
					if($('#can_edit').text() == 'f'){

						msgbox("You're not allowed to edit this entry. Kindly contact the administrator.");

					}else{

						var datas = {

			            	brgy_id 			: str,
			            	disaster_title_id 	: URLID()

			            }

						$.getJSON(serverip+"getbrgy",datas,function(a){

							if(a.rs.length > 0){

								damage_per_brgy_id = a.rs[0].id;

								$('#province_dam_per_brgy').val(a.municipality[0].provinceid);

								$('#city_dam_per_brgy').empty().append(
									"<option value=''>-- Select City/Municipality --</option>"
								);

								for(var j in a.municipality){
									$('#city_dam_per_brgy').append(
										"<option value='"+a.municipality[j].id+"'>"+a.municipality[j].municipality_name+"</option>"
									);
								}

								$('#city_dam_per_brgy').val(a.rs[0].municipality_id);

								for(var o in a.brgy){
									$('#brgy_dam_per_brgy').append(
										"<option value='"+a.brgy[o].id+"'>"+a.brgy[o].brgy_name+"</option>"
									);
								}

								$('#brgy_dam_per_brgy').val(a.rs[0].brgy_id);

								$('#costasst_brgy').val(a.rs[0].costasst_brgy);
								$('#damperbrgy_totally').val(a.rs[0].totally_damaged);
								$('#damperbrgy_partially').val(a.rs[0].partially_damaged);

								activaTab('damagesperbrgy');

								$('#savedata_dam_per_brgy').hide();
								$('#updatedata_dam_per_brgy').show();
								$('#deldata_dam_per_brgy').show();

							}else{

								$('#province_dam_per_brgy').val(a.municipality[0].provinceid);

								$('#city_dam_per_brgy').empty().append(
									"<option value=''>-- Select City/Municipality --</option>"
								);

								for(var j in a.municipality){
									$('#city_dam_per_brgy').append(
										"<option value='"+a.municipality[j].id+"'>"+a.municipality[j].municipality_name+"</option>"
									);
								}

								$('#city_dam_per_brgy').val(a.ismunicipal[0]);

								for(var o in a.brgy){
									$('#brgy_dam_per_brgy').append(
										"<option value='"+a.brgy[o].id+"'>"+a.brgy[o].brgy_name+"</option>"
									);
								}

								$('#brgy_dam_per_brgy').val(str);

								$('#costasst_brgy').val("");
								$('#damperbrgy_totally').val("");
								$('#damperbrgy_partially').val("");

								activaTab('damagesperbrgy');

								$('#savedata_dam_per_brgy').show();
								$('#updatedata_dam_per_brgy').hide();
								$('#deldata_dam_per_brgy').hide();

							}

						});
					}


				}

	        }
        },
        items: {
            "updatebrgy_damage": {name: "Add/Update Damaged Houses in this Barangay", icon: "fa-home"},
        }
    });

    $('.contextmenu_brgy').on('click', function(e){
        console.log('clicked', this);
    })
});

function startIntro(){

	var intro = introJs();

	intro.setOptions({
	  steps : [
	    { 
	      intro: "Welcome to the <b>Caraga Disaster Response Reporting and Information Management System (CDRRIMS)</b>. This system enables you to consolidate disaster related information for the creation of DROMIC Statistical Report, which is a vital tool for DSWD's augmentation assistance. I hope you enjoy as I tour you around to the functionalities of the system."
	    },
	    {
			element: '#step1',
			intro: 'This top level button navigates you to every report tabs, for example, clicking the Main Report will navigate you to main report summary. Clicking the Status of Damages and Assistance will navigate you to status of damages and assistance tab and so on.',
		},
		{
			element: '#step2',
			intro: 'This is a sublevel menu which allows you to perform the add functionalities of the system. Click on the top level menu to navigate each report tabs and its correspnding sublevel menu.',
		},
		{
			element: '#step3',
			intro: "To add total affected families, click this button. After that a popup window will appear, kindly fill in the details in order for you continue saving. <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/total_affected.png'>",
		},
		{
			element: '#step4',
			intro: "To add LGU Cost of Assistance, click on this button. Then choose the <b>[Form 1.2 (Damage and Assistance per P/C/MLGU and NGOs  - F2)]</b> button. After that click on the button tagged as <b><span style ='color: #ea8825'> [<span class='fa fa-plus-circle'></span> Add Cost of Assistance (P/MLGU) - Ctrl+D]</span></b>. a popup window will appear, fill in the details to continue saving! <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/damage_assistance.png'>",
		},
		{
			element: '#step4',
			intro: "To add total damages and assistance per barangay, click on this button. Then choose <b> [Damages and Assistance per Barangay - F7] <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/damage_brgy2.png'>",
		},
		{
			element: '#step5',
			intro: "To add affected families inside EC click on this button. Then choose <b>[Form2 - (EC Evacuation - F3)]</b>, then click on the button tagged as <br><b><span style='color: #006400'>[<span class='fa fa-plus-circle'></span> Add Affected Families Inside EC (Ctrl+I)]</span></b>. After that, a popup window will appear, fill in the details to continue saving. <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/ec.png'>",
		},
		{
			element: '#step5',
			intro: "To add affected families outside EC click on this button. Then choose <b>[Form2 - (Outside EC Evacuations - F4)]</b>, then click on the button tagged as <b><span style='color: #006400'>[<span class='fa fa-plus-circle'></span> Add Affected Families Outside EC (Ctrl+Q)]</span></b>. After that, a popup window will appear, fill in the details to continue saving. <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/out.png'>",
		},
		{
			element: '#step5',
			intro: "To add sex disaggregated dataon evacuation centers, click on this button. Then choose <b>[Sex and Age Distribution Data Inside EC]</b>, after the double-click on the specific EC entry, a popup window will appear, fill in the details to continue saving. <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/sex.png'>",
		},
		{
			element: '#step5',
			intro: "To add evacuation center facilities, click on this button. Then choose <b>[Evacuation Center Facilities]</b>, after the double-click on the specific EC entry, a popup window will appear, fill in the details to continue saving. <b>See image</b> <br/> <image style='width: 100%; height: 500px; margin-top: 15px' src='../assets/images/faci.png'>",
		},
	  ]
	});

	intro.start();

//This page is a result of an autogenerated content made by running test.html with firefox.
}
// contextmenu_brgy


// $("body").on("contextmenu","#evac_stats tbody tr",function(e){
//   e.preventDefault();

//   contextmenuvalue = e.currentTarget.id;
//   contextmenuvalue = contextmenuvalue.replace(/\D/g,'');

//   if(contextmenuvalue == "" || contextmenuvalue == 0){

//   	console.log(1);

//   }else{

//   	console.log(contextmenuvalue);

//   	//$("#cntnr").css("left",e.pageX);
// 	//$("#cntnr").css("top",e.pageY);       
// 	//$("#cntnr").fadeIn(200,startFocusOut());

// 	$("#cntnr").show();
//   }
   

// });

// function startFocusOut(){
//   $(document).on("click",function(){
// 	  $("#cntnr").hide();        
// 	  //$(document).off("click");
//   });
// }


	




